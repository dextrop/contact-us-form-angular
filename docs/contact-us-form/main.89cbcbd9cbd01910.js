"use strict";var N3=Object.defineProperty,F3=Object.defineProperties,O3=Object.getOwnPropertyDescriptors,xA=Object.getOwnPropertySymbols,R3=Object.prototype.hasOwnProperty,k3=Object.prototype.propertyIsEnumerable,AA=(se,it,wt)=>it in se?N3(se,it,{enumerable:!0,configurable:!0,writable:!0,value:wt}):se[it]=wt,MA=(se,it)=>{for(var wt in it||(it={}))R3.call(it,wt)&&AA(se,wt,it[wt]);if(xA)for(var wt of xA(it))k3.call(it,wt)&&AA(se,wt,it[wt]);return se},NA=(se,it)=>F3(se,O3(it));(self.webpackChunkcontact_us_form=self.webpackChunkcontact_us_form||[]).push([[179],{869:()=>{function se(t){return"function"==typeof t}function it(t){const n=t(r=>{Error.call(r),r.stack=(new Error).stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}const wt=it(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:\n${n.map((r,i)=>`${i+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=n});function co(t,e){if(t){const n=t.indexOf(e);0<=n&&t.splice(n,1)}}class En{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;const{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(const s of n)s.remove(this);else n.remove(this);const{initialTeardown:r}=this;if(se(r))try{r()}catch(s){e=s instanceof wt?s.errors:[s]}const{_finalizers:i}=this;if(i){this._finalizers=null;for(const s of i)try{ov(s)}catch(o){e=null!=e?e:[],o instanceof wt?e=[...e,...o.errors]:e.push(o)}}if(e)throw new wt(e)}}add(e){var n;if(e&&e!==this)if(this.closed)ov(e);else{if(e instanceof En){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=null!==(n=this._finalizers)&&void 0!==n?n:[]).push(e)}}_hasParent(e){const{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){const{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){const{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&co(n,e)}remove(e){const{_finalizers:n}=this;n&&co(n,e),e instanceof En&&e._removeParent(this)}}En.EMPTY=(()=>{const t=new En;return t.closed=!0,t})();const iv=En.EMPTY;function sv(t){return t instanceof En||t&&"closed"in t&&se(t.remove)&&se(t.add)&&se(t.unsubscribe)}function ov(t){se(t)?t():t.unsubscribe()}const $r={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},cu={setTimeout(t,e,...n){const{delegate:r}=cu;return(null==r?void 0:r.setTimeout)?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){const{delegate:e}=cu;return((null==e?void 0:e.clearTimeout)||clearTimeout)(t)},delegate:void 0};function av(t){cu.setTimeout(()=>{const{onUnhandledError:e}=$r;if(!e)throw t;e(t)})}function uv(){}const FA=ld("C",void 0,void 0);function ld(t,e,n){return{kind:t,value:e,error:n}}let Gr=null;function du(t){if($r.useDeprecatedSynchronousErrorHandling){const e=!Gr;if(e&&(Gr={errorThrown:!1,error:null}),t(),e){const{errorThrown:n,error:r}=Gr;if(Gr=null,n)throw r}}else t()}class cd extends En{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,sv(e)&&e.add(this)):this.destination=BA}static create(e,n,r){return new ho(e,n,r)}next(e){this.isStopped?hd(function RA(t){return ld("N",t,void 0)}(e),this):this._next(e)}error(e){this.isStopped?hd(function OA(t){return ld("E",void 0,t)}(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?hd(FA,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const PA=Function.prototype.bind;function dd(t,e){return PA.call(t,e)}class VA{constructor(e){this.partialObserver=e}next(e){const{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){hu(r)}}error(e){const{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){hu(r)}else hu(e)}complete(){const{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){hu(n)}}}class ho extends cd{constructor(e,n,r){let i;if(super(),se(e)||!e)i={next:null!=e?e:void 0,error:null!=n?n:void 0,complete:null!=r?r:void 0};else{let s;this&&$r.useDeprecatedNextContext?(s=Object.create(e),s.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&dd(e.next,s),error:e.error&&dd(e.error,s),complete:e.complete&&dd(e.complete,s)}):i=e}this.destination=new VA(i)}}function hu(t){$r.useDeprecatedSynchronousErrorHandling?function kA(t){$r.useDeprecatedSynchronousErrorHandling&&Gr&&(Gr.errorThrown=!0,Gr.error=t)}(t):av(t)}function hd(t,e){const{onStoppedNotification:n}=$r;n&&cu.setTimeout(()=>n(t,e))}const BA={closed:!0,next:uv,error:function LA(t){throw t},complete:uv},fd="function"==typeof Symbol&&Symbol.observable||"@@observable";function lv(t){return t}let Et=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){const r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){const s=function UA(t){return t&&t instanceof cd||function jA(t){return t&&se(t.next)&&se(t.error)&&se(t.complete)}(t)&&sv(t)}(n)?n:new ho(n,r,i);return du(()=>{const{operator:o,source:a}=this;s.add(o?o.call(s,a):a?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return new(r=dv(r))((i,s)=>{const o=new ho({next:a=>{try{n(a)}catch(u){s(u),o.unsubscribe()}},error:s,complete:i});this.subscribe(o)})}_subscribe(n){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(n)}[fd](){return this}pipe(...n){return function cv(t){return 0===t.length?lv:1===t.length?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}(n)(this)}toPromise(n){return new(n=dv(n))((r,i)=>{let s;this.subscribe(o=>s=o,o=>i(o),()=>r(s))})}}return t.create=e=>new t(e),t})();function dv(t){var e;return null!==(e=null!=t?t:$r.Promise)&&void 0!==e?e:Promise}const HA=it(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let pd=(()=>{class t extends Et{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){const r=new hv(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new HA}next(n){du(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const r of this.currentObservers)r.next(n)}})}error(n){du(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;const{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){du(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return(null===(n=this.observers)||void 0===n?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){const{hasError:r,isStopped:i,observers:s}=this;return r||i?iv:(this.currentObservers=null,s.push(n),new En(()=>{this.currentObservers=null,co(s,n)}))}_checkFinalizedStatuses(n){const{hasError:r,thrownError:i,isStopped:s}=this;r?n.error(i):s&&n.complete()}asObservable(){const n=new Et;return n.source=this,n}}return t.create=(e,n)=>new hv(e,n),t})();class hv extends pd{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.next)||void 0===r||r.call(n,e)}error(e){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.error)||void 0===r||r.call(n,e)}complete(){var e,n;null===(n=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===n||n.call(e)}_subscribe(e){var n,r;return null!==(r=null===(n=this.source)||void 0===n?void 0:n.subscribe(e))&&void 0!==r?r:iv}}function fo(t){return e=>{if(function $A(t){return se(null==t?void 0:t.lift)}(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function po(t,e,n,r,i){return new GA(t,e,n,r,i)}class GA extends cd{constructor(e,n,r,i,s,o){super(e),this.onFinalize=s,this.shouldUnsubscribe=o,this._next=n?function(a){try{n(a)}catch(u){e.error(u)}}:super._next,this._error=i?function(a){try{i(a)}catch(u){e.error(u)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:n}=this;super.unsubscribe(),!n&&(null===(e=this.onFinalize)||void 0===e||e.call(this))}}}function gd(t,e){return fo((n,r)=>{let i=0;n.subscribe(po(r,s=>{r.next(t.call(e,s,i++))}))})}function qr(t){return this instanceof qr?(this.v=t,this):new qr(t)}function WA(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,r=n.apply(t,e||[]),s=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(h){r[h]&&(i[h]=function(f){return new Promise(function(p,g){s.push([h,f,p,g])>1||a(h,f)})})}function a(h,f){try{!function u(h){h.value instanceof qr?Promise.resolve(h.value.v).then(l,c):d(s[0][2],h)}(r[h](f))}catch(p){d(s[0][3],p)}}function l(h){a("next",h)}function c(h){a("throw",h)}function d(h,f){h(f),s.shift(),s.length&&a(s[0][0],s[0][1])}}function KA(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,e=t[Symbol.asyncIterator];return e?e.call(t):(t=function gv(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(t),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(s){n[s]=t[s]&&function(o){return new Promise(function(a,u){!function i(s,o,a,u){Promise.resolve(u).then(function(l){s({value:l,done:a})},o)}(a,u,(o=t[s](o)).done,o.value)})}}}const mv=t=>t&&"number"==typeof t.length&&"function"!=typeof t;function yv(t){return se(null==t?void 0:t.then)}function vv(t){return se(t[fd])}function _v(t){return Symbol.asyncIterator&&se(null==t?void 0:t[Symbol.asyncIterator])}function Dv(t){return new TypeError(`You provided ${null!==t&&"object"==typeof t?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const wv=function YA(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function Ev(t){return se(null==t?void 0:t[wv])}function Cv(t){return WA(this,arguments,function*(){const n=t.getReader();try{for(;;){const{value:r,done:i}=yield qr(n.read());if(i)return yield qr(void 0);yield yield qr(r)}}finally{n.releaseLock()}})}function bv(t){return se(null==t?void 0:t.getReader)}function ar(t){if(t instanceof Et)return t;if(null!=t){if(vv(t))return function ZA(t){return new Et(e=>{const n=t[fd]();if(se(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(t);if(mv(t))return function XA(t){return new Et(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}(t);if(yv(t))return function JA(t){return new Et(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,av)})}(t);if(_v(t))return Iv(t);if(Ev(t))return function eM(t){return new Et(e=>{for(const n of t)if(e.next(n),e.closed)return;e.complete()})}(t);if(bv(t))return function tM(t){return Iv(Cv(t))}(t)}throw Dv(t)}function Iv(t){return new Et(e=>{(function nM(t,e){var n,r,i,s;return function qA(t,e,n,r){return new(n||(n=Promise))(function(s,o){function a(c){try{l(r.next(c))}catch(d){o(d)}}function u(c){try{l(r.throw(c))}catch(d){o(d)}}function l(c){c.done?s(c.value):function i(s){return s instanceof n?s:new n(function(o){o(s)})}(c.value).then(a,u)}l((r=r.apply(t,e||[])).next())})}(this,void 0,void 0,function*(){try{for(n=KA(t);!(r=yield n.next()).done;)if(e.next(r.value),e.closed)return}catch(o){i={error:o}}finally{try{r&&!r.done&&(s=n.return)&&(yield s.call(n))}finally{if(i)throw i.error}}e.complete()})})(t,e).catch(n=>e.error(n))})}function ur(t,e,n,r=0,i=!1){const s=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(s),!i)return s}function Tv(t,e,n=1/0){return se(e)?Tv((r,i)=>gd((s,o)=>e(r,s,i,o))(ar(t(r,i))),n):("number"==typeof e&&(n=e),fo((r,i)=>function rM(t,e,n,r,i,s,o,a){const u=[];let l=0,c=0,d=!1;const h=()=>{d&&!u.length&&!l&&e.complete()},f=g=>l<r?p(g):u.push(g),p=g=>{s&&e.next(g),l++;let m=!1;ar(n(g,c++)).subscribe(po(e,D=>{null==i||i(D),s?f(D):e.next(D)},()=>{m=!0},void 0,()=>{if(m)try{for(l--;u.length&&l<r;){const D=u.shift();o?ur(e,o,()=>p(D)):p(D)}h()}catch(D){e.error(D)}}))};return t.subscribe(po(e,f,()=>{d=!0,h()})),()=>{null==a||a()}}(r,i,t,n)))}const Sv=new Et(t=>t.complete());function yd(t){return t[t.length-1]}function xv(t,e=0){return fo((n,r)=>{n.subscribe(po(r,i=>ur(r,t,()=>r.next(i),e),()=>ur(r,t,()=>r.complete(),e),i=>ur(r,t,()=>r.error(i),e)))})}function Av(t,e=0){return fo((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function Mv(t,e){if(!t)throw new Error("Iterable cannot be null");return new Et(n=>{ur(n,e,()=>{const r=t[Symbol.asyncIterator]();ur(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function Nv(t,e){return e?function gM(t,e){if(null!=t){if(vv(t))return function cM(t,e){return ar(t).pipe(Av(e),xv(e))}(t,e);if(mv(t))return function hM(t,e){return new Et(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}(t,e);if(yv(t))return function dM(t,e){return ar(t).pipe(Av(e),xv(e))}(t,e);if(_v(t))return Mv(t,e);if(Ev(t))return function fM(t,e){return new Et(n=>{let r;return ur(n,e,()=>{r=t[wv](),ur(n,e,()=>{let i,s;try{({value:i,done:s}=r.next())}catch(o){return void n.error(o)}s?n.complete():n.next(i)},0,!0)}),()=>se(null==r?void 0:r.return)&&r.return()})}(t,e);if(bv(t))return function pM(t,e){return Mv(Cv(t),e)}(t,e)}throw Dv(t)}(t,e):ar(t)}function mM(...t){const e=function uM(t){return function oM(t){return t&&se(t.schedule)}(yd(t))?t.pop():void 0}(t),n=function lM(t,e){return"number"==typeof yd(t)?t.pop():e}(t,1/0),r=t;return r.length?1===r.length?ar(r[0]):function iM(t=1/0){return Tv(lv,t)}(n)(Nv(r,e)):Sv}function vd(t,e,...n){if(!0===e)return void t();if(!1===e)return;const r=new ho({next:()=>{r.unsubscribe(),t()}});return e(...n).subscribe(r)}function de(t){for(let e in t)if(t[e]===de)return e;throw Error("Could not find renamed property on target object.")}function _d(t,e){for(const n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function ae(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(ae).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const e=t.toString();if(null==e)return""+e;const n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}function Dd(t,e){return null==t||""===t?null===e?"":e:null==e||""===e?t:t+" "+e}const vM=de({__forward_ref__:de});function ge(t){return t.__forward_ref__=ge,t.toString=function(){return ae(this())},t}function K(t){return Fv(t)?t():t}function Fv(t){return"function"==typeof t&&t.hasOwnProperty(vM)&&t.__forward_ref__===ge}class J extends Error{constructor(e,n){super(function wd(t,e){return`NG0${Math.abs(t)}${e?": "+e:""}`}(e,n)),this.code=e}}function U(t){return"string"==typeof t?t:null==t?"":String(t)}function st(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():U(t)}function fu(t,e){const n=e?` in ${e}`:"";throw new J(-201,`No provider for ${st(t)} found${n}`)}function Gt(t,e){null==t&&function he(t,e,n,r){throw new Error(`ASSERTION ERROR: ${t}`+(null==r?"":` [Expected=> ${n} ${r} ${e} <=Actual]`))}(e,t,null,"!=")}function _e(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function Hn(t){return{providers:t.providers||[],imports:t.imports||[]}}function Ed(t){return Ov(t,pu)||Ov(t,kv)}function Ov(t,e){return t.hasOwnProperty(e)?t[e]:null}function Rv(t){return t&&(t.hasOwnProperty(Cd)||t.hasOwnProperty(IM))?t[Cd]:null}const pu=de({\u0275prov:de}),Cd=de({\u0275inj:de}),kv=de({ngInjectableDef:de}),IM=de({ngInjectorDef:de});var q=(()=>((q=q||{})[q.Default=0]="Default",q[q.Host=1]="Host",q[q.Self=2]="Self",q[q.SkipSelf=4]="SkipSelf",q[q.Optional=8]="Optional",q))();let bd;function lr(t){const e=bd;return bd=t,e}function Pv(t,e,n){const r=Ed(t);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:n&q.Optional?null:void 0!==e?e:void fu(ae(t),"Injector")}function cr(t){return{toString:t}.toString()}var un=(()=>((un=un||{})[un.OnPush=0]="OnPush",un[un.Default=1]="Default",un))(),Cn=(()=>{return(t=Cn||(Cn={}))[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",Cn;var t})();const SM="undefined"!=typeof globalThis&&globalThis,xM="undefined"!=typeof window&&window,AM="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,le=SM||"undefined"!=typeof global&&global||xM||AM,Li={},fe=[],gu=de({\u0275cmp:de}),Id=de({\u0275dir:de}),Td=de({\u0275pipe:de}),Vv=de({\u0275mod:de}),$n=de({\u0275fac:de}),go=de({__NG_ELEMENT_ID__:de});let MM=0;function mu(t){return cr(()=>{const n={},r={type:t.type,providersResolver:null,decls:t.decls,vars:t.vars,factory:null,template:t.template||null,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:n,inputs:null,outputs:null,exportAs:t.exportAs||null,onPush:t.changeDetection===un.OnPush,directiveDefs:null,pipeDefs:null,selectors:t.selectors||fe,viewQuery:t.viewQuery||null,features:t.features||null,data:t.data||{},encapsulation:t.encapsulation||Cn.Emulated,id:"c",styles:t.styles||fe,_:null,setInput:null,schemas:t.schemas||null,tView:null},i=t.directives,s=t.features,o=t.pipes;return r.id+=MM++,r.inputs=Uv(t.inputs,n),r.outputs=Uv(t.outputs),s&&s.forEach(a=>a(r)),r.directiveDefs=i?()=>("function"==typeof i?i():i).map(Lv):null,r.pipeDefs=o?()=>("function"==typeof o?o():o).map(Bv):null,r})}function Lv(t){return ft(t)||function hr(t){return t[Id]||null}(t)}function Bv(t){return function zr(t){return t[Td]||null}(t)}const jv={};function dr(t){return cr(()=>{const e={type:t.type,bootstrap:t.bootstrap||fe,declarations:t.declarations||fe,imports:t.imports||fe,exports:t.exports||fe,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null};return null!=t.id&&(jv[t.id]=t.type),e})}function Uv(t,e){if(null==t)return Li;const n={};for(const r in t)if(t.hasOwnProperty(r)){let i=t[r],s=i;Array.isArray(i)&&(s=i[1],i=i[0]),n[i]=r,e&&(e[i]=s)}return n}const H=mu;function ft(t){return t[gu]||null}function Jt(t,e){const n=t[Vv]||null;if(!n&&!0===e)throw new Error(`Type ${ae(t)} does not have '\u0275mod' property.`);return n}const Q=11;function bn(t){return Array.isArray(t)&&"object"==typeof t[1]}function cn(t){return Array.isArray(t)&&!0===t[1]}function Ad(t){return 0!=(8&t.flags)}function Du(t){return 2==(2&t.flags)}function wu(t){return 1==(1&t.flags)}function dn(t){return null!==t.template}function PM(t){return 0!=(512&t[2])}function Yr(t,e){return t.hasOwnProperty($n)?t[$n]:null}class BM{constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}}function Gn(){return $v}function $v(t){return t.type.prototype.ngOnChanges&&(t.setInput=UM),jM}function jM(){const t=qv(this),e=null==t?void 0:t.current;if(e){const n=t.previous;if(n===Li)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function UM(t,e,n,r){const i=qv(t)||function HM(t,e){return t[Gv]=e}(t,{previous:Li,current:null}),s=i.current||(i.current={}),o=i.previous,a=this.declaredInputs[n],u=o[a];s[a]=new BM(u&&u.currentValue,e,o===Li),t[r]=e}Gn.ngInherit=!0;const Gv="__ngSimpleChanges__";function qv(t){return t[Gv]||null}let Rd;function xe(t){return!!t.listen}const zv={createRenderer:(t,e)=>function kd(){return void 0!==Rd?Rd:"undefined"!=typeof document?document:void 0}()};function Le(t){for(;Array.isArray(t);)t=t[0];return t}function Eu(t,e){return Le(e[t])}function nn(t,e){return Le(e[t.index])}function Pd(t,e){return t.data[e]}function zt(t,e){const n=e[t];return bn(n)?n:n[0]}function Vd(t){return 128==(128&t[2])}function fr(t,e){return null==e?null:t[e]}function Kv(t){t[18]=0}function Ld(t,e){t[5]+=e;let n=t,r=t[3];for(;null!==r&&(1===e&&1===n[5]||-1===e&&0===n[5]);)r[5]+=e,n=r,r=r[3]}const $={lFrame:r_(null),bindingsEnabled:!0};function Yv(){return $.bindingsEnabled}function w(){return $.lFrame.lView}function ee(){return $.lFrame.tView}function Zr(t){return $.lFrame.contextLView=t,t[8]}function Ge(){let t=Zv();for(;null!==t&&64===t.type;)t=t.parent;return t}function Zv(){return $.lFrame.currentTNode}function In(t,e){const n=$.lFrame;n.currentTNode=t,n.isParent=e}function Bd(){return $.lFrame.isParent}function Gi(){return $.lFrame.bindingIndex++}function s1(t,e){const n=$.lFrame;n.bindingIndex=n.bindingRootIndex=t,Ud(e)}function Ud(t){$.lFrame.currentDirectiveIndex=t}function $d(t){$.lFrame.currentQueryIndex=t}function a1(t){const e=t[1];return 2===e.type?e.declTNode:1===e.type?t[6]:null}function t_(t,e,n){if(n&q.SkipSelf){let i=e,s=t;for(;!(i=i.parent,null!==i||n&q.Host||(i=a1(s),null===i||(s=s[15],10&i.type))););if(null===i)return!1;e=i,t=s}const r=$.lFrame=n_();return r.currentTNode=e,r.lView=t,!0}function bu(t){const e=n_(),n=t[1];$.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function n_(){const t=$.lFrame,e=null===t?null:t.child;return null===e?r_(t):e}function r_(t){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=e),e}function i_(){const t=$.lFrame;return $.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const s_=i_;function Iu(){const t=i_();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function bt(){return $.lFrame.selectedIndex}function pr(t){$.lFrame.selectedIndex=t}function Ae(){const t=$.lFrame;return Pd(t.tView,t.selectedIndex)}function Tu(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){const s=t.data[n].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:a,ngAfterViewInit:u,ngAfterViewChecked:l,ngOnDestroy:c}=s;o&&(t.contentHooks||(t.contentHooks=[])).push(-n,o),a&&((t.contentHooks||(t.contentHooks=[])).push(n,a),(t.contentCheckHooks||(t.contentCheckHooks=[])).push(n,a)),u&&(t.viewHooks||(t.viewHooks=[])).push(-n,u),l&&((t.viewHooks||(t.viewHooks=[])).push(n,l),(t.viewCheckHooks||(t.viewCheckHooks=[])).push(n,l)),null!=c&&(t.destroyHooks||(t.destroyHooks=[])).push(n,c)}}function Su(t,e,n){o_(t,e,3,n)}function xu(t,e,n,r){(3&t[2])===n&&o_(t,e,n,r)}function Gd(t,e){let n=t[2];(3&n)===e&&(n&=2047,n+=1,t[2]=n)}function o_(t,e,n,r){const s=null!=r?r:-1,o=e.length-1;let a=0;for(let u=void 0!==r?65535&t[18]:0;u<o;u++)if("number"==typeof e[u+1]){if(a=e[u],null!=r&&a>=r)break}else e[u]<0&&(t[18]+=65536),(a<s||-1==s)&&(m1(t,n,e,u),t[18]=(4294901760&t[18])+u+2),u++}function m1(t,e,n,r){const i=n[r]<0,s=n[r+1],a=t[i?-n[r]:n[r]];if(i){if(t[2]>>11<t[18]>>16&&(3&t[2])===e){t[2]+=2048;try{s.call(a)}finally{}}}else try{s.call(a)}finally{}}class Do{constructor(e,n,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}}function Au(t,e,n){const r=xe(t);let i=0;for(;i<n.length;){const s=n[i];if("number"==typeof s){if(0!==s)break;i++;const o=n[i++],a=n[i++],u=n[i++];r?t.setAttribute(e,a,u,o):e.setAttributeNS(o,a,u)}else{const o=s,a=n[++i];zd(o)?r&&t.setProperty(e,o,a):r?t.setAttribute(e,o,a):e.setAttribute(o,a),i++}}return i}function a_(t){return 3===t||4===t||6===t}function zd(t){return 64===t.charCodeAt(0)}function Mu(t,e){if(null!==e&&0!==e.length)if(null===t||0===t.length)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){const i=e[r];"number"==typeof i?n=i:0===n||u_(t,n,i,null,-1===n||2===n?e[++r]:null)}}return t}function u_(t,e,n,r,i){let s=0,o=t.length;if(-1===e)o=-1;else for(;s<t.length;){const a=t[s++];if("number"==typeof a){if(a===e){o=-1;break}if(a>e){o=s-1;break}}}for(;s<t.length;){const a=t[s];if("number"==typeof a)break;if(a===n){if(null===r)return void(null!==i&&(t[s+1]=i));if(r===t[s+1])return void(t[s+2]=i)}s++,null!==r&&s++,null!==i&&s++}-1!==o&&(t.splice(o,0,e),s=o+1),t.splice(s++,0,n),null!==r&&t.splice(s++,0,r),null!==i&&t.splice(s++,0,i)}function l_(t){return-1!==t}function qi(t){return 32767&t}function zi(t,e){let n=function w1(t){return t>>16}(t),r=e;for(;n>0;)r=r[15],n--;return r}let Wd=!0;function Nu(t){const e=Wd;return Wd=t,e}let E1=0;function Eo(t,e){const n=Qd(t,e);if(-1!==n)return n;const r=e[1];r.firstCreatePass&&(t.injectorIndex=e.length,Kd(r.data,t),Kd(e,null),Kd(r.blueprint,null));const i=Fu(t,e),s=t.injectorIndex;if(l_(i)){const o=qi(i),a=zi(i,e),u=a[1].data;for(let l=0;l<8;l++)e[s+l]=a[o+l]|u[o+l]}return e[s+8]=i,s}function Kd(t,e){t.push(0,0,0,0,0,0,0,0,e)}function Qd(t,e){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===e[t.injectorIndex+8]?-1:t.injectorIndex}function Fu(t,e){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;null!==i;){const s=i[1],o=s.type;if(r=2===o?s.declTNode:1===o?i[6]:null,null===r)return-1;if(n++,i=i[15],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return-1}function Ou(t,e,n){!function C1(t,e,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(go)&&(r=n[go]),null==r&&(r=n[go]=E1++);const i=255&r;e.data[t+(i>>5)]|=1<<i}(t,e,n)}function h_(t,e,n){if(n&q.Optional)return t;fu(e,"NodeInjector")}function f_(t,e,n,r){if(n&q.Optional&&void 0===r&&(r=null),0==(n&(q.Self|q.Host))){const i=t[9],s=lr(void 0);try{return i?i.get(e,r,n&q.Optional):Pv(e,r,n&q.Optional)}finally{lr(s)}}return h_(r,e,n)}function p_(t,e,n,r=q.Default,i){if(null!==t){const s=function S1(t){if("string"==typeof t)return t.charCodeAt(0)||0;const e=t.hasOwnProperty(go)?t[go]:void 0;return"number"==typeof e?e>=0?255&e:I1:e}(n);if("function"==typeof s){if(!t_(e,t,r))return r&q.Host?h_(i,n,r):f_(e,n,r,i);try{const o=s(r);if(null!=o||r&q.Optional)return o;fu(n)}finally{s_()}}else if("number"==typeof s){let o=null,a=Qd(t,e),u=-1,l=r&q.Host?e[16][6]:null;for((-1===a||r&q.SkipSelf)&&(u=-1===a?Fu(t,e):e[a+8],-1!==u&&y_(r,!1)?(o=e[1],a=qi(u),e=zi(u,e)):a=-1);-1!==a;){const c=e[1];if(m_(s,a,c.data)){const d=T1(a,e,n,o,r,l);if(d!==g_)return d}u=e[a+8],-1!==u&&y_(r,e[1].data[a+8]===l)&&m_(s,a,e)?(o=c,a=qi(u),e=zi(u,e)):a=-1}}}return f_(e,n,r,i)}const g_={};function I1(){return new Wi(Ge(),w())}function T1(t,e,n,r,i,s){const o=e[1],a=o.data[t+8],c=function Ru(t,e,n,r,i){const s=t.providerIndexes,o=e.data,a=1048575&s,u=t.directiveStart,c=s>>20,h=i?a+c:t.directiveEnd;for(let f=r?a:a+c;f<h;f++){const p=o[f];if(f<u&&n===p||f>=u&&p.type===n)return f}if(i){const f=o[u];if(f&&dn(f)&&f.type===n)return u}return null}(a,o,n,null==r?Du(a)&&Wd:r!=o&&0!=(3&a.type),i&q.Host&&s===a);return null!==c?Co(e,o,c,a):g_}function Co(t,e,n,r){let i=t[n];const s=e.data;if(function y1(t){return t instanceof Do}(i)){const o=i;o.resolving&&function _M(t,e){const n=e?`. Dependency path: ${e.join(" > ")} > ${t}`:"";throw new J(-200,`Circular dependency in DI detected for ${t}${n}`)}(st(s[n]));const a=Nu(o.canSeeViewProviders);o.resolving=!0;const u=o.injectImpl?lr(o.injectImpl):null;t_(t,r,q.Default);try{i=t[n]=o.factory(void 0,s,t,r),e.firstCreatePass&&n>=r.directiveStart&&function g1(t,e,n){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=e.type.prototype;if(r){const o=$v(e);(n.preOrderHooks||(n.preOrderHooks=[])).push(t,o),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,o)}i&&(n.preOrderHooks||(n.preOrderHooks=[])).push(0-t,i),s&&((n.preOrderHooks||(n.preOrderHooks=[])).push(t,s),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,s))}(n,s[n],e)}finally{null!==u&&lr(u),Nu(a),o.resolving=!1,s_()}}return i}function m_(t,e,n){return!!(n[e+(t>>5)]&1<<t)}function y_(t,e){return!(t&q.Self||t&q.Host&&e)}class Wi{constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return p_(this._tNode,this._lView,e,r,n)}}function gt(t){return cr(()=>{const e=t.prototype.constructor,n=e[$n]||Yd(e),r=Object.prototype;let i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){const s=i[$n]||Yd(i);if(s&&s!==n)return s;i=Object.getPrototypeOf(i)}return s=>new s})}function Yd(t){return Fv(t)?()=>{const e=Yd(K(t));return e&&e()}:Yr(t)}class te{constructor(e,n){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof n?this.__NG_ELEMENT_ID__=n:void 0!==n&&(this.\u0275prov=_e({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}toString(){return`InjectionToken ${this._desc}`}}function Tn(t,e){t.forEach(n=>Array.isArray(n)?Tn(n,e):e(n))}function __(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function ku(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function Wt(t,e,n){let r=Xi(t,e);return r>=0?t[1|r]=n:(r=~r,function N1(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(1===i)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;)t[i]=t[i-2],i--;t[e]=n,t[e+1]=r}}(t,r,e,n)),r}function eh(t,e){const n=Xi(t,e);if(n>=0)return t[1|n]}function Xi(t,e){return function E_(t,e,n){let r=0,i=t.length>>n;for(;i!==r;){const s=r+(i-r>>1),o=t[s<<n];if(e===o)return s<<n;o>e?i=s:r=s+1}return~(i<<n)}(t,e,1)}const So={},Vu="ngTempTokenPath",L1=/\n/gm,b_="__source",j1=de({provide:String,useValue:de});let xo;function I_(t){const e=xo;return xo=t,e}function U1(t,e=q.Default){if(void 0===xo)throw new J(203,"");return null===xo?Pv(t,void 0,e):xo.get(t,e&q.Optional?null:void 0,e)}function pe(t,e=q.Default){return(function TM(){return bd}()||U1)(K(t),e)}const H1=pe;function rh(t){const e=[];for(let n=0;n<t.length;n++){const r=K(t[n]);if(Array.isArray(r)){if(0===r.length)throw new J(900,"");let i,s=q.Default;for(let o=0;o<r.length;o++){const a=r[o],u=$1(a);"number"==typeof u?-1===u?i=a.token:s|=u:i=a}e.push(pe(i,s))}else e.push(pe(r))}return e}function $1(t){return t.__NG_DI_FLAG__}const q_="__ngContext__";function mt(t,e){t[q_]=e}function fh(t){const e=function Ro(t){return t[q_]||null}(t);return e?Array.isArray(e)?e:e.lView:null}function gh(t){return t.ngOriginalError}function kN(t,...e){t.error(...e)}class ko{constructor(){this._console=console}handleError(e){const n=this._findOriginalError(e),r=function RN(t){return t&&t.ngErrorLogger||kN}(e);r(this._console,"ERROR",e),n&&r(this._console,"ORIGINAL ERROR",n)}_findOriginalError(e){let n=e&&gh(e);for(;n&&gh(n);)n=gh(n);return n||null}}const qN=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(le))();function xn(t){return t instanceof Function?t():t}var Kt=(()=>((Kt=Kt||{})[Kt.Important=1]="Important",Kt[Kt.DashCase=2]="DashCase",Kt))();function yh(t,e){return undefined(t,e)}function Po(t){const e=t[3];return cn(e)?e[3]:e}function vh(t){return eD(t[13])}function _h(t){return eD(t[4])}function eD(t){for(;null!==t&&!cn(t);)t=t[4];return t}function ns(t,e,n,r,i){if(null!=r){let s,o=!1;cn(r)?s=r:bn(r)&&(o=!0,r=r[0]);const a=Le(r);0===t&&null!==n?null==i?oD(e,n,a):Xr(e,n,a,i||null,!0):1===t&&null!==n?Xr(e,n,a,i||null,!0):2===t?function fD(t,e,n){const r=qu(t,e);r&&function sF(t,e,n,r){xe(t)?t.removeChild(e,n,r):e.removeChild(n)}(t,r,e,n)}(e,a,o):3===t&&e.destroyNode(a),null!=s&&function uF(t,e,n,r,i){const s=n[7];s!==Le(n)&&ns(e,t,r,s,i);for(let a=10;a<n.length;a++){const u=n[a];Vo(u[1],u,t,e,r,s)}}(e,t,s,n,i)}}function wh(t,e,n){if(xe(t))return t.createElement(e,n);{const r=null!==n?function zM(t){const e=t.toLowerCase();return"svg"===e?"http://www.w3.org/2000/svg":"math"===e?"http://www.w3.org/1998/MathML/":null}(n):null;return null===r?t.createElement(e):t.createElementNS(r,e)}}function nD(t,e){const n=t[9],r=n.indexOf(e),i=e[3];1024&e[2]&&(e[2]&=-1025,Ld(i,-1)),n.splice(r,1)}function Eh(t,e){if(t.length<=10)return;const n=10+e,r=t[n];if(r){const i=r[17];null!==i&&i!==t&&nD(i,r),e>0&&(t[n-1][4]=r[4]);const s=ku(t,10+e);!function ZN(t,e){Vo(t,e,e[Q],2,null,null),e[0]=null,e[6]=null}(r[1],r);const o=s[19];null!==o&&o.detachView(s[1]),r[3]=null,r[4]=null,r[2]&=-129}return r}function rD(t,e){if(!(256&e[2])){const n=e[Q];xe(n)&&n.destroyNode&&Vo(t,e,n,3,null,null),function eF(t){let e=t[13];if(!e)return Ch(t[1],t);for(;e;){let n=null;if(bn(e))n=e[13];else{const r=e[10];r&&(n=r)}if(!n){for(;e&&!e[4]&&e!==t;)bn(e)&&Ch(e[1],e),e=e[3];null===e&&(e=t),bn(e)&&Ch(e[1],e),n=e&&e[4]}e=n}}(e)}}function Ch(t,e){if(!(256&e[2])){e[2]&=-129,e[2]|=256,function iF(t,e){let n;if(null!=t&&null!=(n=t.destroyHooks))for(let r=0;r<n.length;r+=2){const i=e[n[r]];if(!(i instanceof Do)){const s=n[r+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){const a=i[s[o]],u=s[o+1];try{u.call(a)}finally{}}else try{s.call(i)}finally{}}}}(t,e),function rF(t,e){const n=t.cleanup,r=e[7];let i=-1;if(null!==n)for(let s=0;s<n.length-1;s+=2)if("string"==typeof n[s]){const o=n[s+1],a="function"==typeof o?o(e):Le(e[o]),u=r[i=n[s+2]],l=n[s+3];"boolean"==typeof l?a.removeEventListener(n[s],u,l):l>=0?r[i=l]():r[i=-l].unsubscribe(),s+=2}else{const o=r[i=n[s+1]];n[s].call(o)}if(null!==r){for(let s=i+1;s<r.length;s++)r[s]();e[7]=null}}(t,e),1===e[1].type&&xe(e[Q])&&e[Q].destroy();const n=e[17];if(null!==n&&cn(e[3])){n!==e[3]&&nD(n,e);const r=e[19];null!==r&&r.detachView(t)}}}function iD(t,e,n){return function sD(t,e,n){let r=e;for(;null!==r&&40&r.type;)r=(e=r).parent;if(null===r)return n[0];if(2&r.flags){const i=t.data[r.directiveStart].encapsulation;if(i===Cn.None||i===Cn.Emulated)return null}return nn(r,n)}(t,e.parent,n)}function Xr(t,e,n,r,i){xe(t)?t.insertBefore(e,n,r,i):e.insertBefore(n,r,i)}function oD(t,e,n){xe(t)?t.appendChild(e,n):e.appendChild(n)}function aD(t,e,n,r,i){null!==r?Xr(t,e,n,r,i):oD(t,e,n)}function qu(t,e){return xe(t)?t.parentNode(e):e.parentNode}let cD=function lD(t,e,n){return 40&t.type?nn(t,n):null};function zu(t,e,n,r){const i=iD(t,r,e),s=e[Q],a=function uD(t,e,n){return cD(t,e,n)}(r.parent||e[6],r,e);if(null!=i)if(Array.isArray(n))for(let u=0;u<n.length;u++)aD(s,i,n[u],a,!1);else aD(s,i,n,a,!1)}function Wu(t,e){if(null!==e){const n=e.type;if(3&n)return nn(e,t);if(4&n)return Ih(-1,t[e.index]);if(8&n){const r=e.child;if(null!==r)return Wu(t,r);{const i=t[e.index];return cn(i)?Ih(-1,i):Le(i)}}if(32&n)return yh(e,t)()||Le(t[e.index]);{const r=hD(t,e);return null!==r?Array.isArray(r)?r[0]:Wu(Po(t[16]),r):Wu(t,e.next)}}return null}function hD(t,e){return null!==e?t[16][6].projection[e.projection]:null}function Ih(t,e){const n=10+t+1;if(n<e.length){const r=e[n],i=r[1].firstChild;if(null!==i)return Wu(r,i)}return e[7]}function Th(t,e,n,r,i,s,o){for(;null!=n;){const a=r[n.index],u=n.type;if(o&&0===e&&(a&&mt(Le(a),r),n.flags|=4),64!=(64&n.flags))if(8&u)Th(t,e,n.child,r,i,s,!1),ns(e,t,i,a,s);else if(32&u){const l=yh(n,r);let c;for(;c=l();)ns(e,t,i,c,s);ns(e,t,i,a,s)}else 16&u?pD(t,e,r,n,i,s):ns(e,t,i,a,s);n=o?n.projectionNext:n.next}}function Vo(t,e,n,r,i,s){Th(n,r,t.firstChild,e,i,s,!1)}function pD(t,e,n,r,i,s){const o=n[16],u=o[6].projection[r.projection];if(Array.isArray(u))for(let l=0;l<u.length;l++)ns(e,t,i,u[l],s);else Th(t,e,u,o[3],i,s,!0)}function gD(t,e,n){xe(t)?t.setAttribute(e,"style",n):e.style.cssText=n}function Sh(t,e,n){xe(t)?""===n?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n):e.className=n}function mD(t,e,n){let r=t.length;for(;;){const i=t.indexOf(e,n);if(-1===i)return i;if(0===i||t.charCodeAt(i-1)<=32){const s=e.length;if(i+s===r||t.charCodeAt(i+s)<=32)return i}n=i+1}}const yD="ng-template";function cF(t,e,n){let r=0;for(;r<t.length;){let i=t[r++];if(n&&"class"===i){if(i=t[r],-1!==mD(i.toLowerCase(),e,0))return!0}else if(1===i){for(;r<t.length&&"string"==typeof(i=t[r++]);)if(i.toLowerCase()===e)return!0;return!1}}return!1}function vD(t){return 4===t.type&&t.value!==yD}function dF(t,e,n){return e===(4!==t.type||n?t.value:yD)}function hF(t,e,n){let r=4;const i=t.attrs||[],s=function gF(t){for(let e=0;e<t.length;e++)if(a_(t[e]))return e;return t.length}(i);let o=!1;for(let a=0;a<e.length;a++){const u=e[a];if("number"!=typeof u){if(!o)if(4&r){if(r=2|1&r,""!==u&&!dF(t,u,n)||""===u&&1===e.length){if(hn(r))return!1;o=!0}}else{const l=8&r?u:e[++a];if(8&r&&null!==t.attrs){if(!cF(t.attrs,l,n)){if(hn(r))return!1;o=!0}continue}const d=fF(8&r?"class":u,i,vD(t),n);if(-1===d){if(hn(r))return!1;o=!0;continue}if(""!==l){let h;h=d>s?"":i[d+1].toLowerCase();const f=8&r?h:null;if(f&&-1!==mD(f,l,0)||2&r&&l!==h){if(hn(r))return!1;o=!0}}}}else{if(!o&&!hn(r)&&!hn(u))return!1;if(o&&hn(u))continue;o=!1,r=u|1&r}}return hn(r)||o}function hn(t){return 0==(1&t)}function fF(t,e,n,r){if(null===e)return-1;let i=0;if(r||!n){let s=!1;for(;i<e.length;){const o=e[i];if(o===t)return i;if(3===o||6===o)s=!0;else{if(1===o||2===o){let a=e[++i];for(;"string"==typeof a;)a=e[++i];continue}if(4===o)break;if(0===o){i+=4;continue}}i+=s?1:2}return-1}return function mF(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){const r=t[n];if("number"==typeof r)return-1;if(r===e)return n;n++}return-1}(e,t)}function _D(t,e,n=!1){for(let r=0;r<e.length;r++)if(hF(t,e[r],n))return!0;return!1}function DD(t,e){return t?":not("+e.trim()+")":e}function vF(t){let e=t[0],n=1,r=2,i="",s=!1;for(;n<t.length;){let o=t[n];if("string"==typeof o)if(2&r){const a=t[++n];i+="["+o+(a.length>0?'="'+a+'"':"")+"]"}else 8&r?i+="."+o:4&r&&(i+=" "+o);else""!==i&&!hn(o)&&(e+=DD(s,i),i=""),r=o,s=s||!hn(r);n++}return""!==i&&(e+=DD(s,i)),e}const G={};function Wn(t){wD(ee(),w(),bt()+t,!1)}function wD(t,e,n,r){if(!r)if(3==(3&e[2])){const s=t.preOrderCheckHooks;null!==s&&Su(e,s,n)}else{const s=t.preOrderHooks;null!==s&&xu(e,s,0,n)}pr(n)}function Ku(t,e){return t<<17|e<<2}function fn(t){return t>>17&32767}function xh(t){return 2|t}function Kn(t){return(131068&t)>>2}function Ah(t,e){return-131069&t|e<<2}function Mh(t){return 1|t}function FD(t,e){const n=t.contentQueries;if(null!==n)for(let r=0;r<n.length;r+=2){const i=n[r],s=n[r+1];if(-1!==s){const o=t.data[s];$d(i),o.contentQueries(2,e[s],s)}}}function Lo(t,e,n,r,i,s,o,a,u,l){const c=e.blueprint.slice();return c[0]=i,c[2]=140|r,Kv(c),c[3]=c[15]=t,c[8]=n,c[10]=o||t&&t[10],c[Q]=a||t&&t[Q],c[12]=u||t&&t[12]||null,c[9]=l||t&&t[9]||null,c[6]=s,c[16]=2==e.type?t[16]:c,c}function rs(t,e,n,r,i){let s=t.data[e];if(null===s)s=function Bh(t,e,n,r,i){const s=Zv(),o=Bd(),u=t.data[e]=function PF(t,e,n,r,i,s){return{type:n,index:r,insertBeforeIndex:null,injectorIndex:e?e.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,o?s:s&&s.parent,n,e,r,i);return null===t.firstChild&&(t.firstChild=u),null!==s&&(o?null==s.child&&null!==u.parent&&(s.child=u):null===s.next&&(s.next=u)),u}(t,e,n,r,i),function i1(){return $.lFrame.inI18n}()&&(s.flags|=64);else if(64&s.type){s.type=n,s.value=r,s.attrs=i;const o=function _o(){const t=$.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}();s.injectorIndex=null===o?-1:o.injectorIndex}return In(s,!0),s}function is(t,e,n,r){if(0===n)return-1;const i=e.length;for(let s=0;s<n;s++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function Bo(t,e,n){bu(e);try{const r=t.viewQuery;null!==r&&Kh(1,r,n);const i=t.template;null!==i&&OD(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&FD(t,e),t.staticViewQueries&&Kh(2,t.viewQuery,n);const s=t.components;null!==s&&function OF(t,e){for(let n=0;n<e.length;n++)eO(t,e[n])}(e,s)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[2]&=-5,Iu()}}function ss(t,e,n,r){const i=e[2];if(256!=(256&i)){bu(e);try{Kv(e),function Xv(t){return $.lFrame.bindingIndex=t}(t.bindingStartIndex),null!==n&&OD(t,e,n,2,r);const o=3==(3&i);if(o){const l=t.preOrderCheckHooks;null!==l&&Su(e,l,null)}else{const l=t.preOrderHooks;null!==l&&xu(e,l,0,null),Gd(e,0)}if(function XF(t){for(let e=vh(t);null!==e;e=_h(e)){if(!e[2])continue;const n=e[9];for(let r=0;r<n.length;r++){const i=n[r],s=i[3];0==(1024&i[2])&&Ld(s,1),i[2]|=1024}}}(e),function ZF(t){for(let e=vh(t);null!==e;e=_h(e))for(let n=10;n<e.length;n++){const r=e[n],i=r[1];Vd(r)&&ss(i,r,i.template,r[8])}}(e),null!==t.contentQueries&&FD(t,e),o){const l=t.contentCheckHooks;null!==l&&Su(e,l)}else{const l=t.contentHooks;null!==l&&xu(e,l,1),Gd(e,1)}!function NF(t,e){const n=t.hostBindingOpCodes;if(null!==n)try{for(let r=0;r<n.length;r++){const i=n[r];if(i<0)pr(~i);else{const s=i,o=n[++r],a=n[++r];s1(o,s),a(2,e[s])}}}finally{pr(-1)}}(t,e);const a=t.components;null!==a&&function FF(t,e){for(let n=0;n<e.length;n++)JF(t,e[n])}(e,a);const u=t.viewQuery;if(null!==u&&Kh(2,u,r),o){const l=t.viewCheckHooks;null!==l&&Su(e,l)}else{const l=t.viewHooks;null!==l&&xu(e,l,2),Gd(e,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),e[2]&=-73,1024&e[2]&&(e[2]&=-1025,Ld(e[3],-1))}finally{Iu()}}}function RF(t,e,n,r){const i=e[10],o=function Wv(t){return 4==(4&t[2])}(e);try{!o&&i.begin&&i.begin(),o&&Bo(t,e,r),ss(t,e,n,r)}finally{!o&&i.end&&i.end()}}function OD(t,e,n,r,i){const s=bt(),o=2&r;try{pr(-1),o&&e.length>20&&wD(t,e,20,!1),n(r,i)}finally{pr(s)}}function jh(t,e,n){!Yv()||(function $F(t,e,n,r){const i=n.directiveStart,s=n.directiveEnd;t.firstCreatePass||Eo(n,e),mt(r,e);const o=n.initialInputs;for(let a=i;a<s;a++){const u=t.data[a],l=dn(u);l&&KF(e,n,u);const c=Co(e,t,a,n);mt(c,e),null!==o&&QF(0,a-i,c,u,0,o),l&&(zt(n.index,e)[8]=c)}}(t,e,n,nn(n,e)),128==(128&n.flags)&&function GF(t,e,n){const r=n.directiveStart,i=n.directiveEnd,o=n.index,a=function o1(){return $.lFrame.currentDirectiveIndex}();try{pr(o);for(let u=r;u<i;u++){const l=t.data[u],c=e[u];Ud(u),(null!==l.hostBindings||0!==l.hostVars||null!==l.hostAttrs)&&HD(l,c)}}finally{pr(-1),Ud(a)}}(t,e,n))}function Uh(t,e,n=nn){const r=e.localNames;if(null!==r){let i=e.index+1;for(let s=0;s<r.length;s+=2){const o=r[s+1],a=-1===o?n(e,t):t[o];t[i++]=a}}}function kD(t){const e=t.tView;return null===e||e.incompleteFirstPass?t.tView=Zu(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts):e}function Zu(t,e,n,r,i,s,o,a,u,l){const c=20+r,d=c+i,h=function kF(t,e){const n=[];for(let r=0;r<e;r++)n.push(r<t?null:G);return n}(c,d),f="function"==typeof l?l():l;return h[1]={type:t,blueprint:h,template:n,queries:null,viewQuery:a,declTNode:e,data:h.slice().fill(null,c),bindingStartIndex:c,expandoStartIndex:d,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof s?s():s,pipeRegistry:"function"==typeof o?o():o,firstChild:null,schemas:u,consts:f,incompleteFirstPass:!1}}function BD(t,e,n){for(let r in t)if(t.hasOwnProperty(r)){const i=t[r];(n=null===n?{}:n).hasOwnProperty(r)?n[r].push(e,i):n[r]=[e,i]}return n}function Hh(t,e,n,r){let i=!1;if(Yv()){const s=function qF(t,e,n){const r=t.directiveRegistry;let i=null;if(r)for(let s=0;s<r.length;s++){const o=r[s];_D(n,o.selectors,!1)&&(i||(i=[]),Ou(Eo(n,e),t,o.type),dn(o)?($D(t,n),i.unshift(o)):i.push(o))}return i}(t,e,n),o=null===r?null:{"":-1};if(null!==s){i=!0,GD(n,t.data.length,s.length);for(let c=0;c<s.length;c++){const d=s[c];d.providersResolver&&d.providersResolver(d)}let a=!1,u=!1,l=is(t,e,s.length,null);for(let c=0;c<s.length;c++){const d=s[c];n.mergedAttrs=Mu(n.mergedAttrs,d.hostAttrs),qD(t,n,e,l,d),WF(l,d,o),null!==d.contentQueries&&(n.flags|=8),(null!==d.hostBindings||null!==d.hostAttrs||0!==d.hostVars)&&(n.flags|=128);const h=d.type.prototype;!a&&(h.ngOnChanges||h.ngOnInit||h.ngDoCheck)&&((t.preOrderHooks||(t.preOrderHooks=[])).push(n.index),a=!0),!u&&(h.ngOnChanges||h.ngDoCheck)&&((t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n.index),u=!0),l++}!function VF(t,e){const r=e.directiveEnd,i=t.data,s=e.attrs,o=[];let a=null,u=null;for(let l=e.directiveStart;l<r;l++){const c=i[l],d=c.inputs,h=null===s||vD(e)?null:YF(d,s);o.push(h),a=BD(d,l,a),u=BD(c.outputs,l,u)}null!==a&&(a.hasOwnProperty("class")&&(e.flags|=16),a.hasOwnProperty("style")&&(e.flags|=32)),e.initialInputs=o,e.inputs=a,e.outputs=u}(t,n)}o&&function zF(t,e,n){if(e){const r=t.localNames=[];for(let i=0;i<e.length;i+=2){const s=n[e[i+1]];if(null==s)throw new J(-301,!1);r.push(e[i],s)}}}(n,r,o)}return n.mergedAttrs=Mu(n.mergedAttrs,n.attrs),i}function UD(t,e,n,r,i,s){const o=s.hostBindings;if(o){let a=t.hostBindingOpCodes;null===a&&(a=t.hostBindingOpCodes=[]);const u=~e.index;(function HF(t){let e=t.length;for(;e>0;){const n=t[--e];if("number"==typeof n&&n<0)return n}return 0})(a)!=u&&a.push(u),a.push(r,i,o)}}function HD(t,e){null!==t.hostBindings&&t.hostBindings(1,e)}function $D(t,e){e.flags|=2,(t.components||(t.components=[])).push(e.index)}function WF(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;dn(e)&&(n[""]=t)}}function GD(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function qD(t,e,n,r,i){t.data[r]=i;const s=i.factory||(i.factory=Yr(i.type)),o=new Do(s,dn(i),null);t.blueprint[r]=o,n[r]=o,UD(t,e,0,r,is(t,n,i.hostVars,G),i)}function KF(t,e,n){const r=nn(e,t),i=kD(n),s=t[10],o=Xu(t,Lo(t,i,null,n.onPush?64:16,r,e,s,s.createRenderer(r,n),null,null));t[e.index]=o}function An(t,e,n,r,i,s){const o=nn(t,e);!function $h(t,e,n,r,i,s,o){if(null==s)xe(t)?t.removeAttribute(e,i,n):e.removeAttribute(i);else{const a=null==o?U(s):o(s,r||"",i);xe(t)?t.setAttribute(e,i,a,n):n?e.setAttributeNS(n,i,a):e.setAttribute(i,a)}}(e[Q],o,s,t.value,n,r,i)}function QF(t,e,n,r,i,s){const o=s[e];if(null!==o){const a=r.setInput;for(let u=0;u<o.length;){const l=o[u++],c=o[u++],d=o[u++];null!==a?r.setInput(n,d,l,c):n[c]=d}}}function YF(t,e){let n=null,r=0;for(;r<e.length;){const i=e[r];if(0!==i)if(5!==i){if("number"==typeof i)break;t.hasOwnProperty(i)&&(null===n&&(n=[]),n.push(i,t[i],e[r+1])),r+=2}else r+=2;else r+=4}return n}function zD(t,e,n,r){return new Array(t,!0,!1,e,null,0,r,n,null,null)}function JF(t,e){const n=zt(e,t);if(Vd(n)){const r=n[1];80&n[2]?ss(r,n,r.template,n[8]):n[5]>0&&Gh(n)}}function Gh(t){for(let r=vh(t);null!==r;r=_h(r))for(let i=10;i<r.length;i++){const s=r[i];if(1024&s[2]){const o=s[1];ss(o,s,o.template,s[8])}else s[5]>0&&Gh(s)}const n=t[1].components;if(null!==n)for(let r=0;r<n.length;r++){const i=zt(n[r],t);Vd(i)&&i[5]>0&&Gh(i)}}function eO(t,e){const n=zt(e,t),r=n[1];(function tO(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])})(r,n),Bo(r,n,n[8])}function Xu(t,e){return t[13]?t[14][4]=e:t[13]=e,t[14]=e,e}function qh(t){for(;t;){t[2]|=64;const e=Po(t);if(PM(t)&&!e)return t;t=e}return null}function WD(t){!function zh(t){for(let e=0;e<t.components.length;e++){const n=t.components[e],r=fh(n),i=r[1];RF(i,r,i.template,n)}}(t[8])}function Kh(t,e,n){$d(0),e(t,n)}const rO=(()=>Promise.resolve(null))();function KD(t){return t[7]||(t[7]=[])}function QD(t){return t.cleanup||(t.cleanup=[])}function ZD(t,e){const n=t[9],r=n?n.get(ko,null):null;r&&r.handleError(e)}function XD(t,e,n,r,i){for(let s=0;s<n.length;){const o=n[s++],a=n[s++],u=e[o],l=t.data[o];null!==l.setInput?l.setInput(u,i,r,a):u[a]=i}}function Qn(t,e,n){const r=Eu(e,t);!function tD(t,e,n){xe(t)?t.setValue(e,n):e.textContent=n}(t[Q],r,n)}function Ju(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,s=0;if(null!==e)for(let o=0;o<e.length;o++){const a=e[o];"number"==typeof a?s=a:1==s?i=Dd(i,a):2==s&&(r=Dd(r,a+": "+e[++o]+";"))}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}const Qh=new te("INJECTOR",-1);class JD{get(e,n=So){if(n===So){const r=new Error(`NullInjectorError: No provider for ${ae(e)}!`);throw r.name="NullInjectorError",r}return n}}const Yh=new te("Set Injector scope."),jo={},oO={};let Zh;function ew(){return void 0===Zh&&(Zh=new JD),Zh}function tw(t,e=null,n=null,r){const i=nw(t,e,n,r);return i._resolveInjectorDefTypes(),i}function nw(t,e=null,n=null,r){return new aO(t,n,e||ew(),r)}class aO{constructor(e,n,r,i=null){this.parent=r,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const s=[];n&&Tn(n,a=>this.processProvider(a,e,n)),Tn([e],a=>this.processInjectorType(a,[],s)),this.records.set(Qh,os(void 0,this));const o=this.records.get(Yh);this.scope=null!=o?o.value:null,this.source=i||("object"==typeof e?null:ae(e))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(e=>e.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(e,n=So,r=q.Default){this.assertNotDestroyed();const i=I_(this),s=lr(void 0);try{if(!(r&q.SkipSelf)){let a=this.records.get(e);if(void 0===a){const u=function gO(t){return"function"==typeof t||"object"==typeof t&&t instanceof te}(e)&&Ed(e);a=u&&this.injectableDefInScope(u)?os(Xh(e),jo):null,this.records.set(e,a)}if(null!=a)return this.hydrate(e,a)}return(r&q.Self?ew():this.parent).get(e,n=r&q.Optional&&n===So?null:n)}catch(o){if("NullInjectorError"===o.name){if((o[Vu]=o[Vu]||[]).unshift(ae(e)),i)throw o;return function G1(t,e,n,r){const i=t[Vu];throw e[b_]&&i.unshift(e[b_]),t.message=function q1(t,e,n,r=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.substr(2):t;let i=ae(e);if(Array.isArray(e))i=e.map(ae).join(" -> ");else if("object"==typeof e){let s=[];for(let o in e)if(e.hasOwnProperty(o)){let a=e[o];s.push(o+":"+("string"==typeof a?JSON.stringify(a):ae(a)))}i=`{${s.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(L1,"\n  ")}`}("\n"+t.message,i,n,r),t.ngTokenPath=i,t[Vu]=null,t}(o,e,"R3InjectorError",this.source)}throw o}finally{lr(s),I_(i)}}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(e=>this.get(e))}toString(){const e=[];return this.records.forEach((r,i)=>e.push(ae(i))),`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new J(205,!1)}processInjectorType(e,n,r){if(!(e=K(e)))return!1;let i=Rv(e);const s=null==i&&e.ngModule||void 0,o=void 0===s?e:s,a=-1!==r.indexOf(o);if(void 0!==s&&(i=Rv(s)),null==i)return!1;if(null!=i.imports&&!a){let c;r.push(o);try{Tn(i.imports,d=>{this.processInjectorType(d,n,r)&&(void 0===c&&(c=[]),c.push(d))})}finally{}if(void 0!==c)for(let d=0;d<c.length;d++){const{ngModule:h,providers:f}=c[d];Tn(f,p=>this.processProvider(p,h,f||fe))}}this.injectorDefTypes.add(o);const u=Yr(o)||(()=>new o);this.records.set(o,os(u,jo));const l=i.providers;if(null!=l&&!a){const c=e;Tn(l,d=>this.processProvider(d,c,l))}return void 0!==s&&void 0!==e.providers}processProvider(e,n,r){let i=as(e=K(e))?e:K(e&&e.provide);const s=function lO(t,e,n){return iw(t)?os(void 0,t.useValue):os(rw(t),jo)}(e);if(as(e)||!0!==e.multi)this.records.get(i);else{let o=this.records.get(i);o||(o=os(void 0,jo,!0),o.factory=()=>rh(o.multi),this.records.set(i,o)),i=e,o.multi.push(e)}this.records.set(i,s)}hydrate(e,n){return n.value===jo&&(n.value=oO,n.value=n.factory()),"object"==typeof n.value&&n.value&&function pO(t){return null!==t&&"object"==typeof t&&"function"==typeof t.ngOnDestroy}(n.value)&&this.onDestroy.add(n.value),n.value}injectableDefInScope(e){if(!e.providedIn)return!1;const n=K(e.providedIn);return"string"==typeof n?"any"===n||n===this.scope:this.injectorDefTypes.has(n)}}function Xh(t){const e=Ed(t),n=null!==e?e.factory:Yr(t);if(null!==n)return n;if(t instanceof te)throw new J(204,!1);if(t instanceof Function)return function uO(t){const e=t.length;if(e>0)throw function To(t,e){const n=[];for(let r=0;r<t;r++)n.push(e);return n}(e,"?"),new J(204,!1);const n=function CM(t){const e=t&&(t[pu]||t[kv]);if(e){const n=function bM(t){if(t.hasOwnProperty("name"))return t.name;const e=(""+t).match(/^function\s*([^\s(]+)/);return null===e?"":e[1]}(t);return console.warn(`DEPRECATED: DI is instantiating a token "${n}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${n}" class.`),e}return null}(t);return null!==n?()=>n.factory(t):()=>new t}(t);throw new J(204,!1)}function rw(t,e,n){let r;if(as(t)){const i=K(t);return Yr(i)||Xh(i)}if(iw(t))r=()=>K(t.useValue);else if(function dO(t){return!(!t||!t.useFactory)}(t))r=()=>t.useFactory(...rh(t.deps||[]));else if(function cO(t){return!(!t||!t.useExisting)}(t))r=()=>pe(K(t.useExisting));else{const i=K(t&&(t.useClass||t.provide));if(!function fO(t){return!!t.deps}(t))return Yr(i)||Xh(i);r=()=>new i(...rh(t.deps))}return r}function os(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function iw(t){return null!==t&&"object"==typeof t&&j1 in t}function as(t){return"function"==typeof t}let pn=(()=>{class t{static create(n,r){var i;if(Array.isArray(n))return tw({name:""},r,n,"");{const s=null!==(i=n.name)&&void 0!==i?i:"";return tw({name:s},n.parent,n.providers,s)}}}return t.THROW_IF_NOT_FOUND=So,t.NULL=new JD,t.\u0275prov=_e({token:t,providedIn:"any",factory:()=>pe(Qh)}),t.__NG_ELEMENT_ID__=-1,t})();function CO(t,e){Tu(fh(t)[1],Ge())}function ue(t){let e=function mw(t){return Object.getPrototypeOf(t.prototype).constructor}(t.type),n=!0;const r=[t];for(;e;){let i;if(dn(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new J(903,"");i=e.\u0275dir}if(i){if(n){r.push(i);const o=t;o.inputs=tf(t.inputs),o.declaredInputs=tf(t.declaredInputs),o.outputs=tf(t.outputs);const a=i.hostBindings;a&&SO(t,a);const u=i.viewQuery,l=i.contentQueries;if(u&&IO(t,u),l&&TO(t,l),_d(t.inputs,i.inputs),_d(t.declaredInputs,i.declaredInputs),_d(t.outputs,i.outputs),dn(i)&&i.data.animation){const c=t.data;c.animation=(c.animation||[]).concat(i.data.animation)}}const s=i.features;if(s)for(let o=0;o<s.length;o++){const a=s[o];a&&a.ngInherit&&a(t),a===ue&&(n=!1)}}e=Object.getPrototypeOf(e)}!function bO(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){const i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=Mu(i.hostAttrs,n=Mu(n,i.hostAttrs))}}(r)}function tf(t){return t===Li?{}:t===fe?[]:t}function IO(t,e){const n=t.viewQuery;t.viewQuery=n?(r,i)=>{e(r,i),n(r,i)}:e}function TO(t,e){const n=t.contentQueries;t.contentQueries=n?(r,i,s)=>{e(r,i,s),n(r,i,s)}:e}function SO(t,e){const n=t.hostBindings;t.hostBindings=n?(r,i)=>{e(r,i),n(r,i)}:e}function yt(t,e,n){return!Object.is(t[e],n)&&(t[e]=n,!0)}function Yn(t,e,n,r){const i=w();return yt(i,Gi(),e)&&(ee(),An(Ae(),i,t,e,n,r)),Yn}function rf(t,e,n,r,i,s,o,a){const u=w(),l=ee(),c=t+20,d=l.firstCreatePass?function RO(t,e,n,r,i,s,o,a,u){const l=e.consts,c=rs(e,t,4,o||null,fr(l,a));Hh(e,n,c,fr(l,u)),Tu(e,c);const d=c.tViews=Zu(2,c,r,i,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,l);return null!==e.queries&&(e.queries.template(e,c),d.queries=e.queries.embeddedTView(c)),c}(c,l,u,e,n,r,i,s,o):l.data[c];In(d,!1);const h=u[Q].createComment("");zu(l,u,h,d),mt(h,u),Xu(u,u[c]=zD(h,u,h,d)),wu(d)&&jh(l,u,d),null!=o&&Uh(u,d,a)}function I(t,e=q.Default){const n=w();return null===n?pe(t,e):p_(Ge(),n,K(t),e)}function Zn(t,e,n){const r=w();return yt(r,Gi(),e)&&function Qt(t,e,n,r,i,s,o,a){const u=nn(e,n);let c,l=e.inputs;!a&&null!=l&&(c=l[r])?(XD(t,n,c,r,i),Du(e)&&function BF(t,e){const n=zt(e,t);16&n[2]||(n[2]|=64)}(n,e.index)):3&e.type&&(r=function LF(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(r),i=null!=o?o(i,e.value||"",r):i,xe(s)?s.setProperty(u,r,i):zd(r)||(u.setProperty?u.setProperty(r,i):u[r]=i))}(ee(),Ae(),r,t,e,r[Q],n,!1),Zn}function lf(t,e,n,r,i){const o=i?"class":"style";XD(t,n,e.inputs[o],o,r)}function Tt(t,e,n,r){const i=w(),s=ee(),o=20+t,a=i[Q],u=i[o]=wh(a,e,function p1(){return $.lFrame.currentNamespace}()),l=s.firstCreatePass?function rR(t,e,n,r,i,s,o){const a=e.consts,l=rs(e,t,2,i,fr(a,s));return Hh(e,n,l,fr(a,o)),null!==l.attrs&&Ju(l,l.attrs,!1),null!==l.mergedAttrs&&Ju(l,l.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,l),l}(o,s,i,0,e,n,r):s.data[o];In(l,!0);const c=l.mergedAttrs;null!==c&&Au(a,u,c);const d=l.classes;null!==d&&Sh(a,u,d);const h=l.styles;return null!==h&&gD(a,u,h),64!=(64&l.flags)&&zu(s,i,u,l),0===function XM(){return $.lFrame.elementDepthCount}()&&mt(u,i),function JM(){$.lFrame.elementDepthCount++}(),wu(l)&&(jh(s,i,l),function RD(t,e,n){if(Ad(e)){const i=e.directiveEnd;for(let s=e.directiveStart;s<i;s++){const o=t.data[s];o.contentQueries&&o.contentQueries(1,n[s],s)}}}(s,l,i)),null!==r&&Uh(i,l),Tt}function St(){let t=Ge();Bd()?function jd(){$.lFrame.isParent=!1}():(t=t.parent,In(t,!1));const e=t;!function e1(){$.lFrame.elementDepthCount--}();const n=ee();return n.firstCreatePass&&(Tu(n,t),Ad(t)&&n.queries.elementEnd(t)),null!=e.classesWithoutHost&&function _1(t){return 0!=(16&t.flags)}(e)&&lf(n,e,w(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function D1(t){return 0!=(32&t.flags)}(e)&&lf(n,e,w(),e.stylesWithoutHost,!1),St}function rl(t,e,n,r){return Tt(t,e,n,r),St(),rl}function il(t){return!!t&&"function"==typeof t.then}const Bw=function Lw(t){return!!t&&"function"==typeof t.subscribe};function Ze(t,e,n,r){const i=w(),s=ee(),o=Ge();return function Uw(t,e,n,r,i,s,o,a){const u=wu(r),c=t.firstCreatePass&&QD(t),d=e[8],h=KD(e);let f=!0;if(3&r.type||a){const m=nn(r,e),D=a?a(m):m,y=h.length,b=a?O=>a(Le(O[r.index])):r.index;if(xe(n)){let O=null;if(!a&&u&&(O=function sR(t,e,n,r){const i=t.cleanup;if(null!=i)for(let s=0;s<i.length-1;s+=2){const o=i[s];if(o===n&&i[s+1]===r){const a=e[7],u=i[s+2];return a.length>u?a[u]:null}"string"==typeof o&&(s+=2)}return null}(t,e,i,r.index)),null!==O)(O.__ngLastListenerFn__||O).__ngNextListenerFn__=s,O.__ngLastListenerFn__=s,f=!1;else{s=hf(r,e,d,s,!1);const R=n.listen(D,i,s);h.push(s,R),c&&c.push(i,b,y,y+1)}}else s=hf(r,e,d,s,!0),D.addEventListener(i,s,o),h.push(s),c&&c.push(i,b,y,o)}else s=hf(r,e,d,s,!1);const p=r.outputs;let g;if(f&&null!==p&&(g=p[i])){const m=g.length;if(m)for(let D=0;D<m;D+=2){const W=e[g[D]][g[D+1]].subscribe(s),De=h.length;h.push(s,W),c&&c.push(i,r.index,De,-(De+1))}}}(s,i,i[Q],o,t,e,!!n,r),Ze}function Hw(t,e,n,r){try{return!1!==n(r)}catch(i){return ZD(t,i),!1}}function hf(t,e,n,r,i){return function s(o){if(o===Function)return r;const a=2&t.flags?zt(t.index,e):e;0==(32&e[2])&&qh(a);let u=Hw(e,0,r,o),l=s.__ngNextListenerFn__;for(;l;)u=Hw(e,0,l,o)&&u,l=l.__ngNextListenerFn__;return i&&!1===u&&(o.preventDefault(),o.returnValue=!1),u}}function _r(t=1){return function u1(t){return($.lFrame.contextLView=function l1(t,e){for(;t>0;)e=e[15],t--;return e}(t,$.lFrame.contextLView))[8]}(t)}function Xw(t,e,n,r,i){const s=t[n+1],o=null===e;let a=r?fn(s):Kn(s),u=!1;for(;0!==a&&(!1===u||o);){const c=t[a+1];dR(t[a],e)&&(u=!0,t[a+1]=r?Mh(c):xh(c)),a=r?fn(c):Kn(c)}u&&(t[n+1]=r?xh(s):Mh(s))}function dR(t,e){return null===t||null==e||(Array.isArray(t)?t[1]:t)===e||!(!Array.isArray(t)||"string"!=typeof e)&&Xi(t,e)>=0}function $o(t,e){return function mn(t,e,n,r){const i=w(),s=ee(),o=function zn(t){const e=$.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}(2);s.firstUpdatePass&&function aE(t,e,n,r){const i=t.data;if(null===i[n+1]){const s=i[bt()],o=function oE(t,e){return e>=t.expandoStartIndex}(t,n);(function dE(t,e){return 0!=(t.flags&(e?16:32))})(s,r)&&null===e&&!o&&(e=!1),e=function DR(t,e,n,r){const i=function Hd(t){const e=$.lFrame.currentDirectiveIndex;return-1===e?null:t[e]}(t);let s=r?e.residualClasses:e.residualStyles;if(null===i)0===(r?e.classBindings:e.styleBindings)&&(n=Go(n=pf(null,t,e,n,r),e.attrs,r),s=null);else{const o=e.directiveStylingLast;if(-1===o||t[o]!==i)if(n=pf(i,t,e,n,r),null===s){let u=function wR(t,e,n){const r=n?e.classBindings:e.styleBindings;if(0!==Kn(r))return t[fn(r)]}(t,e,r);void 0!==u&&Array.isArray(u)&&(u=pf(null,t,e,u[1],r),u=Go(u,e.attrs,r),function ER(t,e,n,r){t[fn(n?e.classBindings:e.styleBindings)]=r}(t,e,r,u))}else s=function CR(t,e,n){let r;const i=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<i;s++)r=Go(r,t[s].hostAttrs,n);return Go(r,e.attrs,n)}(t,e,r)}return void 0!==s&&(r?e.residualClasses=s:e.residualStyles=s),n}(i,s,e,r),function lR(t,e,n,r,i,s){let o=s?e.classBindings:e.styleBindings,a=fn(o),u=Kn(o);t[r]=n;let c,l=!1;if(Array.isArray(n)){const d=n;c=d[1],(null===c||Xi(d,c)>0)&&(l=!0)}else c=n;if(i)if(0!==u){const h=fn(t[a+1]);t[r+1]=Ku(h,a),0!==h&&(t[h+1]=Ah(t[h+1],r)),t[a+1]=function wF(t,e){return 131071&t|e<<17}(t[a+1],r)}else t[r+1]=Ku(a,0),0!==a&&(t[a+1]=Ah(t[a+1],r)),a=r;else t[r+1]=Ku(u,0),0===a?a=r:t[u+1]=Ah(t[u+1],r),u=r;l&&(t[r+1]=xh(t[r+1])),Xw(t,c,r,!0),Xw(t,c,r,!1),function cR(t,e,n,r,i){const s=i?t.residualClasses:t.residualStyles;null!=s&&"string"==typeof e&&Xi(s,e)>=0&&(n[r+1]=Mh(n[r+1]))}(e,c,t,r,s),o=Ku(a,u),s?e.classBindings=o:e.styleBindings=o}(i,s,e,n,o,r)}}(s,t,o,r),e!==G&&yt(i,o,e)&&function lE(t,e,n,r,i,s,o,a){if(!(3&e.type))return;const u=t.data,l=u[a+1];sl(function bD(t){return 1==(1&t)}(l)?cE(u,e,n,i,Kn(l),o):void 0)||(sl(s)||function CD(t){return 2==(2&t)}(l)&&(s=cE(u,null,n,i,a,o)),function lF(t,e,n,r,i){const s=xe(t);if(e)i?s?t.addClass(n,r):n.classList.add(r):s?t.removeClass(n,r):n.classList.remove(r);else{let o=-1===r.indexOf("-")?void 0:Kt.DashCase;if(null==i)s?t.removeStyle(n,r,o):n.style.removeProperty(r);else{const a="string"==typeof i&&i.endsWith("!important");a&&(i=i.slice(0,-10),o|=Kt.Important),s?t.setStyle(n,r,i,o):n.style.setProperty(r,i,a?"important":"")}}}(r,o,Eu(bt(),n),i,s))}(s,s.data[bt()],i,i[Q],t,i[o+1]=function TR(t,e){return null==t||("string"==typeof e?t+=e:"object"==typeof t&&(t=ae(function mr(t){return t instanceof class R_{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}?t.changingThisBreaksApplicationSecurity:t}(t)))),t}(e,n),r,o)}(t,e,null,!0),$o}function pf(t,e,n,r,i){let s=null;const o=n.directiveEnd;let a=n.directiveStylingLast;for(-1===a?a=n.directiveStart:a++;a<o&&(s=e[a],r=Go(r,s.hostAttrs,i),s!==t);)a++;return null!==t&&(n.directiveStylingLast=a),r}function Go(t,e,n){const r=n?1:2;let i=-1;if(null!==e)for(let s=0;s<e.length;s++){const o=e[s];"number"==typeof o?i=o:i===r&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),Wt(t,o,!!n||e[++s]))}return void 0===t?null:t}function cE(t,e,n,r,i,s){const o=null===e;let a;for(;i>0;){const u=t[i],l=Array.isArray(u),c=l?u[1]:u,d=null===c;let h=n[i+1];h===G&&(h=d?fe:void 0);let f=d?eh(h,r):c===r?h:void 0;if(l&&!sl(f)&&(f=eh(u,r)),sl(f)&&(a=f,o))return a;const p=t[i+1];i=o?fn(p):Kn(p)}if(null!==e){let u=s?e.residualClasses:e.residualStyles;null!=u&&(a=eh(u,r))}return a}function sl(t){return void 0!==t}function ei(t,e=""){const n=w(),r=ee(),i=t+20,s=r.firstCreatePass?rs(r,i,1,e,null):r.data[i],o=n[i]=function Dh(t,e){return xe(t)?t.createText(e):t.createTextNode(e)}(n[Q],e);zu(r,n,o,s),In(s,!1)}function gf(t){return mf("",t,""),gf}function mf(t,e,n){const r=w(),i=function cs(t,e,n,r){return yt(t,Gi(),n)?e+U(n)+r:G}(r,t,e,n);return i!==G&&Qn(r,bt(),i),mf}const ol="en-US";let OE=ol;function _f(t,e,n,r,i){if(t=K(t),Array.isArray(t))for(let s=0;s<t.length;s++)_f(t[s],e,n,r,i);else{const s=ee(),o=w();let a=as(t)?t:K(t.provide),u=rw(t);const l=Ge(),c=1048575&l.providerIndexes,d=l.directiveStart,h=l.providerIndexes>>20;if(as(t)||!t.multi){const f=new Do(u,i,I),p=wf(a,e,i?c:c+h,d);-1===p?(Ou(Eo(l,o),s,a),Df(s,t,e.length),e.push(a),l.directiveStart++,l.directiveEnd++,i&&(l.providerIndexes+=1048576),n.push(f),o.push(f)):(n[p]=f,o[p]=f)}else{const f=wf(a,e,c+h,d),p=wf(a,e,c,c+h),g=f>=0&&n[f],m=p>=0&&n[p];if(i&&!m||!i&&!g){Ou(Eo(l,o),s,a);const D=function qk(t,e,n,r,i){const s=new Do(t,n,I);return s.multi=[],s.index=e,s.componentProviders=0,r0(s,i,r&&!n),s}(i?Gk:$k,n.length,i,r,u);!i&&m&&(n[p].providerFactory=D),Df(s,t,e.length,0),e.push(a),l.directiveStart++,l.directiveEnd++,i&&(l.providerIndexes+=1048576),n.push(D),o.push(D)}else Df(s,t,f>-1?f:p,r0(n[i?p:f],u,!i&&r));!i&&r&&m&&n[p].componentProviders++}}}function Df(t,e,n,r){const i=as(e),s=function hO(t){return!!t.useClass}(e);if(i||s){const u=(s?K(e.useClass):e).prototype.ngOnDestroy;if(u){const l=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){const c=l.indexOf(n);-1===c?l.push(n,[r,u]):l[c+1].push(r,u)}else l.push(n,u)}}}function r0(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function wf(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function $k(t,e,n,r){return Ef(this.multi,[])}function Gk(t,e,n,r){const i=this.multi;let s;if(this.providerFactory){const o=this.providerFactory.componentProviders,a=Co(n,n[1],this.providerFactory.index,r);s=a.slice(0,o),Ef(i,s);for(let u=o;u<a.length;u++)s.push(a[u])}else s=[],Ef(i,s);return s}function Ef(t,e){for(let n=0;n<t.length;n++)e.push((0,t[n])());return e}function Ee(t,e=[]){return n=>{n.providersResolver=(r,i)=>function Hk(t,e,n){const r=ee();if(r.firstCreatePass){const i=dn(t);_f(n,r.data,r.blueprint,i,!0),_f(e,r.data,r.blueprint,i,!1)}}(r,i?i(t):t,e)}}class s0{}class Kk{resolveComponentFactory(e){throw function Wk(t){const e=Error(`No component factory found for ${ae(t)}. Did you add it to @NgModule.entryComponents?`);return e.ngComponent=t,e}(e)}}let dl=(()=>{class t{}return t.NULL=new Kk,t})();function Qk(){return Es(Ge(),w())}function Es(t,e){return new vn(nn(t,e))}let vn=(()=>{class t{constructor(n){this.nativeElement=n}}return t.__NG_ELEMENT_ID__=Qk,t})();class a0{}let ni=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>function Xk(){const t=w(),n=zt(Ge().index,t);return function Zk(t){return t[Q]}(bn(n)?n:t)}(),t})(),Jk=(()=>{class t{}return t.\u0275prov=_e({token:t,providedIn:"root",factory:()=>null}),t})();class hl{constructor(e){this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")}}const eP=new hl("13.3.11"),Cf={};function fl(t,e,n,r,i=!1){for(;null!==n;){const s=e[n.index];if(null!==s&&r.push(Le(s)),cn(s))for(let a=10;a<s.length;a++){const u=s[a],l=u[1].firstChild;null!==l&&fl(u[1],u,l,r)}const o=n.type;if(8&o)fl(t,e,n.child,r);else if(32&o){const a=yh(n,e);let u;for(;u=a();)r.push(u)}else if(16&o){const a=hD(e,n);if(Array.isArray(a))r.push(...a);else{const u=Po(e[16]);fl(u[1],u,a,r,!0)}}n=i?n.projectionNext:n.next}return r}class Qo{constructor(e,n){this._lView=e,this._cdRefInjectingView=n,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const e=this._lView,n=e[1];return fl(n,e,n.firstChild,[])}get context(){return this._lView[8]}set context(e){this._lView[8]=e}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const e=this._lView[3];if(cn(e)){const n=e[8],r=n?n.indexOf(this):-1;r>-1&&(Eh(e,r),ku(n,r))}this._attachedToViewContainer=!1}rD(this._lView[1],this._lView)}onDestroy(e){!function LD(t,e,n,r){const i=KD(e);null===n?i.push(r):(i.push(n),t.firstCreatePass&&QD(t).push(r,i.length-1))}(this._lView[1],this._lView,null,e)}markForCheck(){qh(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){!function Wh(t,e,n){const r=e[10];r.begin&&r.begin();try{ss(t,e,t.template,n)}catch(i){throw ZD(e,i),i}finally{r.end&&r.end()}}(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new J(902,"");this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function JN(t,e){Vo(t,e,e[Q],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new J(902,"");this._appRef=e}}class tP extends Qo{constructor(e){super(e),this._view=e}detectChanges(){WD(this._view)}checkNoChanges(){}get context(){return null}}class u0 extends dl{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){const n=ft(e);return new bf(n,this.ngModule)}}function l0(t){const e=[];for(let n in t)t.hasOwnProperty(n)&&e.push({propName:t[n],templateName:n});return e}class bf extends s0{constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=function _F(t){return t.map(vF).join(",")}(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}get inputs(){return l0(this.componentDef.inputs)}get outputs(){return l0(this.componentDef.outputs)}create(e,n,r,i){const s=(i=i||this.ngModule)?function rP(t,e){return{get:(n,r,i)=>{const s=t.get(n,Cf,i);return s!==Cf||r===Cf?s:e.get(n,r,i)}}}(e,i.injector):e,o=s.get(a0,zv),a=s.get(Jk,null),u=o.createRenderer(null,this.componentDef),l=this.componentDef.selectors[0][0]||"div",c=r?function VD(t,e,n){if(xe(t))return t.selectRootElement(e,n===Cn.ShadowDom);let r="string"==typeof e?t.querySelector(e):e;return r.textContent="",r}(u,r,this.componentDef.encapsulation):wh(o.createRenderer(null,this.componentDef),l,function nP(t){const e=t.toLowerCase();return"svg"===e?"svg":"math"===e?"math":null}(l)),d=this.componentDef.onPush?576:528,h=function gw(t,e){return{components:[],scheduler:t||qN,clean:rO,playerHandler:e||null,flags:0}}(),f=Zu(0,null,null,1,0,null,null,null,null,null),p=Lo(null,f,h,d,null,null,o,u,a,s);let g,m;bu(p);try{const D=function fw(t,e,n,r,i,s){const o=n[1];n[20]=t;const u=rs(o,20,2,"#host",null),l=u.mergedAttrs=e.hostAttrs;null!==l&&(Ju(u,l,!0),null!==t&&(Au(i,t,l),null!==u.classes&&Sh(i,t,u.classes),null!==u.styles&&gD(i,t,u.styles)));const c=r.createRenderer(t,e),d=Lo(n,kD(e),null,e.onPush?64:16,n[20],u,r,c,s||null,null);return o.firstCreatePass&&(Ou(Eo(u,n),o,e.type),$D(o,u),GD(u,n.length,1)),Xu(n,d),n[20]=d}(c,this.componentDef,p,o,u);if(c)if(r)Au(u,c,["ng-version",eP.full]);else{const{attrs:y,classes:b}=function DF(t){const e=[],n=[];let r=1,i=2;for(;r<t.length;){let s=t[r];if("string"==typeof s)2===i?""!==s&&e.push(s,t[++r]):8===i&&n.push(s);else{if(!hn(i))break;i=s}r++}return{attrs:e,classes:n}}(this.componentDef.selectors[0]);y&&Au(u,c,y),b&&b.length>0&&Sh(u,c,b.join(" "))}if(m=Pd(f,20),void 0!==n){const y=m.projection=[];for(let b=0;b<this.ngContentSelectors.length;b++){const O=n[b];y.push(null!=O?Array.from(O):null)}}g=function pw(t,e,n,r,i){const s=n[1],o=function UF(t,e,n){const r=Ge();t.firstCreatePass&&(n.providersResolver&&n.providersResolver(n),qD(t,r,e,is(t,e,1,null),n));const i=Co(e,t,r.directiveStart,r);mt(i,e);const s=nn(r,e);return s&&mt(s,e),i}(s,n,e);if(r.components.push(o),t[8]=o,i&&i.forEach(u=>u(o,e)),e.contentQueries){const u=Ge();e.contentQueries(1,o,u.directiveStart)}const a=Ge();return!s.firstCreatePass||null===e.hostBindings&&null===e.hostAttrs||(pr(a.index),UD(n[1],a,0,a.directiveStart,a.directiveEnd,e),HD(e,o)),o}(D,this.componentDef,p,h,[CO]),Bo(f,p,null)}finally{Iu()}return new sP(this.componentType,g,Es(m,p),p,m)}}class sP extends class zk{}{constructor(e,n,r,i,s){super(),this.location=r,this._rootLView=i,this._tNode=s,this.instance=n,this.hostView=this.changeDetectorRef=new tP(i),this.componentType=e}get injector(){return new Wi(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}}class Cs{}const bs=new Map;class h0 extends Cs{constructor(e,n){super(),this._parent=n,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new u0(this);const r=Jt(e);this._bootstrapComponents=xn(r.bootstrap),this._r3Injector=nw(e,n,[{provide:Cs,useValue:this},{provide:dl,useValue:this.componentFactoryResolver}],ae(e)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(e)}get(e,n=pn.THROW_IF_NOT_FOUND,r=q.Default){return e===pn||e===Cs||e===Qh?this:this._r3Injector.get(e,n,r)}destroy(){const e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}}class If extends class aP{}{constructor(e){super(),this.moduleType=e,null!==Jt(e)&&function uP(t){const e=new Set;!function n(r){const i=Jt(r,!0),s=i.id;null!==s&&(function c0(t,e,n){if(e&&e!==n)throw new Error(`Duplicate module registered for ${t} - ${ae(e)} vs ${ae(e.name)}`)}(s,bs.get(s),r),bs.set(s,r));const o=xn(i.imports);for(const a of o)e.has(a)||(e.add(a),n(a))}(t)}(e)}create(e){return new h0(this.moduleType,e)}}function Tf(t){return e=>{setTimeout(t,void 0,e)}}const ot=class TP extends pd{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,n,r){var i,s,o;let a=e,u=n||(()=>null),l=r;if(e&&"object"==typeof e){const d=e;a=null===(i=d.next)||void 0===i?void 0:i.bind(d),u=null===(s=d.error)||void 0===s?void 0:s.bind(d),l=null===(o=d.complete)||void 0===o?void 0:o.bind(d)}this.__isAsync&&(u=Tf(u),a&&(a=Tf(a)),l&&(l=Tf(l)));const c=super.subscribe({next:a,error:u,complete:l});return e instanceof En&&e.add(c),c}};Symbol;let Xn=(()=>{class t{}return t.__NG_ELEMENT_ID__=MP,t})();const xP=Xn,AP=class extends xP{constructor(e,n,r){super(),this._declarationLView=e,this._declarationTContainer=n,this.elementRef=r}createEmbeddedView(e){const n=this._declarationTContainer.tViews,r=Lo(this._declarationLView,n,e,16,null,n.declTNode,null,null,null,null);r[17]=this._declarationLView[this._declarationTContainer.index];const s=this._declarationLView[19];return null!==s&&(r[19]=s.createEmbeddedView(n)),Bo(n,r,e),new Qo(r)}};function MP(){return function pl(t,e){return 4&t.type?new AP(e,t,Es(t,e)):null}(Ge(),w())}let On=(()=>{class t{}return t.__NG_ELEMENT_ID__=NP,t})();function NP(){return function D0(t,e){let n;const r=e[t.index];if(cn(r))n=r;else{let i;if(8&t.type)i=Le(r);else{const s=e[Q];i=s.createComment("");const o=nn(t,e);Xr(s,qu(s,o),i,function oF(t,e){return xe(t)?t.nextSibling(e):e.nextSibling}(s,o),!1)}e[t.index]=n=zD(r,e,i,t),Xu(e,n)}return new v0(n,t,e)}(Ge(),w())}const FP=On,v0=class extends FP{constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return Es(this._hostTNode,this._hostLView)}get injector(){return new Wi(this._hostTNode,this._hostLView)}get parentInjector(){const e=Fu(this._hostTNode,this._hostLView);if(l_(e)){const n=zi(e,this._hostLView),r=qi(e);return new Wi(n[1].data[r+8],n)}return new Wi(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){const n=_0(this._lContainer);return null!==n&&n[e]||null}get length(){return this._lContainer.length-10}createEmbeddedView(e,n,r){const i=e.createEmbeddedView(n||{});return this.insert(i,r),i}createComponent(e,n,r,i,s){const o=e&&!function Io(t){return"function"==typeof t}(e);let a;if(o)a=n;else{const d=n||{};a=d.index,r=d.injector,i=d.projectableNodes,s=d.ngModuleRef}const u=o?e:new bf(ft(e)),l=r||this.parentInjector;if(!s&&null==u.ngModule){const h=(o?l:this.parentInjector).get(Cs,null);h&&(s=h)}const c=u.create(l,i,void 0,s);return this.insert(c.hostView,a),c}insert(e,n){const r=e._lView,i=r[1];if(function ZM(t){return cn(t[3])}(r)){const c=this.indexOf(e);if(-1!==c)this.detach(c);else{const d=r[3],h=new v0(d,d[6],d[3]);h.detach(h.indexOf(e))}}const s=this._adjustIndex(n),o=this._lContainer;!function tF(t,e,n,r){const i=10+r,s=n.length;r>0&&(n[i-1][4]=e),r<s-10?(e[4]=n[i],__(n,10+r,e)):(n.push(e),e[4]=null),e[3]=n;const o=e[17];null!==o&&n!==o&&function nF(t,e){const n=t[9];e[16]!==e[3][3][16]&&(t[2]=!0),null===n?t[9]=[e]:n.push(e)}(o,e);const a=e[19];null!==a&&a.insertView(t),e[2]|=128}(i,r,o,s);const a=Ih(s,o),u=r[Q],l=qu(u,o[7]);return null!==l&&function XN(t,e,n,r,i,s){r[0]=i,r[6]=e,Vo(t,r,n,1,i,s)}(i,o[6],u,r,l,a),e.attachToViewContainerRef(),__(xf(o),s,e),e}move(e,n){return this.insert(e,n)}indexOf(e){const n=_0(this._lContainer);return null!==n?n.indexOf(e):-1}remove(e){const n=this._adjustIndex(e,-1),r=Eh(this._lContainer,n);r&&(ku(xf(this._lContainer),n),rD(r[1],r))}detach(e){const n=this._adjustIndex(e,-1),r=Eh(this._lContainer,n);return r&&null!=ku(xf(this._lContainer),n)?new Qo(r):null}_adjustIndex(e,n=0){return null==e?this.length+n:e}};function _0(t){return t[8]}function xf(t){return t[8]||(t[8]=[])}function yl(...t){}const H0=new te("Application Initializer");let Bf=(()=>{class t{constructor(n){this.appInits=n,this.resolve=yl,this.reject=yl,this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,i)=>{this.resolve=r,this.reject=i})}runInitializers(){if(this.initialized)return;const n=[],r=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let i=0;i<this.appInits.length;i++){const s=this.appInits[i]();if(il(s))n.push(s);else if(Bw(s)){const o=new Promise((a,u)=>{s.subscribe({complete:a,error:u})});n.push(o)}}Promise.all(n).then(()=>{r()}).catch(i=>{this.reject(i)}),0===n.length&&r(),this.initialized=!0}}return t.\u0275fac=function(n){return new(n||t)(pe(H0,8))},t.\u0275prov=_e({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const Jo=new te("AppId",{providedIn:"root",factory:function $0(){return`${jf()}${jf()}${jf()}`}});function jf(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const G0=new te("Platform Initializer"),q0=new te("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),uV=new te("appBootstrapListener"),Dr=new te("LocaleId",{providedIn:"root",factory:()=>H1(Dr,q.Optional|q.SkipSelf)||function lV(){return"undefined"!=typeof $localize&&$localize.locale||ol}()}),fV=(()=>Promise.resolve(0))();function Uf(t){"undefined"==typeof Zone?fV.then(()=>{t&&t.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}class Vt{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new ot(!1),this.onMicrotaskEmpty=new ot(!1),this.onStable=new ot(!1),this.onError=new ot(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&n,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=function pV(){let t=le.requestAnimationFrame,e=le.cancelAnimationFrame;if("undefined"!=typeof Zone&&t&&e){const n=t[Zone.__symbol__("OriginalDelegate")];n&&(t=n);const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,function yV(t){const e=()=>{!function mV(t){t.isCheckStableRunning||-1!==t.lastRequestAnimationFrameId||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(le,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,$f(t),t.isCheckStableRunning=!0,Hf(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),$f(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,i,s,o,a)=>{try{return z0(t),n.invokeTask(i,s,o,a)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===s.type||t.shouldCoalesceRunChangeDetection)&&e(),W0(t)}},onInvoke:(n,r,i,s,o,a,u)=>{try{return z0(t),n.invoke(i,s,o,a,u)}finally{t.shouldCoalesceRunChangeDetection&&e(),W0(t)}},onHasTask:(n,r,i,s)=>{n.hasTask(i,s),r===i&&("microTask"==s.change?(t._hasPendingMicrotasks=s.microTask,$f(t),Hf(t)):"macroTask"==s.change&&(t.hasPendingMacrotasks=s.macroTask))},onHandleError:(n,r,i,s)=>(n.handleError(i,s),t.runOutsideAngular(()=>t.onError.emit(s)),!1)})}(i)}static isInAngularZone(){return"undefined"!=typeof Zone&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Vt.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(Vt.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){const s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+i,e,gV,yl,yl);try{return s.runTask(o,n,r)}finally{s.cancelTask(o)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}}const gV={};function Hf(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function $f(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function z0(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function W0(t){t._nesting--,Hf(t)}class vV{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new ot,this.onMicrotaskEmpty=new ot,this.onStable=new ot,this.onError=new ot}run(e,n,r){return e.apply(n,r)}runGuarded(e,n,r){return e.apply(n,r)}runOutsideAngular(e){return e()}runTask(e,n,r,i){return e.apply(n,r)}}let Gf=(()=>{class t{constructor(n){this._ngZone=n,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),n.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Vt.assertNotInAngularZone(),Uf(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Uf(()=>{for(;0!==this._callbacks.length;){let n=this._callbacks.pop();clearTimeout(n.timeoutId),n.doneCb(this._didWork)}this._didWork=!1});else{let n=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>!r.updateCb||!r.updateCb(n)||(clearTimeout(r.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(n=>({source:n.source,creationLocation:n.creationLocation,data:n.data})):[]}addCallback(n,r,i){let s=-1;r&&r>0&&(s=setTimeout(()=>{this._callbacks=this._callbacks.filter(o=>o.timeoutId!==s),n(this._didWork,this.getPendingTasks())},r)),this._callbacks.push({doneCb:n,timeoutId:s,updateCb:i})}whenStable(n,r,i){if(i&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(n,r,i),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(n,r,i){return[]}}return t.\u0275fac=function(n){return new(n||t)(pe(Vt))},t.\u0275prov=_e({token:t,factory:t.\u0275fac}),t})(),_V=(()=>{class t{constructor(){this._applications=new Map,qf.addToWindow(this)}registerApplication(n,r){this._applications.set(n,r)}unregisterApplication(n){this._applications.delete(n)}unregisterAllApplications(){this._applications.clear()}getTestability(n){return this._applications.get(n)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(n,r=!0){return qf.findTestabilityInTree(this,n,r)}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=_e({token:t,factory:t.\u0275fac,providedIn:"platform"}),t})();class DV{addToWindow(e){}findTestabilityInTree(e,n,r){return null}}let qf=new DV,ri=null;const K0=new te("AllowMultipleToken"),Q0=new te("PlatformOnDestroy");function Y0(t,e,n=[]){const r=`Platform: ${e}`,i=new te(r);return(s=[])=>{let o=zf();if(!o||o.injector.get(K0,!1)){const a=[...n,...s,{provide:i,useValue:!0}];t?t(a):function bV(t){if(ri&&!ri.get(K0,!1))throw new J(400,"");ri=t;const e=t.get(Z0),n=t.get(G0,null);n&&n.forEach(r=>r())}(function TV(t=[],e){return pn.create({name:e,providers:[{provide:Yh,useValue:"platform"},{provide:Q0,useValue:()=>ri=null},...t]})}(a,r))}return function IV(t){const e=zf();if(!e)throw new J(401,"");return e}()}}function zf(){var t;return null!==(t=null==ri?void 0:ri.get(Z0))&&void 0!==t?t:null}let Z0=(()=>{class t{constructor(n){this._injector=n,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(n,r){const a=function SV(t,e){let n;return n="noop"===t?new vV:("zone.js"===t?void 0:t)||new Vt({enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!!(null==e?void 0:e.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==e?void 0:e.ngZoneRunCoalescing)}),n}(r?r.ngZone:void 0,{ngZoneEventCoalescing:r&&r.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:r&&r.ngZoneRunCoalescing||!1}),u=[{provide:Vt,useValue:a}];return a.run(()=>{const l=pn.create({providers:u,parent:this.injector,name:n.moduleType.name}),c=n.create(l),d=c.injector.get(ko,null);if(!d)throw new J(402,"");return a.runOutsideAngular(()=>{const h=a.onError.subscribe({next:f=>{d.handleError(f)}});c.onDestroy(()=>{Wf(this._modules,c),h.unsubscribe()})}),function xV(t,e,n){try{const r=n();return il(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}(d,a,()=>{const h=c.injector.get(Bf);return h.runInitializers(),h.donePromise.then(()=>(function ZR(t){Gt(t,"Expected localeId to be defined"),"string"==typeof t&&(OE=t.toLowerCase().replace(/_/g,"-"))}(c.injector.get(Dr,ol)||ol),this._moduleDoBootstrap(c),c))})})}bootstrapModule(n,r=[]){const i=X0({},r);return function EV(t,e,n){const r=new If(n);return Promise.resolve(r)}(0,0,n).then(s=>this.bootstrapModuleFactory(s,i))}_moduleDoBootstrap(n){const r=n.injector.get(J0);if(n._bootstrapComponents.length>0)n._bootstrapComponents.forEach(i=>r.bootstrap(i));else{if(!n.instance.ngDoBootstrap)throw new J(403,"");n.instance.ngDoBootstrap(r)}this._modules.push(n)}onDestroy(n){this._destroyListeners.push(n)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new J(404,"");this._modules.slice().forEach(r=>r.destroy()),this._destroyListeners.forEach(r=>r());const n=this._injector.get(Q0,null);null==n||n(),this._destroyed=!0}get destroyed(){return this._destroyed}}return t.\u0275fac=function(n){return new(n||t)(pe(pn))},t.\u0275prov=_e({token:t,factory:t.\u0275fac,providedIn:"platform"}),t})();function X0(t,e){return Array.isArray(e)?e.reduce(X0,t):Object.assign(Object.assign({},t),e)}let J0=(()=>{class t{constructor(n,r,i,s){this._zone=n,this._injector=r,this._exceptionHandler=i,this._initStatus=s,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const o=new Et(u=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{u.next(this._stable),u.complete()})}),a=new Et(u=>{let l;this._zone.runOutsideAngular(()=>{l=this._zone.onStable.subscribe(()=>{Vt.assertNotInAngularZone(),Uf(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,u.next(!0))})})});const c=this._zone.onUnstable.subscribe(()=>{Vt.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{u.next(!1)}))});return()=>{l.unsubscribe(),c.unsubscribe()}});this.isStable=mM(o,a.pipe(function yM(t={}){const{connector:e=(()=>new pd),resetOnError:n=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=t;return s=>{let o,a,u,l=0,c=!1,d=!1;const h=()=>{null==a||a.unsubscribe(),a=void 0},f=()=>{h(),o=u=void 0,c=d=!1},p=()=>{const g=o;f(),null==g||g.unsubscribe()};return fo((g,m)=>{l++,!d&&!c&&h();const D=u=null!=u?u:e();m.add(()=>{l--,0===l&&!d&&!c&&(a=vd(p,i))}),D.subscribe(m),!o&&l>0&&(o=new ho({next:y=>D.next(y),error:y=>{d=!0,h(),a=vd(f,n,y),D.error(y)},complete:()=>{c=!0,h(),a=vd(f,r),D.complete()}}),ar(g).subscribe(o))})(s)}}()))}bootstrap(n,r){if(!this._initStatus.done)throw new J(405,"");let i;i=n instanceof s0?n:this._injector.get(dl).resolveComponentFactory(n),this.componentTypes.push(i.componentType);const s=function CV(t){return t.isBoundToModule}(i)?void 0:this._injector.get(Cs),a=i.create(pn.NULL,[],r||i.selector,s),u=a.location.nativeElement,l=a.injector.get(Gf,null),c=l&&a.injector.get(_V);return l&&c&&c.registerApplication(u,l),a.onDestroy(()=>{this.detachView(a.hostView),Wf(this.components,a),c&&c.unregisterApplication(u)}),this._loadComponent(a),a}tick(){if(this._runningTick)throw new J(101,"");try{this._runningTick=!0;for(let n of this._views)n.detectChanges()}catch(n){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(n))}finally{this._runningTick=!1}}attachView(n){const r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){const r=n;Wf(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n),this._injector.get(uV,[]).concat(this._bootstrapListeners).forEach(i=>i(n))}ngOnDestroy(){this._views.slice().forEach(n=>n.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return t.\u0275fac=function(n){return new(n||t)(pe(Vt),pe(pn),pe(ko),pe(Bf))},t.\u0275prov=_e({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function Wf(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}let tC=!0,iC=(()=>{class t{}return t.__NG_ELEMENT_ID__=NV,t})();function NV(t){return function FV(t,e,n){if(Du(t)&&!n){const r=zt(t.index,e);return new Qo(r,r)}return 47&t.type?new Qo(e[16],e):null}(Ge(),w(),16==(16&t))}const qV=Y0(null,"core",[]);let zV=(()=>{class t{constructor(n){}}return t.\u0275fac=function(n){return new(n||t)(pe(J0))},t.\u0275mod=dr({type:t}),t.\u0275inj=Hn({}),t})(),wl=null;function si(){return wl}const Rn=new te("DocumentToken");let bC=(()=>{class t{constructor(n,r){this._viewContainer=n,this._context=new jL,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(n){this._context.$implicit=this._context.ngIf=n,this._updateView()}set ngIfThen(n){IC("ngIfThen",n),this._thenTemplateRef=n,this._thenViewRef=null,this._updateView()}set ngIfElse(n){IC("ngIfElse",n),this._elseTemplateRef=n,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(n,r){return!0}}return t.\u0275fac=function(n){return new(n||t)(I(On),I(Xn))},t.\u0275dir=H({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),t})();class jL{constructor(){this.$implicit=null,this.ngIf=null}}function IC(t,e){if(e&&!e.createEmbeddedView)throw new Error(`${t} must be a TemplateRef, but received '${ae(e)}'.`)}let fB=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=dr({type:t}),t.\u0275inj=Hn({}),t})();class dp extends class _B extends class QV{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function KV(t){wl||(wl=t)}(new dp)}onAndCancel(e,n,r){return e.addEventListener(n,r,!1),()=>{e.removeEventListener(n,r,!1)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,n){return(n=n||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return"window"===n?window:"document"===n?e:"body"===n?e.body:null}getBaseHref(e){const n=function DB(){return ra=ra||document.querySelector("base"),ra?ra.getAttribute("href"):null}();return null==n?null:function wB(t){Nl=Nl||document.createElement("a"),Nl.setAttribute("href",t);const e=Nl.pathname;return"/"===e.charAt(0)?e:`/${e}`}(n)}resetBaseElement(){ra=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function kL(t,e){e=encodeURIComponent(e);for(const n of t.split(";")){const r=n.indexOf("="),[i,s]=-1==r?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(s)}return null}(document.cookie,e)}}let Nl,ra=null;const MC=new te("TRANSITION_ID"),CB=[{provide:H0,useFactory:function EB(t,e,n){return()=>{n.get(Bf).donePromise.then(()=>{const r=si(),i=e.querySelectorAll(`style[ng-transition="${t}"]`);for(let s=0;s<i.length;s++)r.remove(i[s])})}},deps:[MC,Rn,pn],multi:!0}];class hp{static init(){!function wV(t){qf=t}(new hp)}addToWindow(e){le.getAngularTestability=(r,i=!0)=>{const s=e.findTestabilityInTree(r,i);if(null==s)throw new Error("Could not find testability for element.");return s},le.getAllAngularTestabilities=()=>e.getAllTestabilities(),le.getAllAngularRootElements=()=>e.getAllRootElements(),le.frameworkStabilizers||(le.frameworkStabilizers=[]),le.frameworkStabilizers.push(r=>{const i=le.getAllAngularTestabilities();let s=i.length,o=!1;const a=function(u){o=o||u,s--,0==s&&r(o)};i.forEach(function(u){u.whenStable(a)})})}findTestabilityInTree(e,n,r){if(null==n)return null;const i=e.getTestability(n);return null!=i?i:r?si().isShadowRoot(n)?this.findTestabilityInTree(e,n.host,!0):this.findTestabilityInTree(e,n.parentElement,!0):null}}let bB=(()=>{class t{build(){return new XMLHttpRequest}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=_e({token:t,factory:t.\u0275fac}),t})();const Fl=new te("EventManagerPlugins");let Ol=(()=>{class t{constructor(n,r){this._zone=r,this._eventNameToPlugin=new Map,n.forEach(i=>i.manager=this),this._plugins=n.slice().reverse()}addEventListener(n,r,i){return this._findPluginFor(r).addEventListener(n,r,i)}addGlobalEventListener(n,r,i){return this._findPluginFor(r).addGlobalEventListener(n,r,i)}getZone(){return this._zone}_findPluginFor(n){const r=this._eventNameToPlugin.get(n);if(r)return r;const i=this._plugins;for(let s=0;s<i.length;s++){const o=i[s];if(o.supports(n))return this._eventNameToPlugin.set(n,o),o}throw new Error(`No event manager plugin found for event ${n}`)}}return t.\u0275fac=function(n){return new(n||t)(pe(Fl),pe(Vt))},t.\u0275prov=_e({token:t,factory:t.\u0275fac}),t})();class NC{constructor(e){this._doc=e}addGlobalEventListener(e,n,r){const i=si().getGlobalEventTarget(this._doc,e);if(!i)throw new Error(`Unsupported event target ${i} for event ${n}`);return this.addEventListener(i,n,r)}}let FC=(()=>{class t{constructor(){this._stylesSet=new Set}addStyles(n){const r=new Set;n.forEach(i=>{this._stylesSet.has(i)||(this._stylesSet.add(i),r.add(i))}),this.onStylesAdded(r)}onStylesAdded(n){}getAllStyles(){return Array.from(this._stylesSet)}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=_e({token:t,factory:t.\u0275fac}),t})(),ia=(()=>{class t extends FC{constructor(n){super(),this._doc=n,this._hostNodes=new Map,this._hostNodes.set(n.head,[])}_addStylesToHost(n,r,i){n.forEach(s=>{const o=this._doc.createElement("style");o.textContent=s,i.push(r.appendChild(o))})}addHost(n){const r=[];this._addStylesToHost(this._stylesSet,n,r),this._hostNodes.set(n,r)}removeHost(n){const r=this._hostNodes.get(n);r&&r.forEach(OC),this._hostNodes.delete(n)}onStylesAdded(n){this._hostNodes.forEach((r,i)=>{this._addStylesToHost(n,i,r)})}ngOnDestroy(){this._hostNodes.forEach(n=>n.forEach(OC))}}return t.\u0275fac=function(n){return new(n||t)(pe(Rn))},t.\u0275prov=_e({token:t,factory:t.\u0275fac}),t})();function OC(t){si().remove(t)}const fp={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},pp=/%COMP%/g;function Rl(t,e,n){for(let r=0;r<e.length;r++){let i=e[r];Array.isArray(i)?Rl(t,i,n):(i=i.replace(pp,t),n.push(i))}return n}function PC(t){return e=>{if("__ngUnwrap__"===e)return t;!1===t(e)&&(e.preventDefault(),e.returnValue=!1)}}let gp=(()=>{class t{constructor(n,r,i){this.eventManager=n,this.sharedStylesHost=r,this.appId=i,this.rendererByCompId=new Map,this.defaultRenderer=new mp(n)}createRenderer(n,r){if(!n||!r)return this.defaultRenderer;switch(r.encapsulation){case Cn.Emulated:{let i=this.rendererByCompId.get(r.id);return i||(i=new MB(this.eventManager,this.sharedStylesHost,r,this.appId),this.rendererByCompId.set(r.id,i)),i.applyToHost(n),i}case 1:case Cn.ShadowDom:return new NB(this.eventManager,this.sharedStylesHost,n,r);default:if(!this.rendererByCompId.has(r.id)){const i=Rl(r.id,r.styles,[]);this.sharedStylesHost.addStyles(i),this.rendererByCompId.set(r.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return t.\u0275fac=function(n){return new(n||t)(pe(Ol),pe(ia),pe(Jo))},t.\u0275prov=_e({token:t,factory:t.\u0275fac}),t})();class mp{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,n){return n?document.createElementNS(fp[n]||n,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,n){e.appendChild(n)}insertBefore(e,n,r){e&&e.insertBefore(n,r)}removeChild(e,n){e&&e.removeChild(n)}selectRootElement(e,n){let r="string"==typeof e?document.querySelector(e):e;if(!r)throw new Error(`The selector "${e}" did not match any elements`);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;const s=fp[i];s?e.setAttributeNS(s,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){const i=fp[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(Kt.DashCase|Kt.Important)?e.style.setProperty(n,r,i&Kt.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&Kt.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e[n]=r}setValue(e,n){e.nodeValue=n}listen(e,n,r){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,n,PC(r)):this.eventManager.addEventListener(e,n,PC(r))}}class MB extends mp{constructor(e,n,r,i){super(e),this.component=r;const s=Rl(i+"-"+r.id,r.styles,[]);n.addStyles(s),this.contentAttr=function SB(t){return"_ngcontent-%COMP%".replace(pp,t)}(i+"-"+r.id),this.hostAttr=function xB(t){return"_nghost-%COMP%".replace(pp,t)}(i+"-"+r.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,n){const r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}}class NB extends mp{constructor(e,n,r,i){super(e),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const s=Rl(i.id,i.styles,[]);for(let o=0;o<s.length;o++){const a=document.createElement("style");a.textContent=s[o],this.shadowRoot.appendChild(a)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(this.nodeOrShadowRoot(e),n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let FB=(()=>{class t extends NC{constructor(n){super(n)}supports(n){return!0}addEventListener(n,r,i){return n.addEventListener(r,i,!1),()=>this.removeEventListener(n,r,i)}removeEventListener(n,r,i){return n.removeEventListener(r,i)}}return t.\u0275fac=function(n){return new(n||t)(pe(Rn))},t.\u0275prov=_e({token:t,factory:t.\u0275fac}),t})();const LC=["alt","control","meta","shift"],RB={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},BC={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},kB={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let PB=(()=>{class t extends NC{constructor(n){super(n)}supports(n){return null!=t.parseEventName(n)}addEventListener(n,r,i){const s=t.parseEventName(r),o=t.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>si().onAndCancel(n,s.domEventName,o))}static parseEventName(n){const r=n.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const s=t._normalizeKey(r.pop());let o="";if(LC.forEach(u=>{const l=r.indexOf(u);l>-1&&(r.splice(l,1),o+=u+".")}),o+=s,0!=r.length||0===s.length)return null;const a={};return a.domEventName=i,a.fullKey=o,a}static getEventFullKey(n){let r="",i=function VB(t){let e=t.key;if(null==e){if(e=t.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===t.location&&BC.hasOwnProperty(e)&&(e=BC[e]))}return RB[e]||e}(n);return i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),LC.forEach(s=>{s!=i&&kB[s](n)&&(r+=s+".")}),r+=i,r}static eventCallback(n,r,i){return s=>{t.getEventFullKey(s)===n&&i.runGuarded(()=>r(s))}}static _normalizeKey(n){return"esc"===n?"escape":n}}return t.\u0275fac=function(n){return new(n||t)(pe(Rn))},t.\u0275prov=_e({token:t,factory:t.\u0275fac}),t})();const UB=Y0(qV,"browser",[{provide:q0,useValue:"browser"},{provide:G0,useValue:function LB(){dp.makeCurrent(),hp.init()},multi:!0},{provide:Rn,useFactory:function jB(){return function WM(t){Rd=t}(document),document},deps:[]}]),HB=[{provide:Yh,useValue:"root"},{provide:ko,useFactory:function BB(){return new ko},deps:[]},{provide:Fl,useClass:FB,multi:!0,deps:[Rn,Vt,q0]},{provide:Fl,useClass:PB,multi:!0,deps:[Rn]},{provide:gp,useClass:gp,deps:[Ol,ia,Jo]},{provide:a0,useExisting:gp},{provide:FC,useExisting:ia},{provide:ia,useClass:ia,deps:[Rn]},{provide:Gf,useClass:Gf,deps:[Vt]},{provide:Ol,useClass:Ol,deps:[Fl,Vt]},{provide:class vB{},useClass:bB,deps:[]}];let $B=(()=>{class t{constructor(n){if(n)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(n){return{ngModule:t,providers:[{provide:Jo,useValue:n.appId},{provide:MC,useExisting:Jo},CB]}}}return t.\u0275fac=function(n){return new(n||t)(pe(t,12))},t.\u0275mod=dr({type:t}),t.\u0275inj=Hn({providers:HB,imports:[fB,zV]}),t})();"undefined"!=typeof window&&window;const{isArray:e2}=Array,{getPrototypeOf:t2,prototype:n2,keys:r2}=Object;const{isArray:o2}=Array;function l2(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}function c2(...t){const e=function aM(t){return se(yd(t))?t.pop():void 0}(t),{args:n,keys:r}=function i2(t){if(1===t.length){const e=t[0];if(e2(e))return{args:e,keys:null};if(function s2(t){return t&&"object"==typeof t&&t2(t)===n2}(e)){const n=r2(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}(t),i=new Et(s=>{const{length:o}=n;if(!o)return void s.complete();const a=new Array(o);let u=o,l=o;for(let c=0;c<o;c++){let d=!1;ar(n[c]).subscribe(po(s,h=>{d||(d=!0,l--),a[c]=h},()=>u--,void 0,()=>{(!u||!d)&&(l||s.next(r?l2(r,a):a),s.complete())}))}});return e?i.pipe(function u2(t){return gd(e=>function a2(t,e){return o2(e)?t(...e):t(e)}(t,e))}(e)):i}let HC=(()=>{class t{constructor(n,r){this._renderer=n,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(n,r){this._renderer.setProperty(this._elementRef.nativeElement,n,r)}registerOnTouched(n){this.onTouched=n}registerOnChange(n){this.onChange=n}setDisabledState(n){this.setProperty("disabled",n)}}return t.\u0275fac=function(n){return new(n||t)(I(ni),I(vn))},t.\u0275dir=H({type:t}),t})(),oi=(()=>{class t extends HC{}return t.\u0275fac=function(){let e;return function(r){return(e||(e=gt(t)))(r||t)}}(),t.\u0275dir=H({type:t,features:[ue]}),t})();const kn=new te("NgValueAccessor"),h2={provide:kn,useExisting:ge(()=>kl),multi:!0},p2=new te("CompositionEventMode");let kl=(()=>{class t extends HC{constructor(n,r,i){super(n,r),this._compositionMode=i,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function f2(){const t=si()?si().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}())}writeValue(n){this.setProperty("value",null==n?"":n)}_handleInput(n){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(n)}_compositionStart(){this._composing=!0}_compositionEnd(n){this._composing=!1,this._compositionMode&&this.onChange(n)}}return t.\u0275fac=function(n){return new(n||t)(I(ni),I(vn),I(p2,8))},t.\u0275dir=H({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(n,r){1&n&&Ze("input",function(s){return r._handleInput(s.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(s){return r._compositionEnd(s.target.value)})},features:[Ee([h2]),ue]}),t})();const vt=new te("NgValidators"),Cr=new te("NgAsyncValidators");function Pl(t){return null}function JC(t){return null!=t}function eb(t){const e=il(t)?Nv(t):t;return Bw(e),e}function tb(t){let e={};return t.forEach(n=>{e=null!=n?Object.assign(Object.assign({},e),n):e}),0===Object.keys(e).length?null:e}function nb(t,e){return e.map(n=>n(t))}function rb(t){return t.map(e=>function m2(t){return!t.validate}(e)?e:n=>e.validate(n))}function vp(t){return null!=t?function ib(t){if(!t)return null;const e=t.filter(JC);return 0==e.length?null:function(n){return tb(nb(n,e))}}(rb(t)):null}function _p(t){return null!=t?function sb(t){if(!t)return null;const e=t.filter(JC);return 0==e.length?null:function(n){return c2(nb(n,e).map(eb)).pipe(gd(tb))}}(rb(t)):null}function ob(t,e){return null===t?[e]:Array.isArray(t)?[...t,e]:[t,e]}function Dp(t){return t?Array.isArray(t)?t:[t]:[]}function Vl(t,e){return Array.isArray(t)?t.includes(e):t===e}function lb(t,e){const n=Dp(e);return Dp(t).forEach(i=>{Vl(n,i)||n.push(i)}),n}function cb(t,e){return Dp(e).filter(n=>!Vl(t,n))}class db{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=vp(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=_p(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,n){return!!this.control&&this.control.hasError(e,n)}getError(e,n){return this.control?this.control.getError(e,n):null}}class br extends db{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class Mt extends db{get formDirective(){return null}get path(){return null}}let fb=(()=>{class t extends class hb{constructor(e){this._cd=e}is(e){var n,r,i;return"submitted"===e?!!(null===(n=this._cd)||void 0===n?void 0:n.submitted):!!(null===(i=null===(r=this._cd)||void 0===r?void 0:r.control)||void 0===i?void 0:i[e])}}{constructor(n){super(n)}}return t.\u0275fac=function(n){return new(n||t)(I(br,2))},t.\u0275dir=H({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(n,r){2&n&&$o("ng-untouched",r.is("untouched"))("ng-touched",r.is("touched"))("ng-pristine",r.is("pristine"))("ng-dirty",r.is("dirty"))("ng-valid",r.is("valid"))("ng-invalid",r.is("invalid"))("ng-pending",r.is("pending"))},features:[ue]}),t})();function sa(t,e){(function Cp(t,e){const n=function ab(t){return t._rawValidators}(t);null!==e.validator?t.setValidators(ob(n,e.validator)):"function"==typeof n&&t.setValidators([n]);const r=function ub(t){return t._rawAsyncValidators}(t);null!==e.asyncValidator?t.setAsyncValidators(ob(r,e.asyncValidator)):"function"==typeof r&&t.setAsyncValidators([r]);const i=()=>t.updateValueAndValidity();Ul(e._rawValidators,i),Ul(e._rawAsyncValidators,i)})(t,e),e.valueAccessor.writeValue(t.value),function I2(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,"change"===t.updateOn&&gb(t,e)})}(t,e),function S2(t,e){const n=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}(t,e),function T2(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,"blur"===t.updateOn&&t._pendingChange&&gb(t,e),"submit"!==t.updateOn&&t.markAsTouched()})}(t,e),function b2(t,e){if(e.valueAccessor.setDisabledState){const n=r=>{e.valueAccessor.setDisabledState(r)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}(t,e)}function Ul(t,e){t.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(e)})}function gb(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function Tp(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const oa="VALID",$l="INVALID",Ts="PENDING",aa="DISABLED";function xp(t){return(Gl(t)?t.validators:t)||null}function _b(t){return Array.isArray(t)?vp(t):t||null}function Ap(t,e){return(Gl(e)?e.asyncValidators:t)||null}function Db(t){return Array.isArray(t)?_p(t):t||null}function Gl(t){return null!=t&&!Array.isArray(t)&&"object"==typeof t}const Mp=t=>t instanceof Fp;function Eb(t){return(t=>t instanceof Ib)(t)?t.value:t.getRawValue()}function Cb(t,e){const n=Mp(t),r=t.controls;if(!(n?Object.keys(r):r).length)throw new J(1e3,"");if(!r[e])throw new J(1001,"")}function bb(t,e){Mp(t),t._forEachChild((r,i)=>{if(void 0===e[i])throw new J(1002,"")})}class Np{constructor(e,n){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=e,this._rawAsyncValidators=n,this._composedValidatorFn=_b(this._rawValidators),this._composedAsyncValidatorFn=Db(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===oa}get invalid(){return this.status===$l}get pending(){return this.status==Ts}get disabled(){return this.status===aa}get enabled(){return this.status!==aa}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._rawValidators=e,this._composedValidatorFn=_b(e)}setAsyncValidators(e){this._rawAsyncValidators=e,this._composedAsyncValidatorFn=Db(e)}addValidators(e){this.setValidators(lb(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(lb(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(cb(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(cb(e,this._rawAsyncValidators))}hasValidator(e){return Vl(this._rawValidators,e)}hasAsyncValidator(e){return Vl(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(n=>{n.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(n=>{n.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=Ts,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const n=this._parentMarkedDirty(e.onlySelf);this.status=aa,this.errors=null,this._forEachChild(r=>{r.disable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:n})),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const n=this._parentMarkedDirty(e.onlySelf);this.status=oa,this._forEachChild(r=>{r.enable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:n})),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===oa||this.status===Ts)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?aa:oa}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=Ts,this._hasOwnPendingAsyncValidator=!0;const n=eb(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,n={}){this.errors=e,this._updateControlsErrors(!1!==n.emitEvent)}get(e){return function N2(t,e,n){if(null==e||(Array.isArray(e)||(e=e.split(n)),Array.isArray(e)&&0===e.length))return null;let r=t;return e.forEach(i=>{r=Mp(r)?r.controls.hasOwnProperty(i)?r.controls[i]:null:(t=>t instanceof O2)(r)&&r.at(i)||null}),r}(this,e,".")}getError(e,n){const r=n?this.get(n):this;return r&&r.errors?r.errors[e]:null}hasError(e,n){return!!this.getError(e,n)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new ot,this.statusChanges=new ot}_calculateStatus(){return this._allControlsDisabled()?aa:this.errors?$l:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Ts)?Ts:this._anyControlsHaveStatus($l)?$l:oa}_anyControlsHaveStatus(e){return this._anyControls(n=>n.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_isBoxedValue(e){return"object"==typeof e&&null!==e&&2===Object.keys(e).length&&"value"in e&&"disabled"in e}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Gl(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class Ib extends Np{constructor(e=null,n,r){super(xp(n),Ap(r,n)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Gl(n)&&n.initialValueIsDefault&&(this.defaultValue=this._isBoxedValue(e)?e.value:e)}setValue(e,n={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==n.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==n.emitViewToModelChange)),this.updateValueAndValidity(n)}patchValue(e,n={}){this.setValue(e,n)}reset(e=this.defaultValue,n={}){this._applyFormState(e),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){Tp(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){Tp(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){this._isBoxedValue(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}}class Fp extends Np{constructor(e,n,r){super(xp(n),Ap(r,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,n){return this.controls[e]?this.controls[e]:(this.controls[e]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(e,n,r={}){this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,n={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(e,n,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],n&&this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,n={}){bb(this,e),Object.keys(e).forEach(r=>{Cb(this,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){null!=e&&(Object.keys(e).forEach(r=>{this.controls[r]&&this.controls[r].patchValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e={},n={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n),this._updateTouched(n),this.updateValueAndValidity(n)}getRawValue(){return this._reduceChildren({},(e,n,r)=>(e[r]=Eb(n),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(n,r)=>!!r._syncPendingControls()||n);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(n=>{const r=this.controls[n];r&&e(r,n)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const n of Object.keys(this.controls)){const r=this.controls[n];if(this.contains(n)&&e(r))return!0}return!1}_reduceValue(){return this._reduceChildren({},(e,n,r)=>((n.enabled||this.disabled)&&(e[r]=n.value),e))}_reduceChildren(e,n){let r=e;return this._forEachChild((i,s)=>{r=n(r,i,s)}),r}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}}class O2 extends Np{constructor(e,n,r){super(xp(n),Ap(r,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[e]}push(e,n={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}insert(e,n,r={}){this.controls.splice(e,0,n),this._registerControl(n),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(e,n={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),this.updateValueAndValidity({emitEvent:n.emitEvent})}setControl(e,n,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),n&&(this.controls.splice(e,0,n),this._registerControl(n)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,n={}){bb(this,e),e.forEach((r,i)=>{Cb(this,i),this.at(i).setValue(r,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){null!=e&&(e.forEach((r,i)=>{this.at(i)&&this.at(i).patchValue(r,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e=[],n={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n),this._updateTouched(n),this.updateValueAndValidity(n)}getRawValue(){return this.controls.map(e=>Eb(e))}clear(e={}){this.controls.length<1||(this._forEachChild(n=>n._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_syncPendingControls(){let e=this.controls.reduce((n,r)=>!!r._syncPendingControls()||n,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((n,r)=>{e(n,r)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(n=>n.enabled&&e(n))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(const e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}}const P2={provide:br,useExisting:ge(()=>Rp)},xb=(()=>Promise.resolve(null))();let Rp=(()=>{class t extends br{constructor(n,r,i,s,o){super(),this._changeDetectorRef=o,this.control=new Ib,this._registered=!1,this.update=new ot,this._parent=n,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=function Ip(t,e){if(!e)return null;let n,r,i;return Array.isArray(e),e.forEach(s=>{s.constructor===kl?n=s:function M2(t){return Object.getPrototypeOf(t.constructor)===oi}(s)?r=s:i=s}),i||r||n||null}(0,s)}ngOnChanges(n){if(this._checkForErrors(),!this._registered||"name"in n){if(this._registered&&(this._checkName(),this.formDirective)){const r=n.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in n&&this._updateDisabled(n),function bp(t,e){if(!t.hasOwnProperty("model"))return!1;const n=t.model;return!!n.isFirstChange()||!Object.is(e,n.currentValue)}(n,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){sa(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(n){xb.then(()=>{var r;this.control.setValue(n,{emitViewToModelChange:!1}),null===(r=this._changeDetectorRef)||void 0===r||r.markForCheck()})}_updateDisabled(n){const r=n.isDisabled.currentValue,i=""===r||r&&"false"!==r;xb.then(()=>{var s;i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),null===(s=this._changeDetectorRef)||void 0===s||s.markForCheck()})}_getPath(n){return this._parent?function Bl(t,e){return[...e.path,t]}(n,this._parent):[n]}}return t.\u0275fac=function(n){return new(n||t)(I(Mt,9),I(vt,10),I(Cr,10),I(kn,10),I(iC,8))},t.\u0275dir=H({type:t,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[Ee([P2]),ue,Gn]}),t})();const L2={provide:kn,useExisting:ge(()=>kp),multi:!0};let kp=(()=>{class t extends oi{writeValue(n){this.setProperty("value",null==n?"":n)}registerOnChange(n){this.onChange=r=>{n(""==r?null:parseFloat(r))}}}return t.\u0275fac=function(){let e;return function(r){return(e||(e=gt(t)))(r||t)}}(),t.\u0275dir=H({type:t,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(n,r){1&n&&Ze("input",function(s){return r.onChange(s.target.value)})("blur",function(){return r.onTouched()})},features:[Ee([L2]),ue]}),t})(),Ab=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=dr({type:t}),t.\u0275inj=Hn({}),t})();let ai=(()=>{class t{constructor(){this._validator=Pl}ngOnChanges(n){if(this.inputName in n){const r=this.normalizeInput(n[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):Pl,this._onChange&&this._onChange()}}validate(n){return this._validator(n)}registerOnValidatorChange(n){this._onChange=n}enabled(n){return null!=n}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275dir=H({type:t,features:[Gn]}),t})();const oj={provide:vt,useExisting:ge(()=>Hp),multi:!0};let Hp=(()=>{class t extends ai{constructor(){super(...arguments),this.inputName="maxlength",this.normalizeInput=n=>function Lb(t){return"number"==typeof t?t:parseInt(t,10)}(n),this.createValidator=n=>function ZC(t){return e=>function GC(t){return null!=t&&"number"==typeof t.length}(e.value)&&e.value.length>t?{maxlength:{requiredLength:t,actualLength:e.value.length}}:null}(n)}}return t.\u0275fac=function(){let e;return function(r){return(e||(e=gt(t)))(r||t)}}(),t.\u0275dir=H({type:t,selectors:[["","maxlength","","formControlName",""],["","maxlength","","formControl",""],["","maxlength","","ngModel",""]],hostVars:1,hostBindings:function(n,r){2&n&&Yn("maxlength",r._enabled?r.maxlength:null)},inputs:{maxlength:"maxlength"},features:[Ee([oj]),ue]}),t})(),uj=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=dr({type:t}),t.\u0275inj=Hn({imports:[[Ab]]}),t})(),lj=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=dr({type:t}),t.\u0275inj=Hn({imports:[uj]}),t})();function zb(t,e,n,r,i,s,o){try{var a=t[s](o),u=a.value}catch(l){return void n(l)}a.done?e(u):Promise.resolve(u).then(r,i)}function M(t){return function(){var e=this,n=arguments;return new Promise(function(r,i){var s=t.apply(e,n);function o(u){zb(s,r,i,o,a,"next",u)}function a(u){zb(s,r,i,o,a,"throw",u)}o(void 0)})}}const Wb=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=63&i|128):55296==(64512&i)&&r+1<t.length&&56320==(64512&t.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&t.charCodeAt(++r)),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=63&i|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=63&i|128)}return e},Kb={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,u=i+2<t.length,l=u?t[i+2]:0;let h=(15&a)<<2|l>>6,f=63&l;u||(f=64,o||(h=64)),r.push(n[s>>2],n[(3&s)<<4|a>>4],n[h],n[f])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(Wb(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((31&i)<<6|63&s)}else if(i>239&&i<365){const u=((7&i)<<18|(63&t[n++])<<12|(63&t[n++])<<6|63&t[n++])-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(1023&u))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&o)}}return e.join("")}(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const l=i<t.length?n[t.charAt(i)]:64;++i;const d=i<t.length?n[t.charAt(i)]:64;if(++i,null==s||null==a||null==l||null==d)throw Error();r.push(s<<2|a>>4),64!==l&&(r.push(a<<4&240|l>>2),64!==d&&r.push(l<<6&192|d))}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},ql=function(t){return function(t){const e=Wb(t);return Kb.encodeByteArray(e,!0)}(t).replace(/\./g,"")};class Zb{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),"function"==typeof e&&(this.promise.catch(()=>{}),1===e.length?e(n):e(n,r))}}}function zl(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}class Ss extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name="FirebaseError",Object.setPrototypeOf(this,Ss.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Xb.prototype.create)}}class Xb{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?function Ij(t,e){return t.replace(Tj,(n,r)=>{const i=e[r];return null!=i?String(i):`<${r}?>`})}(s,r):"Error";return new Ss(i,`${this.serviceName}: ${o} (${i}).`,r)}}const Tj=/\{\$([^}]+)}/g;function Gp(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(eI(s)&&eI(o)){if(!Gp(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function eI(t){return null!==t&&"object"==typeof t}function Ir(t){return t&&t._delegate?t._delegate:t}class la{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const ui="[DEFAULT]";class Rj{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new Zb;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch(i){}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(null==e?void 0:e.identifier),i=null!==(n=null==e?void 0:e.optional)&&void 0!==n&&n;if(!this.isInitialized(r)&&!this.shouldAutoInitialize()){if(i)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if(function Pj(t){return"EAGER"===t.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:ui})}catch(n){}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch(s){}}}}clearInstance(e=ui){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){var e=this;return M(function*(){const n=Array.from(e.instances.values());yield Promise.all([...n.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...n.filter(r=>"_delete"in r).map(r=>r._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(e=ui){return this.instances.has(e)}getOptions(e=ui){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries())r===this.normalizeInstanceIdentifier(s)&&o.resolve(i);return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=null!==(r=this.onInitCallbacks.get(i))&&void 0!==r?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch(s){}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(t=e,t===ui?void 0:t),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch(i){}var t;return r||null}normalizeInstanceIdentifier(e=ui){return this.component?this.component.multipleInstances?e:ui:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Vj{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new Rj(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}const Wp=[];var oe=(()=>{return(t=oe||(oe={}))[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",oe;var t})();const tI={debug:oe.DEBUG,verbose:oe.VERBOSE,info:oe.INFO,warn:oe.WARN,error:oe.ERROR,silent:oe.SILENT},Lj=oe.INFO,Bj={[oe.DEBUG]:"log",[oe.VERBOSE]:"log",[oe.INFO]:"info",[oe.WARN]:"warn",[oe.ERROR]:"error"},jj=(t,e,...n)=>{if(e<t.logLevel)return;const r=(new Date).toISOString(),i=Bj[e];if(!i)throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`);console[i](`[${r}]  ${t.name}:`,...n)};class nI{constructor(e){this.name=e,this._logLevel=Lj,this._logHandler=jj,this._userLogHandler=null,Wp.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in oe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"==typeof e?tI[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,oe.DEBUG,...e),this._logHandler(this,oe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,oe.VERBOSE,...e),this._logHandler(this,oe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,oe.INFO,...e),this._logHandler(this,oe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,oe.WARN,...e),this._logHandler(this,oe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,oe.ERROR,...e),this._logHandler(this,oe.ERROR,...e)}}let rI,iI;const sI=new WeakMap,Kp=new WeakMap,oI=new WeakMap,Qp=new WeakMap,Yp=new WeakMap;let Zp={get(t,e,n){if(t instanceof IDBTransaction){if("done"===e)return Kp.get(t);if("objectStoreNames"===e)return t.objectStoreNames||oI.get(t);if("store"===e)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Tr(t[e])},set:(t,e,n)=>(t[e]=n,!0),has:(t,e)=>t instanceof IDBTransaction&&("done"===e||"store"===e)||e in t};function Kj(t){return"function"==typeof t?function Wj(t){return t!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function $j(){return iI||(iI=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(t)?function(...e){return t.apply(Xp(this),e),Tr(sI.get(this))}:function(...e){return Tr(t.apply(Xp(this),e))}:function(e,...n){const r=t.call(Xp(this),e,...n);return oI.set(r,e.sort?e.sort():[e]),Tr(r)}}(t):(t instanceof IDBTransaction&&function qj(t){if(Kp.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});Kp.set(t,e)}(t),((t,e)=>e.some(n=>t instanceof n))(t,function Hj(){return rI||(rI=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(t,Zp):t)}function Tr(t){if(t instanceof IDBRequest)return function Gj(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(Tr(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&sI.set(n,t)}).catch(()=>{}),Yp.set(e,t),e}(t);if(Qp.has(t))return Qp.get(t);const e=Kj(t);return e!==t&&(Qp.set(t,e),Yp.set(e,t)),e}const Xp=t=>Yp.get(t),Yj=["get","getKey","getAll","getAllKeys","count"],Zj=["put","add","delete","clear"],Jp=new Map;function aI(t,e){if(!(t instanceof IDBDatabase)||e in t||"string"!=typeof e)return;if(Jp.get(e))return Jp.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=Zj.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!Yj.includes(n))return;const s=function(){var o=M(function*(a,...u){const l=this.transaction(a,i?"readwrite":"readonly");let c=l.store;return r&&(c=c.index(u.shift())),(yield Promise.all([c[n](...u),i&&l.done]))[0]});return function(u){return o.apply(this,arguments)}}();return Jp.set(e,s),s}!function zj(t){Zp=t(Zp)}(t=>NA(MA({},t),{get:(e,n,r)=>aI(e,n)||t.get(e,n,r),has:(e,n)=>!!aI(e,n)||t.has(e,n)}));class Xj{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(function Jj(t){const e=t.getComponent();return"VERSION"===(null==e?void 0:e.type)}(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}return null}).filter(n=>n).join(" ")}}const eg="@firebase/app",li=new nI("@firebase/app"),tg="[DEFAULT]",IU={[eg]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},ci=new Map,Kl=new Map;function TU(t,e){try{t.container.addComponent(e)}catch(n){li.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Ql(t){const e=t.name;if(Kl.has(e))return li.debug(`There were multiple attempts to register component ${e}.`),!1;Kl.set(e,t);for(const n of ci.values())TU(n,t);return!0}const Sr=new Xb("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class xU{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new la("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Sr.create("app-deleted",{appName:this._name})}}function xs(t,e,n){var r;let i=null!==(r=IU[t])&&void 0!==r?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];return s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),void li.warn(a.join(" "))}Ql(new la(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}const ca="firebase-heartbeat-store";let rg=null;function cI(){return rg||(rg=function Qj(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=Tr(o);return r&&o.addEventListener("upgradeneeded",u=>{r(Tr(o.result),u.oldVersion,u.newVersion,Tr(o.transaction))}),n&&o.addEventListener("blocked",()=>n()),a.then(u=>{s&&u.addEventListener("close",()=>s()),i&&u.addEventListener("versionchange",()=>i())}).catch(()=>{}),a}("firebase-heartbeat-database",1,{upgrade:(t,e)=>{0===e&&t.createObjectStore(ca)}}).catch(t=>{throw Sr.create("idb-open",{originalErrorMessage:t.message})})),rg}function ig(){return(ig=M(function*(t){var e;try{return(yield cI()).transaction(ca).objectStore(ca).get(hI(t))}catch(n){if(n instanceof Ss)li.warn(n.message);else{const r=Sr.create("idb-get",{originalErrorMessage:null===(e=n)||void 0===e?void 0:e.message});li.warn(r.message)}}})).apply(this,arguments)}function dI(t,e){return sg.apply(this,arguments)}function sg(){return(sg=M(function*(t,e){var n;try{const i=(yield cI()).transaction(ca,"readwrite");return yield i.objectStore(ca).put(e,hI(t)),i.done}catch(r){if(r instanceof Ss)li.warn(r.message);else{const i=Sr.create("idb-set",{originalErrorMessage:null===(n=r)||void 0===n?void 0:n.message});li.warn(i.message)}}})).apply(this,arguments)}function hI(t){return`${t.name}!${t.options.appId}`}class VU{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new BU(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){var e=this;return M(function*(){const r=e.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=fI();if(null===e._heartbeatsCache&&(e._heartbeatsCache=yield e._heartbeatsCachePromise),e._heartbeatsCache.lastSentHeartbeatDate!==i&&!e._heartbeatsCache.heartbeats.some(s=>s.date===i))return e._heartbeatsCache.heartbeats.push({date:i,agent:r}),e._heartbeatsCache.heartbeats=e._heartbeatsCache.heartbeats.filter(s=>{const o=new Date(s.date).valueOf();return Date.now()-o<=2592e6}),e._storage.overwrite(e._heartbeatsCache)})()}getHeartbeatsHeader(){var e=this;return M(function*(){if(null===e._heartbeatsCache&&(yield e._heartbeatsCachePromise),null===e._heartbeatsCache||0===e._heartbeatsCache.heartbeats.length)return"";const n=fI(),{heartbeatsToSend:r,unsentEntries:i}=function LU(t,e=1024){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),pI(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),pI(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(e._heartbeatsCache.heartbeats),s=ql(JSON.stringify({version:2,heartbeats:r}));return e._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(e._heartbeatsCache.heartbeats=i,yield e._storage.overwrite(e._heartbeatsCache)):(e._heartbeatsCache.heartbeats=[],e._storage.overwrite(e._heartbeatsCache)),s})()}}function fI(){return(new Date).toISOString().substring(0,10)}class BU{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return M(function*(){return!!function Ej(){return"object"==typeof indexedDB}()&&function Cj(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e((null===(s=i.error)||void 0===s?void 0:s.message)||"")}}catch(n){e(n)}})}().then(()=>!0).catch(()=>!1)})()}read(){var e=this;return M(function*(){return(yield e._canUseIndexedDBPromise)&&(yield function RU(t){return ig.apply(this,arguments)}(e.app))||{heartbeats:[]}})()}overwrite(e){var n=this;return M(function*(){var r;if(yield n._canUseIndexedDBPromise){const s=yield n.read();return dI(n.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}})()}add(e){var n=this;return M(function*(){var r;if(yield n._canUseIndexedDBPromise){const s=yield n.read();return dI(n.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}})()}}function pI(t){return ql(JSON.stringify({version:2,heartbeats:t})).length}!function jU(t){Ql(new la("platform-logger",e=>new Xj(e),"PRIVATE")),Ql(new la("heartbeat",e=>new VU(e),"PRIVATE")),xs(eg,"0.7.32",t),xs(eg,"0.7.32","esm2017"),xs("fire-js","")}(""),xs("firebase","9.9.4","app");var N,$U="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},er={},og=og||{},B=$U||self;function Yl(){}function ag(t){var e=typeof t;return"array"==(e="object"!=e?e:t?Array.isArray(t)?"array":e:"null")||"object"==e&&"number"==typeof t.length}function da(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var ug="closure_uid_"+(1e9*Math.random()>>>0),qU=0;function zU(t,e,n){return t.call.apply(t.bind,arguments)}function WU(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function at(t,e,n){return(at=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?zU:WU).apply(null,arguments)}function Zl(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function ut(t,e){function n(){}n.prototype=e.prototype,t.Z=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.Vb=function(r,i,s){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return e.prototype[i].apply(r,o)}}function xr(){this.s=this.s,this.o=this.o}var QU={};xr.prototype.s=!1,xr.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var t=function GU(t){return Object.prototype.hasOwnProperty.call(t,ug)&&t[ug]||(t[ug]=++qU)}(this);delete QU[t]}},xr.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const gI=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},mI=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){const r=t.length,i="string"==typeof t?t.split(""):t;for(let s=0;s<r;s++)s in i&&e.call(n,i[s],s,t)};function yI(t){return Array.prototype.concat.apply([],arguments)}function lg(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function Xl(t){return/^[\s\xa0]*$/.test(t)}var Ft,vI=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function Nt(t,e){return-1!=t.indexOf(e)}function cg(t,e){return t<e?-1:t>e?1:0}e:{var _I=B.navigator;if(_I){var DI=_I.userAgent;if(DI){Ft=DI;break e}}Ft=""}function dg(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function wI(t){const e={};for(const n in t)e[n]=t[n];return e}var EI="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function CI(t,e){let n,r;for(let i=1;i<arguments.length;i++){for(n in r=arguments[i],r)t[n]=r[n];for(let s=0;s<EI.length;s++)n=EI[s],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function hg(t){return hg[" "](t),t}hg[" "]=Yl;var Jl,t,XU=Nt(Ft,"Opera"),As=Nt(Ft,"Trident")||Nt(Ft,"MSIE"),bI=Nt(Ft,"Edge"),fg=bI||As,II=Nt(Ft,"Gecko")&&!(Nt(Ft.toLowerCase(),"webkit")&&!Nt(Ft,"Edge"))&&!(Nt(Ft,"Trident")||Nt(Ft,"MSIE"))&&!Nt(Ft,"Edge"),JU=Nt(Ft.toLowerCase(),"webkit")&&!Nt(Ft,"Edge");function TI(){var t=B.document;return t?t.documentMode:void 0}e:{var pg="",gg=(t=Ft,II?/rv:([^\);]+)(\)|;)/.exec(t):bI?/Edge\/([\d\.]+)/.exec(t):As?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t):JU?/WebKit\/(\S+)/.exec(t):XU?/(?:Version)[ \/]?(\S+)/.exec(t):void 0);if(gg&&(pg=gg?gg[1]:""),As){var mg=TI();if(null!=mg&&mg>parseFloat(pg)){Jl=String(mg);break e}}Jl=pg}var eH={};var nH=B.document&&As&&(TI()||parseInt(Jl,10))||void 0,rH=function(){if(!B.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{B.addEventListener("test",Yl,e),B.removeEventListener("test",Yl,e)}catch(n){}return t}();function _t(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}function ha(t,e){if(_t.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(II){e:{try{hg(e.nodeName);var i=!0;break e}catch(s){}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:iH[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&ha.Z.h.call(this)}}_t.prototype.h=function(){this.defaultPrevented=!0},ut(ha,_t);var iH={2:"touch",3:"pen",4:"mouse"};ha.prototype.h=function(){ha.Z.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var fa="closure_listenable_"+(1e6*Math.random()|0),sH=0;function oH(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.ia=i,this.key=++sH,this.ca=this.fa=!1}function ec(t){t.ca=!0,t.listener=null,t.proxy=null,t.src=null,t.ia=null}function tc(t){this.src=t,this.g={},this.h=0}function vg(t,e){var n=e.type;if(n in t.g){var s,r=t.g[n],i=gI(r,e);(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(ec(e),0==t.g[n].length&&(delete t.g[n],t.h--))}}function _g(t,e,n,r){for(var i=0;i<t.length;++i){var s=t[i];if(!s.ca&&s.listener==e&&s.capture==!!n&&s.ia==r)return i}return-1}tc.prototype.add=function(t,e,n,r,i){var s=t.toString();(t=this.g[s])||(t=this.g[s]=[],this.h++);var o=_g(t,e,r,i);return-1<o?(e=t[o],n||(e.fa=!1)):((e=new oH(e,this.src,s,!!r,i)).fa=n,t.push(e)),e};var Dg="closure_lm_"+(1e6*Math.random()|0),wg={};function xI(t,e,n,r,i){if(r&&r.once)return MI(t,e,n,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)xI(t,e[s],n,r,i);return null}return n=Ig(n),t&&t[fa]?t.N(e,n,da(r)?!!r.capture:!!r,i):AI(t,e,n,!1,r,i)}function AI(t,e,n,r,i,s){if(!e)throw Error("Invalid event type");var o=da(i)?!!i.capture:!!i,a=Cg(t);if(a||(t[Dg]=a=new tc(t)),(n=a.add(e,n,r,o,s)).proxy)return n;if(r=function aH(){var e=uH;return function t(n){return e.call(t.src,t.listener,n)}}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)rH||(i=o),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(FI(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function MI(t,e,n,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)MI(t,e[s],n,r,i);return null}return n=Ig(n),t&&t[fa]?t.O(e,n,da(r)?!!r.capture:!!r,i):AI(t,e,n,!0,r,i)}function NI(t,e,n,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)NI(t,e[s],n,r,i);else r=da(r)?!!r.capture:!!r,n=Ig(n),t&&t[fa]?(t=t.i,(e=String(e).toString())in t.g&&-1<(n=_g(s=t.g[e],n,r,i))&&(ec(s[n]),Array.prototype.splice.call(s,n,1),0==s.length&&(delete t.g[e],t.h--))):t&&(t=Cg(t))&&(e=t.g[e.toString()],t=-1,e&&(t=_g(e,n,r,i)),(n=-1<t?e[t]:null)&&Eg(n))}function Eg(t){if("number"!=typeof t&&t&&!t.ca){var e=t.src;if(e&&e[fa])vg(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(FI(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=Cg(e))?(vg(n,t),0==n.h&&(n.src=null,e[Dg]=null)):ec(t)}}}function FI(t){return t in wg?wg[t]:wg[t]="on"+t}function uH(t,e){if(t.ca)t=!0;else{e=new ha(e,this);var n=t.listener,r=t.ia||t.src;t.fa&&Eg(t),t=n.call(r,e)}return t}function Cg(t){return(t=t[Dg])instanceof tc?t:null}var bg="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ig(t){return"function"==typeof t?t:(t[bg]||(t[bg]=function(e){return t.handleEvent(e)}),t[bg])}function Xe(){xr.call(this),this.i=new tc(this),this.P=this,this.I=null}function lt(t,e){var n,r=t.I;if(r)for(n=[];r;r=r.I)n.push(r);if(t=t.P,r=e.type||e,"string"==typeof e)e=new _t(e,t);else if(e instanceof _t)e.target=e.target||t;else{var i=e;CI(e=new _t(r,t),i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=e.g=n[s];i=nc(o,r,!0,e)&&i}if(i=nc(o=e.g=t,r,!0,e)&&i,i=nc(o,r,!1,e)&&i,n)for(s=0;s<n.length;s++)i=nc(o=e.g=n[s],r,!1,e)&&i}function nc(t,e,n,r){if(!(e=t.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.ca&&o.capture==n){var a=o.listener,u=o.ia||o.src;o.fa&&vg(t.i,o),i=!1!==a.call(u,r)&&i}}return i&&!r.defaultPrevented}ut(Xe,xr),Xe.prototype[fa]=!0,Xe.prototype.removeEventListener=function(t,e,n,r){NI(this,t,e,n,r)},Xe.prototype.M=function(){if(Xe.Z.M.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)ec(n[r]);delete t.g[e],t.h--}}this.I=null},Xe.prototype.N=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)},Xe.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};var Tg=B.JSON.stringify;function lH(){var t=RI;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}var xg,OI=new class{constructor(t,e){this.i=t,this.j=e,this.h=0,this.g=null}get(){let t;return 0<this.h?(this.h--,t=this.g,this.g=t.next,t.next=null):t=this.i(),t}}(()=>new dH,t=>t.reset());class dH{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function hH(t){B.setTimeout(()=>{throw t},0)}function Sg(t,e){xg||function fH(){var t=B.Promise.resolve(void 0);xg=function(){t.then(pH)}}(),Ag||(xg(),Ag=!0),RI.add(t,e)}var Ag=!1,RI=new class cH{constructor(){this.h=this.g=null}add(e,n){const r=OI.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}};function pH(){for(var t;t=lH();){try{t.h.call(t.g)}catch(n){hH(n)}var e=OI;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}Ag=!1}function rc(t,e){Xe.call(this),this.h=t||1,this.g=e||B,this.j=at(this.kb,this),this.l=Date.now()}function Mg(t){t.da=!1,t.S&&(t.g.clearTimeout(t.S),t.S=null)}function Ng(t,e,n){if("function"==typeof t)n&&(t=at(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=at(t.handleEvent,t)}return 2147483647<Number(e)?-1:B.setTimeout(t,e||0)}function kI(t){t.g=Ng(()=>{t.g=null,t.i&&(t.i=!1,kI(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}ut(rc,Xe),(N=rc.prototype).da=!1,N.S=null,N.kb=function(){if(this.da){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-t):(this.S&&(this.g.clearTimeout(this.S),this.S=null),lt(this,"tick"),this.da&&(Mg(this),this.start()))}},N.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},N.M=function(){rc.Z.M.call(this),Mg(this),delete this.g};class gH extends xr{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:kI(this)}M(){super.M(),this.g&&(B.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function pa(t){xr.call(this),this.h=t,this.g={}}ut(pa,xr);var PI=[];function VI(t,e,n,r){Array.isArray(n)||(n&&(PI[0]=n.toString()),n=PI);for(var i=0;i<n.length;i++){var s=xI(e,n[i],r||t.handleEvent,!1,t.h||t);if(!s)break;t.g[s.key]=s}}function LI(t){dg(t.g,function(e,n){this.g.hasOwnProperty(n)&&Eg(e)},t),t.g={}}function ic(){this.g=!0}function Ms(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+function _H(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var o=1;o<i.length;o++)i[o]=""}}}return Tg(n)}catch(a){return e}}(t,n)+(r?" "+r:"")})}pa.prototype.M=function(){pa.Z.M.call(this),LI(this)},pa.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},ic.prototype.Aa=function(){this.g=!1},ic.prototype.info=function(){};var di={},BI=null;function sc(){return BI=BI||new Xe}function jI(t){_t.call(this,di.Ma,t)}function ga(t){const e=sc();lt(e,new jI(e,t))}function UI(t,e){_t.call(this,di.STAT_EVENT,t),this.stat=e}function Ot(t){const e=sc();lt(e,new UI(e,t))}function HI(t,e){_t.call(this,di.Na,t),this.size=e}function ma(t,e){if("function"!=typeof t)throw Error("Fn must not be null and must be a function");return B.setTimeout(function(){t()},e)}di.Ma="serverreachability",ut(jI,_t),di.STAT_EVENT="statevent",ut(UI,_t),di.Na="timingevent",ut(HI,_t);var oc={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},$I={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function Fg(){}function qI(){}Fg.prototype.h=null;var kg,ya={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function Og(){_t.call(this,"d")}function Rg(){_t.call(this,"c")}function ac(){}function va(t,e,n,r){this.l=t,this.j=e,this.m=n,this.X=r||1,this.V=new pa(this),this.P=DH,this.W=new rc(t=fg?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new zI}function zI(){this.i=null,this.g="",this.h=!1}ut(Og,_t),ut(Rg,_t),ut(ac,Fg),ac.prototype.g=function(){return new XMLHttpRequest},ac.prototype.i=function(){return{}},kg=new ac;var DH=45e3,Pg={},uc={};function Vg(t,e,n){t.K=1,t.v=fc(tr(e)),t.s=n,t.U=!0,WI(t,null)}function WI(t,e){t.F=Date.now(),_a(t),t.A=tr(t.v);var n=t.A,r=t.X;Array.isArray(r)||(r=[String(r)]),nT(n.h,"t",r),t.C=0,n=t.l.H,t.h=new zI,t.g=IT(t.l,n?e:null,!t.s),0<t.O&&(t.L=new gH(at(t.Ia,t,t.g),t.O)),VI(t.V,t.g,"readystatechange",t.gb),e=t.H?wI(t.H):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ea(t.A,t.u,t.s,e)):(t.u="GET",t.g.ea(t.A,t.u,null,e)),ga(1),function mH(t,e,n,r,i,s){t.info(function(){if(t.g)if(s)for(var o="",a=s.split("&"),u=0;u<a.length;u++){var l=a[u].split("=");if(1<l.length){var c=l[0];l=l[1];var d=c.split("_");o=2<=d.length&&"type"==d[1]?o+(c+"=")+l+"&":o+(c+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+n+"\n"+o})}(t.j,t.u,t.A,t.m,t.X,t.s)}function KI(t){return!!t.g&&"GET"==t.u&&2!=t.K&&t.l.Ba}function QI(t,e,n){let i,r=!0;for(;!t.I&&t.C<n.length;){if(i=wH(t,n),i==uc){4==e&&(t.o=4,Ot(14),r=!1),Ms(t.j,t.m,null,"[Incomplete Response]");break}if(i==Pg){t.o=4,Ot(15),Ms(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}Ms(t.j,t.m,i,null),Lg(t,i)}KI(t)&&i!=uc&&i!=Pg&&(t.h.g="",t.C=0),4!=e||0!=n.length||t.h.h||(t.o=1,Ot(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.aa&&(t.aa=!0,(e=t.l).g==t&&e.$&&!e.L&&(e.h.info("Great, no buffering proxy detected. Bytes received: "+n.length),Qg(e),e.L=!0,Ot(11))):(Ms(t.j,t.m,n,"[Invalid Chunked Response]"),hi(t),Da(t))}function wH(t,e){var n=t.C,r=e.indexOf("\n",n);return-1==r?uc:(n=Number(e.substring(n,r)),isNaN(n)?Pg:(r+=1)+n>e.length?uc:(e=e.substr(r,n),t.C=r+n,e))}function _a(t){t.Y=Date.now()+t.P,YI(t,t.P)}function YI(t,e){if(null!=t.B)throw Error("WatchDog timer not null");t.B=ma(at(t.eb,t),e)}function lc(t){t.B&&(B.clearTimeout(t.B),t.B=null)}function Da(t){0==t.l.G||t.I||wT(t.l,t)}function hi(t){lc(t);var e=t.L;e&&"function"==typeof e.na&&e.na(),t.L=null,Mg(t.W),LI(t.V),t.g&&(e=t.g,t.g=null,e.abort(),e.na())}function Lg(t,e){try{var n=t.l;if(0!=n.G&&(n.g==t||Ug(n.i,t)))if(n.I=t.N,!t.J&&Ug(n.i,t)&&3==n.G){try{var r=n.Ca.g.parse(e)}catch(l){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0])e:if(n.u)n.ta=i[1],0<n.ta-n.U&&37500>i[2]&&n.N&&0==n.A&&!n.v&&(n.v=ma(at(n.ab,n),6e3));else{if(n.g){if(!(n.g.F+3e3<t.F))break e;_c(n),yc(n)}Kg(n),Ot(18)}if(1>=sT(n.i)&&n.ka){try{n.ka()}catch(l){}n.ka=void 0}}else gi(n,11)}else if((t.J||n.g==t)&&_c(n),!Xl(e))for(i=n.Ca.g.parse(e),e=0;e<i.length;e++){let l=i[e];if(n.U=l[0],l=l[1],2==n.G)if("c"==l[0]){n.J=l[1],n.la=l[2];const c=l[3];null!=c&&(n.ma=c,n.h.info("VER="+n.ma));const d=l[4];null!=d&&(n.za=d,n.h.info("SVER="+n.za));const h=l[5];null!=h&&"number"==typeof h&&0<h&&(n.K=r=1.5*h,n.h.info("backChannelRequestTimeoutMs_="+r)),r=n;const f=t.g;if(f){const p=f.g?f.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(p){var s=r.i;!s.g&&(Nt(p,"spdy")||Nt(p,"quic")||Nt(p,"h2"))&&(s.j=s.l,s.g=new Set,s.h&&(Hg(s,s.h),s.h=null))}if(r.D){const g=f.g?f.g.getResponseHeader("X-HTTP-Session-Id"):null;g&&(r.sa=g,Ce(r.F,r.D,g))}}n.G=3,n.j&&n.j.xa(),n.$&&(n.O=Date.now()-t.F,n.h.info("Handshake RTT: "+n.O+"ms"));var o=t;if((r=n).oa=bT(r,r.H?r.la:null,r.W),o.J){oT(r.i,o);var a=o,u=r.K;u&&a.setTimeout(u),a.B&&(lc(a),_a(a)),r.g=o}else _T(r);0<n.l.length&&vc(n)}else"stop"!=l[0]&&"close"!=l[0]||gi(n,7);else 3==n.G&&("stop"==l[0]||"close"==l[0]?"stop"==l[0]?gi(n,7):zg(n):"noop"!=l[0]&&n.j&&n.j.wa(l),n.A=0)}ga(4)}catch(l){}}function Bg(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(ag(t)||"string"==typeof t)mI(t,e,void 0);else{if(t.T&&"function"==typeof t.T)var n=t.T();else if(t.R&&"function"==typeof t.R)n=void 0;else if(ag(t)||"string"==typeof t){n=[];for(var r=t.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,t)n[r++]=i;r=function EH(t){if(t.R&&"function"==typeof t.R)return t.R();if("string"==typeof t)return t.split("");if(ag(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}(t),i=r.length;for(var s=0;s<i;s++)e.call(void 0,r[s],n&&n[s],t)}}function Ns(t,e){this.h={},this.g=[],this.i=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof Ns)for(n=t.T(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}function jg(t){if(t.i!=t.g.length){for(var e=0,n=0;e<t.g.length;){var r=t.g[e];fi(t.h,r)&&(t.g[n++]=r),e++}t.g.length=n}if(t.i!=t.g.length){var i={};for(n=e=0;e<t.g.length;)fi(i,r=t.g[e])||(t.g[n++]=r,i[r]=1),e++;t.g.length=n}}function fi(t,e){return Object.prototype.hasOwnProperty.call(t,e)}(N=va.prototype).setTimeout=function(t){this.P=t},N.gb=function(t){t=t.target;const e=this.L;e&&3==nr(t)?e.l():this.Ia(t)},N.Ia=function(t){try{if(t==this.g)e:{const c=nr(this.g);var e=this.g.Da();const d=this.g.ba();if(!(3>c)&&(3!=c||fg||this.g&&(this.h.h||this.g.ga()||pT(this.g)))){this.I||4!=c||7==e||ga(8==e||0>=d?3:2),lc(this);var n=this.g.ba();this.N=n;t:if(KI(this)){var r=pT(this.g);t="";var i=r.length,s=4==nr(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){hi(this),Da(this);var o="";break t}this.h.i=new B.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:s&&e==i-1});r.splice(0,i),this.h.g+=t,this.C=0,o=this.h.g}else o=this.g.ga();if(this.i=200==n,function yH(t,e,n,r,i,s,o){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+n+"\n"+s+" "+o})}(this.j,this.u,this.A,this.m,this.X,c,n),this.i){if(this.$&&!this.J){t:{if(this.g){var a,u=this.g;if((a=u.g?u.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Xl(a)){var l=a;break t}}l=null}if(!(n=l)){this.i=!1,this.o=3,Ot(12),hi(this),Da(this);break e}Ms(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Lg(this,n)}this.U?(QI(this,c,o),fg&&this.i&&3==c&&(VI(this.V,this.W,"tick",this.fb),this.W.start())):(Ms(this.j,this.m,o,null),Lg(this,o)),4==c&&hi(this),this.i&&!this.I&&(4==c?wT(this.l,this):(this.i=!1,_a(this)))}else 400==n&&0<o.indexOf("Unknown SID")?(this.o=3,Ot(12)):(this.o=0,Ot(13)),hi(this),Da(this)}}}catch(c){}},N.fb=function(){if(this.g){var t=nr(this.g),e=this.g.ga();this.C<e.length&&(lc(this),QI(this,t,e),this.i&&4!=t&&_a(this))}},N.cancel=function(){this.I=!0,hi(this)},N.eb=function(){this.B=null;const t=Date.now();0<=t-this.Y?(function vH(t,e){t.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(ga(3),Ot(17)),hi(this),this.o=2,Da(this)):YI(this,this.Y-t)},(N=Ns.prototype).R=function(){jg(this);for(var t=[],e=0;e<this.g.length;e++)t.push(this.h[this.g[e]]);return t},N.T=function(){return jg(this),this.g.concat()},N.get=function(t,e){return fi(this.h,t)?this.h[t]:e},N.set=function(t,e){fi(this.h,t)||(this.i++,this.g.push(t)),this.h[t]=e},N.forEach=function(t,e){for(var n=this.T(),r=0;r<n.length;r++){var i=n[r],s=this.get(i);t.call(e,s,i,this)}};var ZI=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function pi(t,e){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,t instanceof pi){this.g=void 0!==e?e:t.g,cc(this,t.j),this.s=t.s,dc(this,t.i),hc(this,t.m),this.l=t.l,e=t.h;var n=new Ca;n.i=e.i,e.g&&(n.g=new Ns(e.g),n.h=e.h),XI(this,n),this.o=t.o}else t&&(n=String(t).match(ZI))?(this.g=!!e,cc(this,n[1]||"",!0),this.s=wa(n[2]||""),dc(this,n[3]||"",!0),hc(this,n[4]),this.l=wa(n[5]||"",!0),XI(this,n[6]||"",!0),this.o=wa(n[7]||"")):(this.g=!!e,this.h=new Ca(null,this.g))}function tr(t){return new pi(t)}function cc(t,e,n){t.j=n?wa(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function dc(t,e,n){t.i=n?wa(e,!0):e}function hc(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function XI(t,e,n){e instanceof Ca?(t.h=e,function NH(t,e){e&&!t.j&&(Ar(t),t.i=null,t.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(eT(this,r),nT(this,i,n))},t)),t.j=e}(t.h,t.g)):(n||(e=Ea(e,AH)),t.h=new Ca(e,t.g))}function Ce(t,e,n){t.h.set(e,n)}function fc(t){return Ce(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function wa(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Ea(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,TH),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function TH(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}pi.prototype.toString=function(){var t=[],e=this.j;e&&t.push(Ea(e,JI,!0),":");var n=this.i;return(n||"file"==e)&&(t.push("//"),(e=this.s)&&t.push(Ea(e,JI,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&t.push(":",String(n))),(n=this.l)&&(this.i&&"/"!=n.charAt(0)&&t.push("/"),t.push(Ea(n,"/"==n.charAt(0)?xH:SH,!0))),(n=this.h.toString())&&t.push("?",n),(n=this.o)&&t.push("#",Ea(n,MH)),t.join("")};var JI=/[#\/\?@]/g,SH=/[#\?:]/g,xH=/[#\?]/g,AH=/[#\?@]/g,MH=/#/g;function Ca(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function Ar(t){t.g||(t.g=new Ns,t.h=0,t.i&&function CH(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var s=t[n].substring(0,r);i=t[n].substring(r+1)}else s=t[n];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}function eT(t,e){Ar(t),e=Fs(t,e),fi(t.g.h,e)&&(t.i=null,t.h-=t.g.get(e).length,fi((t=t.g).h,e)&&(delete t.h[e],t.i--,t.g.length>2*t.i&&jg(t)))}function tT(t,e){return Ar(t),e=Fs(t,e),fi(t.g.h,e)}function nT(t,e,n){eT(t,e),0<n.length&&(t.i=null,t.g.set(Fs(t,e),lg(n)),t.h+=n.length)}function Fs(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function rT(t){this.l=t||OH,t=B.PerformanceNavigationTiming?0<(t=B.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):!!(B.g&&B.g.Ea&&B.g.Ea()&&B.g.Ea().Zb),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(N=Ca.prototype).add=function(t,e){Ar(this),this.i=null,t=Fs(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this},N.forEach=function(t,e){Ar(this),this.g.forEach(function(n,r){mI(n,function(i){t.call(e,i,r,this)},this)},this)},N.T=function(){Ar(this);for(var t=this.g.R(),e=this.g.T(),n=[],r=0;r<e.length;r++)for(var i=t[r],s=0;s<i.length;s++)n.push(e[r]);return n},N.R=function(t){Ar(this);var e=[];if("string"==typeof t)tT(this,t)&&(e=yI(e,this.g.get(Fs(this,t))));else{t=this.g.R();for(var n=0;n<t.length;n++)e=yI(e,t[n])}return e},N.set=function(t,e){return Ar(this),this.i=null,tT(this,t=Fs(this,t))&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this},N.get=function(t,e){return t&&0<(t=this.R(t)).length?String(t[0]):e},N.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var t=[],e=this.g.T(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.R(r);for(var s=0;s<r.length;s++){var o=i;""!==r[s]&&(o+="="+encodeURIComponent(String(r[s]))),t.push(o)}}return this.i=t.join("&")};var OH=10;function iT(t){return!!t.h||!!t.g&&t.g.size>=t.j}function sT(t){return t.h?1:t.g?t.g.size:0}function Ug(t,e){return t.h?t.h==e:!!t.g&&t.g.has(e)}function Hg(t,e){t.g?t.g.add(e):t.h=e}function oT(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}function aT(t){if(null!=t.h)return t.i.concat(t.h.D);if(null!=t.g&&0!==t.g.size){let e=t.i;for(const n of t.g.values())e=e.concat(n.D);return e}return lg(t.i)}function $g(){}function RH(){this.g=new $g}function kH(t,e,n){const r=n||"";try{Bg(t,function(i,s){let o=i;da(i)&&(o=Tg(i)),e.push(r+s+"="+encodeURIComponent(o))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function pc(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch(s){}}function ba(t){this.l=t.$b||null,this.j=t.ib||!1}function gc(t,e){Xe.call(this),this.D=t,this.u=e,this.m=void 0,this.readyState=Gg,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}rT.prototype.cancel=function(){if(this.i=aT(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const t of this.g.values())t.cancel();this.g.clear()}},$g.prototype.stringify=function(t){return B.JSON.stringify(t,void 0)},$g.prototype.parse=function(t){return B.JSON.parse(t,void 0)},ut(ba,Fg),ba.prototype.g=function(){return new gc(this.l,this.j)},ba.prototype.i=function(t){return function(){return t}}({}),ut(gc,Xe);var Gg=0;function uT(t){t.j.read().then(t.Sa.bind(t)).catch(t.ha.bind(t))}function Ia(t){t.readyState=4,t.l=null,t.j=null,t.A=null,Ta(t)}function Ta(t){t.onreadystatechange&&t.onreadystatechange.call(t)}(N=gc.prototype).open=function(t,e){if(this.readyState!=Gg)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,Ta(this)},N.send=function(t){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.D||B).fetch(new Request(this.B,e)).then(this.Va.bind(this),this.ha.bind(this))},N.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Ia(this)),this.readyState=Gg},N.Va=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,Ta(this)),this.g&&(this.readyState=3,Ta(this),this.g)))if("arraybuffer"===this.responseType)t.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(void 0!==B.ReadableStream&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;uT(this)}else t.text().then(this.Ua.bind(this),this.ha.bind(this))},N.Sa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?Ia(this):Ta(this),3==this.readyState&&uT(this)}},N.Ua=function(t){this.g&&(this.response=this.responseText=t,Ia(this))},N.Ta=function(t){this.g&&(this.response=t,Ia(this))},N.ha=function(){this.g&&Ia(this)},N.setRequestHeader=function(t,e){this.v.append(t,e)},N.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""},N.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)t.push((n=n.value)[0]+": "+n[1]),n=e.next();return t.join("\r\n")},Object.defineProperty(gc.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(t){this.m=t?"include":"same-origin"}});var VH=B.JSON.parse;function He(t){Xe.call(this),this.headers=new Ns,this.u=t||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=lT,this.K=this.L=!1}ut(He,Xe);var lT="",LH=/^https?$/i,BH=["POST","PUT"];function UH(t){return"content-type"==t.toLowerCase()}function cT(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,dT(t),mc(t)}function dT(t){t.D||(t.D=!0,lt(t,"complete"),lt(t,"error"))}function hT(t){if(t.h&&void 0!==og&&(!t.C[1]||4!=nr(t)||2!=t.ba()))if(t.v&&4==nr(t))Ng(t.Fa,0,t);else if(lt(t,"readystatechange"),4==nr(t)){t.h=!1;try{const a=t.ba();e:switch(a){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=0===a){var i=String(t.H).match(ZI)[1]||null;if(!i&&B.self&&B.self.location){var s=B.self.location.protocol;i=s.substr(0,s.length-1)}r=!LH.test(i?i.toLowerCase():"")}n=r}if(n)lt(t,"complete"),lt(t,"success");else{t.m=6;try{var o=2<nr(t)?t.g.statusText:""}catch(u){o=""}t.j=o+" ["+t.ba()+"]",dT(t)}}finally{mc(t)}}}function mc(t,e){if(t.g){fT(t);const n=t.g,r=t.C[0]?Yl:null;t.g=null,t.C=null,e||lt(t,"ready");try{n.onreadystatechange=r}catch(i){}}}function fT(t){t.g&&t.K&&(t.g.ontimeout=null),t.A&&(B.clearTimeout(t.A),t.A=null)}function nr(t){return t.g?t.g.readyState:0}function pT(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.J){case lT:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch(e){return null}}function qg(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=function HH(t){let e="";return dg(t,function(n,r){e+=r,e+=":",e+=n,e+="\r\n"}),e}(n),"string"==typeof t?null!=n&&encodeURIComponent(String(n)):Ce(t,e,n))}function Sa(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function gT(t){this.za=0,this.l=[],this.h=new ic,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=Sa("failFast",!1,t),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=Sa("baseRetryDelayMs",5e3,t),this.$a=Sa("retryDelaySeedMs",1e4,t),this.Ya=Sa("forwardChannelMaxRetries",2,t),this.ra=Sa("forwardChannelRequestTimeoutMs",2e4,t),this.qa=t&&t.xmlHttpFactory||void 0,this.Ba=t&&t.Yb||!1,this.K=void 0,this.H=t&&t.supportsCrossDomainXhr||!1,this.J="",this.i=new rT(t&&t.concurrentRequestLimit),this.Ca=new RH,this.ja=t&&t.fastHandshake||!1,this.Ra=t&&t.Wb||!1,t&&t.Aa&&this.h.Aa(),t&&t.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&t&&t.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!t||!1!==t.Xb}function zg(t){if(mT(t),3==t.G){var e=t.V++,n=tr(t.F);Ce(n,"SID",t.J),Ce(n,"RID",e),Ce(n,"TYPE","terminate"),xa(t,n),(e=new va(t,t.h,e,void 0)).K=2,e.v=fc(tr(n)),n=!1,B.navigator&&B.navigator.sendBeacon&&(n=B.navigator.sendBeacon(e.v.toString(),"")),!n&&B.Image&&((new Image).src=e.v,n=!0),n||(e.g=IT(e.l,null),e.g.ea(e.v)),e.F=Date.now(),_a(e)}CT(t)}function yc(t){t.g&&(Qg(t),t.g.cancel(),t.g=null)}function mT(t){yc(t),t.u&&(B.clearTimeout(t.u),t.u=null),_c(t),t.i.cancel(),t.m&&("number"==typeof t.m&&B.clearTimeout(t.m),t.m=null)}function Wg(t,e){t.l.push(new class{constructor(t,e){this.h=t,this.g=e}}(t.Za++,e)),3==t.G&&vc(t)}function vc(t){iT(t.i)||t.m||(t.m=!0,Sg(t.Ha,t),t.C=0)}function yT(t,e){var n;n=e?e.m:t.V++;const r=tr(t.F);Ce(r,"SID",t.J),Ce(r,"RID",n),Ce(r,"AID",t.U),xa(t,r),t.o&&t.s&&qg(r,t.o,t.s),n=new va(t,t.h,n,t.C+1),null===t.o&&(n.H=t.s),e&&(t.l=e.D.concat(t.l)),e=vT(t,n,1e3),n.setTimeout(Math.round(.5*t.ra)+Math.round(.5*t.ra*Math.random())),Hg(t.i,n),Vg(n,r,e)}function xa(t,e){t.j&&Bg({},function(n,r){Ce(e,r,n)})}function vT(t,e,n){n=Math.min(t.l.length,n);var r=t.j?at(t.j.Oa,t.j,t):null;e:{var i=t.l;let s=-1;for(;;){const o=["count="+n];-1==s?0<n?(s=i[0].h,o.push("ofs="+s)):s=0:o.push("ofs="+s);let a=!0;for(let u=0;u<n;u++){let l=i[u].h;const c=i[u].g;if(l-=s,0>l)s=Math.max(0,i[u].h-100),a=!1;else try{kH(c,o,"req"+l+"_")}catch(d){r&&r(c)}}if(a){r=o.join("&");break e}}}return t=t.l.splice(0,n),e.D=t,r}function _T(t){t.g||t.u||(t.Y=1,Sg(t.Ga,t),t.A=0)}function Kg(t){return!(t.g||t.u||3<=t.A||(t.Y++,t.u=ma(at(t.Ga,t),ET(t,t.A)),t.A++,0))}function Qg(t){null!=t.B&&(B.clearTimeout(t.B),t.B=null)}function DT(t){t.g=new va(t,t.h,"rpc",t.Y),null===t.o&&(t.g.H=t.s),t.g.O=0;var e=tr(t.oa);Ce(e,"RID","rpc"),Ce(e,"SID",t.J),Ce(e,"CI",t.N?"0":"1"),Ce(e,"AID",t.U),xa(t,e),Ce(e,"TYPE","xmlhttp"),t.o&&t.s&&qg(e,t.o,t.s),t.K&&t.g.setTimeout(t.K);var n=t.g;t=t.la,n.K=1,n.v=fc(tr(e)),n.s=null,n.U=!0,WI(n,t)}function _c(t){null!=t.v&&(B.clearTimeout(t.v),t.v=null)}function wT(t,e){var n=null;if(t.g==e){_c(t),Qg(t),t.g=null;var r=2}else{if(!Ug(t.i,e))return;n=e.D,oT(t.i,e),r=1}if(t.I=e.N,0!=t.G)if(e.i)if(1==r){n=e.s?e.s.length:0,e=Date.now()-e.F;var i=t.C;lt(r=sc(),new HI(r,n,e,i)),vc(t)}else _T(t);else if(3==(i=e.o)||0==i&&0<t.I||!(1==r&&function $H(t,e){return!(sT(t.i)>=t.i.j-(t.m?1:0)||(t.m?(t.l=e.D.concat(t.l),0):1==t.G||2==t.G||t.C>=(t.Xa?0:t.Ya)||(t.m=ma(at(t.Ha,t,e),ET(t,t.C)),t.C++,0)))}(t,e)||2==r&&Kg(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),i){case 1:gi(t,5);break;case 4:gi(t,10);break;case 3:gi(t,6);break;default:gi(t,2)}}function ET(t,e){let n=t.Pa+Math.floor(Math.random()*t.$a);return t.j||(n*=2),n*e}function gi(t,e){if(t.h.info("Error code "+e),2==e){var n=null;t.j&&(n=null);var r=at(t.jb,t);n||(n=new pi("//www.google.com/images/cleardot.gif"),B.location&&"http"==B.location.protocol||cc(n,"https"),fc(n)),function PH(t,e){const n=new ic;if(B.Image){const r=new Image;r.onload=Zl(pc,n,r,"TestLoadImage: loaded",!0,e),r.onerror=Zl(pc,n,r,"TestLoadImage: error",!1,e),r.onabort=Zl(pc,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=Zl(pc,n,r,"TestLoadImage: timeout",!1,e),B.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}(n.toString(),r)}else Ot(2);t.G=0,t.j&&t.j.va(e),CT(t),mT(t)}function CT(t){t.G=0,t.I=-1,t.j&&((0!=aT(t.i).length||0!=t.l.length)&&(t.i.i.length=0,lg(t.l),t.l.length=0),t.j.ua())}function bT(t,e,n){let r=function bH(t){return t instanceof pi?tr(t):new pi(t,void 0)}(n);if(""!=r.i)e&&dc(r,e+"."+r.i),hc(r,r.m);else{const i=B.location;r=function IH(t,e,n,r){var i=new pi(null,void 0);return t&&cc(i,t),e&&dc(i,e),n&&hc(i,n),r&&(i.l=r),i}(i.protocol,e?e+"."+i.hostname:i.hostname,+i.port,n)}return t.aa&&dg(t.aa,function(i,s){Ce(r,s,i)}),n=t.sa,(e=t.D)&&n&&Ce(r,e,n),Ce(r,"VER",t.ma),xa(t,r),r}function IT(t,e,n){if(e&&!t.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new He(n&&t.Ba&&!t.qa?new ba({ib:!0}):t.qa)).L=t.H,e}function TT(){}function Dc(){if(As&&!(10<=Number(nH)))throw Error("Environmental error: no available transport.")}function Yt(t,e){Xe.call(this),this.g=new gT(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(t?t["X-WebChannel-Client-Profile"]=e.ya:t={"X-WebChannel-Client-Profile":e.ya}),this.g.P=t,(t=e&&e.httpHeadersOverwriteParam)&&!Xl(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Xl(e)&&(this.g.D=e,null!==(t=this.h)&&e in t&&e in(t=this.h)&&delete t[e]),this.j=new Os(this)}function ST(t){Og.call(this);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=null!==e&&t in e?e[t]:void 0),this.data=e}else this.data=t}function xT(){Rg.call(this),this.status=1}function Os(t){this.g=t}(N=He.prototype).ea=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+t);e=e?e.toUpperCase():"GET",this.H=t,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():kg.g(),this.C=function GI(t){return t.h||(t.h=t.i())}(this.u?this.u:kg),this.g.onreadystatechange=at(this.Fa,this);try{this.F=!0,this.g.open(e,String(t),!0),this.F=!1}catch(s){return void cT(this,s)}t=n||"";const i=new Ns(this.headers);r&&Bg(r,function(s,o){i.set(o,s)}),r=function YU(t){e:{var e=UH;const n=t.length,r="string"==typeof t?t.split(""):t;for(let i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break e}e=-1}return 0>e?null:"string"==typeof t?t.charAt(e):t[e]}(i.T()),n=B.FormData&&t instanceof B.FormData,!(0<=gI(BH,e))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach(function(s,o){this.g.setRequestHeader(o,s)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{fT(this),0<this.B&&((this.K=function jH(t){return As&&function tH(){return function ZU(t){var e=eH;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=t(9)}(function(){let t=0;const e=vI(String(Jl)).split("."),n=vI("9").split("."),r=Math.max(e.length,n.length);for(let o=0;0==t&&o<r;o++){var i=e[o]||"",s=n[o]||"";do{if(i=/(\d*)(\D*)(.*)/.exec(i)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==i[0].length&&0==s[0].length)break;t=cg(0==i[1].length?0:parseInt(i[1],10),0==s[1].length?0:parseInt(s[1],10))||cg(0==i[2].length,0==s[2].length)||cg(i[2],s[2]),i=i[3],s=s[3]}while(0==t)}return 0<=t})}()&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=at(this.pa,this)):this.A=Ng(this.pa,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(s){cT(this,s)}},N.pa=function(){void 0!==og&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,lt(this,"timeout"),this.abort(8))},N.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,lt(this,"complete"),lt(this,"abort"),mc(this))},N.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),mc(this,!0)),He.Z.M.call(this)},N.Fa=function(){this.s||(this.F||this.v||this.l?hT(this):this.cb())},N.cb=function(){hT(this)},N.ba=function(){try{return 2<nr(this)?this.g.status:-1}catch(t){return-1}},N.ga=function(){try{return this.g?this.g.responseText:""}catch(t){return""}},N.Qa=function(t){if(this.g){var e=this.g.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),VH(e)}},N.Da=function(){return this.m},N.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(N=gT.prototype).ma=8,N.G=1,N.hb=function(t){try{this.h.info("Origin Trials invoked: "+t)}catch(e){}},N.Ha=function(t){if(this.m)if(this.m=null,1==this.G){if(!t){this.V=Math.floor(1e5*Math.random()),t=this.V++;const i=new va(this,this.h,t,void 0);let s=this.s;if(this.P&&(s?(s=wI(s),CI(s,this.P)):s=this.P),null===this.o&&(i.H=s),this.ja)e:{for(var e=0,n=0;n<this.l.length;n++){var r=this.l[n];if(void 0===(r="__data__"in r.g&&"string"==typeof(r=r.g.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=n;break e}if(4096===e||n===this.l.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=vT(this,i,e),Ce(n=tr(this.F),"RID",t),Ce(n,"CVER",22),this.D&&Ce(n,"X-HTTP-Session-Id",this.D),xa(this,n),this.o&&s&&qg(n,this.o,s),Hg(this.i,i),this.Ra&&Ce(n,"TYPE","init"),this.ja?(Ce(n,"$req",e),Ce(n,"SID","null"),i.$=!0,Vg(i,n,null)):Vg(i,n,e),this.G=2}}else 3==this.G&&(t?yT(this,t):0==this.l.length||iT(this.i)||yT(this))},N.Ga=function(){if(this.u=null,DT(this),this.$&&!(this.L||null==this.g||0>=this.O)){var t=2*this.O;this.h.info("BP detection timer enabled: "+t),this.B=ma(at(this.bb,this),t)}},N.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,Ot(10),yc(this),DT(this))},N.ab=function(){null!=this.v&&(this.v=null,yc(this),Kg(this),Ot(19))},N.jb=function(t){t?(this.h.info("Successfully pinged google.com"),Ot(2)):(this.h.info("Failed to ping google.com"),Ot(1))},(N=TT.prototype).xa=function(){},N.wa=function(){},N.va=function(){},N.ua=function(){},N.Oa=function(){},Dc.prototype.g=function(t,e){return new Yt(t,e)},ut(Yt,Xe),Yt.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var t=this.g,e=this.l,n=this.h||void 0;t.Wa&&(t.h.info("Origin Trials enabled."),Sg(at(t.hb,t,e))),Ot(0),t.W=e,t.aa=n||{},t.N=t.X,t.F=bT(t,null,t.W),vc(t)},Yt.prototype.close=function(){zg(this.g)},Yt.prototype.u=function(t){if("string"==typeof t){var e={};e.__data__=t,Wg(this.g,e)}else this.v?((e={}).__data__=Tg(t),Wg(this.g,e)):Wg(this.g,t)},Yt.prototype.M=function(){this.g.j=null,delete this.j,zg(this.g),delete this.g,Yt.Z.M.call(this)},ut(ST,Og),ut(xT,Rg),ut(Os,TT),Os.prototype.xa=function(){lt(this.g,"a")},Os.prototype.wa=function(t){lt(this.g,new ST(t))},Os.prototype.va=function(t){lt(this.g,new xT(t))},Os.prototype.ua=function(){lt(this.g,"b")},Dc.prototype.createWebChannel=Dc.prototype.g,Yt.prototype.send=Yt.prototype.u,Yt.prototype.open=Yt.prototype.m,Yt.prototype.close=Yt.prototype.close,oc.NO_ERROR=0,oc.TIMEOUT=8,oc.HTTP_ERROR=6,$I.COMPLETE="complete",qI.EventType=ya,ya.OPEN="a",ya.CLOSE="b",ya.ERROR="c",ya.MESSAGE="d",Xe.prototype.listen=Xe.prototype.N,He.prototype.listenOnce=He.prototype.O,He.prototype.getLastError=He.prototype.La,He.prototype.getLastErrorCode=He.prototype.Da,He.prototype.getStatus=He.prototype.ba,He.prototype.getResponseJson=He.prototype.Qa,He.prototype.getResponseText=He.prototype.ga,He.prototype.send=He.prototype.ea;var GH=er.createWebChannelTransport=function(){return new Dc},qH=er.getStatEventTarget=function(){return sc()},Yg=er.ErrorCode=oc,zH=er.EventType=$I,WH=er.Event=di,AT=er.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},KH=er.FetchXmlHttpFactory=ba,wc=er.WebChannel=qI,QH=er.XhrIo=He;const MT="@firebase/firestore";class Je{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Je.UNAUTHENTICATED=new Je(null),Je.GOOGLE_CREDENTIALS=new Je("google-credentials-uid"),Je.FIRST_PARTY=new Je("first-party-uid"),Je.MOCK_USER=new Je("mock-user");let Rs="9.9.4";const Mr=new nI("@firebase/firestore");function Zg(){return Mr.logLevel}function C(t,...e){if(Mr.logLevel<=oe.DEBUG){const n=e.map(Xg);Mr.debug(`Firestore (${Rs}): ${t}`,...n)}}function ke(t,...e){if(Mr.logLevel<=oe.ERROR){const n=e.map(Xg);Mr.error(`Firestore (${Rs}): ${t}`,...n)}}function ks(t,...e){if(Mr.logLevel<=oe.WARN){const n=e.map(Xg);Mr.warn(`Firestore (${Rs}): ${t}`,...n)}}function Xg(t){if("string"==typeof t)return t;try{return JSON.stringify(t)}catch(n){return t}}function F(t="Unexpected state"){const e=`FIRESTORE (${Rs}) INTERNAL ASSERTION FAILED: `+t;throw ke(e),new Error(e)}function L(t,e){t||F()}function S(t,e){return t}const _={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class E extends Ss{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class et{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}class NT{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class YH{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Je.UNAUTHENTICATED))}shutdown(){}}class XH{constructor(e){this.t=e,this.currentUser=Je.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){var r=this;let i=this.i;const s=l=>this.i!==i?(i=this.i,n(l)):Promise.resolve();let o=new et;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new et,e.enqueueRetryable(()=>s(this.currentUser))};const a=()=>{const l=o;e.enqueueRetryable(M(function*(){yield l.promise,yield s(r.currentUser)}))},u=l=>{C("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),a()};this.t.onInit(l=>u(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?u(l):(C("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new et)}},0),a()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(C("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(L("string"==typeof r.accessToken),new NT(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return L(null===e||"string"==typeof e),new Je(e)}}class JH{constructor(e,n,r,i){this.h=e,this.l=n,this.m=r,this.g=i,this.type="FirstParty",this.user=Je.FIRST_PARTY,this.p=new Map}I(){return this.g?this.g():(L(!("object"!=typeof this.h||null===this.h||!this.h.auth||!this.h.auth.getAuthHeaderValueForFirstParty)),this.h.auth.getAuthHeaderValueForFirstParty([]))}get headers(){this.p.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.p.set("Authorization",e),this.m&&this.p.set("X-Goog-Iam-Authorization-Token",this.m),this.p}}class e${constructor(e,n,r,i){this.h=e,this.l=n,this.m=r,this.g=i}getToken(){return Promise.resolve(new JH(this.h,this.l,this.m,this.g))}start(e,n){e.enqueueRetryable(()=>n(Je.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class FT{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class t${constructor(e){this.T=e,this.forceRefresh=!1,this.appCheck=null,this.A=null}start(e,n){const r=s=>{null!=s.error&&C("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.A;return this.A=s.token,C("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{C("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.T.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.T.getImmediate({optional:!0});s?i(s):C("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(L("string"==typeof n.token),this.A=n.token,new FT(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function n$(t){const e="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}class OT{static R(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=n$(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}}function j(t,e){return t<e?-1:t>e?1:0}function Ps(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}class Se{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new E(_.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new E(_.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new E(_.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new E(_.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Se.fromMillis(Date.now())}static fromDate(e){return Se.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new Se(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?j(this.nanoseconds,e.nanoseconds):j(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class P{constructor(e){this.timestamp=e}static fromTimestamp(e){return new P(e)}static min(){return new P(new Se(0,0))}static max(){return new P(new Se(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Aa{constructor(e,n,r){void 0===n?n=0:n>e.length&&F(),void 0===r?r=e.length-n:r>e.length-n&&F(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return 0===Aa.comparator(this,e)}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Aa?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class ne extends Aa{construct(e,n,r){return new ne(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new E(_.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new ne(n)}static emptyPath(){return new ne([])}}const r$=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Pe extends Aa{construct(e,n,r){return new Pe(e,n,r)}static isValidIdentifier(e){return r$.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Pe.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Pe(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(0===r.length)throw new E(_.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if("\\"===a){if(i+1===e.length)throw new E(_.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const u=e[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new E(_.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else"`"===a?(o=!o,i++):"."!==a||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new E(_.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Pe(n)}static emptyPath(){return new Pe([])}}class T{constructor(e){this.path=e}static fromPath(e){return new T(ne.fromString(e))}static fromName(e){return new T(ne.fromString(e).popFirst(5))}static empty(){return new T(ne.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===ne.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,n){return ne.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new T(new ne(e.slice()))}}function PT(t){return new Zt(t.readTime,t.key,-1)}class Zt{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Zt(P.min(),T.empty(),-1)}static max(){return new Zt(P.max(),T.empty(),-1)}}function em(t,e){let n=t.readTime.compareTo(e.readTime);return 0!==n?n:(n=T.comparator(t.documentKey,e.documentKey),0!==n?n:j(t.largestBatchId,e.largestBatchId))}const VT="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";function Nr(t){return tm.apply(this,arguments)}function tm(){return tm=M(function*(t){if(t.code!==_.FAILED_PRECONDITION||t.message!==VT)throw t;C("LocalStore","Unexpectedly lost primary lease")}),tm.apply(this,arguments)}class v{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&F(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new v((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof v?n:v.resolve(n)}catch(n){return v.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):v.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):v.reject(n)}static resolve(e){return new v((n,r)=>{n(e)})}static reject(e){return new v((n,r)=>{r(e)})}static waitFor(e){return new v((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},u=>r(u))}),o=!0,s===i&&n()})}static or(e){let n=v.resolve(!1);for(const r of e)n=n.next(i=>i?v.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new v((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let u=0;u<s;u++){const l=u;n(e[l]).next(c=>{o[l]=c,++a,a===s&&r(o)},c=>i(c))}})}static doWhile(e,n){return new v((r,i)=>{const s=()=>{!0===e()?n().next(()=>{s()},i):r()};s()})}}function Fr(t){return"IndexedDbTransactionError"===t.name}class Bt{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ut(r),this.ct=r=>n.writeSequenceNumber(r))}ut(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ct&&this.ct(e),e}}function BT(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function vi(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function jT(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}Bt.at=-1;class Ne{constructor(e,n){this.comparator=e,this.root=n||ct.EMPTY}insert(e,n){return new Ne(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,ct.BLACK,null,null))}remove(e){return new Ne(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ct.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(0===i)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Ic(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Ic(this.root,e,this.comparator,!1)}getReverseIterator(){return new Ic(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Ic(this.root,e,this.comparator,!0)}}class Ic{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(0===s){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class ct{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=null!=r?r:ct.RED,this.left=null!=i?i:ct.EMPTY,this.right=null!=s?s:ct.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new ct(null!=e?e:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=s?s:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):0===s?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return ct.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(e,i.key)){if(i.right.isEmpty())return ct.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,ct.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,ct.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw F();const e=this.left.check();if(e!==this.right.check())throw F();return e+(this.isRed()?0:1)}}ct.EMPTY=null,ct.RED=!0,ct.BLACK=!1,ct.EMPTY=new class{constructor(){this.size=0}get key(){throw F()}get value(){throw F()}get color(){throw F()}get left(){throw F()}get right(){throw F()}copy(t,e,n,r,i){return this}insert(t,e,n){return new ct(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class ce{constructor(e){this.comparator=e,this.data=new Ne(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=void 0!==n?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new UT(this.data.getIterator())}getIteratorFrom(e){return new UT(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof ce)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(0!==this.comparator(i,s))return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new ce(this.comparator);return n.data=e,n}}class UT{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Xt{constructor(e){this.fields=e,e.sort(Pe.comparator)}static empty(){return new Xt([])}unionWith(e){let n=new ce(Pe.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Xt(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Ps(this.fields,e.fields,(n,r)=>n.isEqual(r))}}class Ke{constructor(e){this.binaryString=e}static fromBase64String(e){const n=atob(e);return new Ke(n)}static fromUint8Array(e){const n=function(r){let i="";for(let s=0;s<r.length;++s)i+=String.fromCharCode(r[s]);return i}(e);return new Ke(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const n=new Uint8Array(e.length);for(let r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return j(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Ke.EMPTY_BYTE_STRING=new Ke("");const d$=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Or(t){if(L(!!t),"string"==typeof t){let e=0;const n=d$.exec(t);if(L(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Fe(t.seconds),nanos:Fe(t.nanos)}}function Fe(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function _i(t){return"string"==typeof t?Ke.fromBase64String(t):Ke.fromUint8Array(t)}function rm(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=null==t?void 0:t.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function HT(t){const e=t.mapValue.fields.__previous_value__;return rm(e)?HT(e):e}function Fa(t){const e=Or(t.mapValue.fields.__local_write_time__.timestampValue);return new Se(e.seconds,e.nanos)}class h${constructor(e,n,r,i,s,o,a,u){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.useFetchStreams=u}}class Di{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Di("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Di&&e.projectId===this.projectId&&e.database===this.database}}function Oa(t){return null==t}function Ra(t){return 0===t&&1/t==-1/0}const Rr_mapValue={fields:{__type__:{stringValue:"__max__"}}};function wi(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?rm(t)?4:WT(t)?9007199254740991:10:F()}function Pn(t,e){if(t===e)return!0;const n=wi(t);if(n!==wi(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Fa(t).isEqual(Fa(e));case 3:return function(r,i){if("string"==typeof r.timestampValue&&"string"==typeof i.timestampValue&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const s=Or(r.timestampValue),o=Or(i.timestampValue);return s.seconds===o.seconds&&s.nanos===o.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return i=e,_i(t.bytesValue).isEqual(_i(i.bytesValue));case 7:return t.referenceValue===e.referenceValue;case 8:return function(r,i){return Fe(r.geoPointValue.latitude)===Fe(i.geoPointValue.latitude)&&Fe(r.geoPointValue.longitude)===Fe(i.geoPointValue.longitude)}(t,e);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return Fe(r.integerValue)===Fe(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const s=Fe(r.doubleValue),o=Fe(i.doubleValue);return s===o?Ra(s)===Ra(o):isNaN(s)&&isNaN(o)}return!1}(t,e);case 9:return Ps(t.arrayValue.values||[],e.arrayValue.values||[],Pn);case 10:return function(r,i){const s=r.mapValue.fields||{},o=i.mapValue.fields||{};if(BT(s)!==BT(o))return!1;for(const a in s)if(s.hasOwnProperty(a)&&(void 0===o[a]||!Pn(s[a],o[a])))return!1;return!0}(t,e);default:return F()}var i}function ka(t,e){return void 0!==(t.values||[]).find(n=>Pn(n,e))}function kr(t,e){if(t===e)return 0;const n=wi(t),r=wi(e);if(n!==r)return j(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return j(t.booleanValue,e.booleanValue);case 2:return function(i,s){const o=Fe(i.integerValue||i.doubleValue),a=Fe(s.integerValue||s.doubleValue);return o<a?-1:o>a?1:o===a?0:isNaN(o)?isNaN(a)?0:-1:1}(t,e);case 3:return GT(t.timestampValue,e.timestampValue);case 4:return GT(Fa(t),Fa(e));case 5:return j(t.stringValue,e.stringValue);case 6:return function(i,s){const o=_i(i),a=_i(s);return o.compareTo(a)}(t.bytesValue,e.bytesValue);case 7:return function(i,s){const o=i.split("/"),a=s.split("/");for(let u=0;u<o.length&&u<a.length;u++){const l=j(o[u],a[u]);if(0!==l)return l}return j(o.length,a.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,s){const o=j(Fe(i.latitude),Fe(s.latitude));return 0!==o?o:j(Fe(i.longitude),Fe(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(i,s){const o=i.values||[],a=s.values||[];for(let u=0;u<o.length&&u<a.length;++u){const l=kr(o[u],a[u]);if(l)return l}return j(o.length,a.length)}(t.arrayValue,e.arrayValue);case 10:return function(i,s){if(i===Rr_mapValue&&s===Rr_mapValue)return 0;if(i===Rr_mapValue)return 1;if(s===Rr_mapValue)return-1;const o=i.fields||{},a=Object.keys(o),u=s.fields||{},l=Object.keys(u);a.sort(),l.sort();for(let c=0;c<a.length&&c<l.length;++c){const d=j(a[c],l[c]);if(0!==d)return d;const h=kr(o[a[c]],u[l[c]]);if(0!==h)return h}return j(a.length,l.length)}(t.mapValue,e.mapValue);default:throw F()}}function GT(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return j(t,e);const n=Or(t),r=Or(e),i=j(n.seconds,r.seconds);return 0!==i?i:j(n.nanos,r.nanos)}function Ls(t){return im(t)}function im(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(r){const i=Or(r);return`time(${i.seconds},${i.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?_i(t.bytesValue).toBase64():"referenceValue"in t?T.fromName(t.referenceValue).toString():"geoPointValue"in t?`geo(${(e=t.geoPointValue).latitude},${e.longitude})`:"arrayValue"in t?function(r){let i="[",s=!0;for(const o of r.values||[])s?s=!1:i+=",",i+=im(o);return i+"]"}(t.arrayValue):"mapValue"in t?function(r){const i=Object.keys(r.fields||{}).sort();let s="{",o=!0;for(const a of i)o?o=!1:s+=",",s+=`${a}:${im(r.fields[a])}`;return s+"}"}(t.mapValue):F();var e}function sm(t){return!!t&&"integerValue"in t}function Pa(t){return!!t&&"arrayValue"in t}function qT(t){return!!t&&"nullValue"in t}function zT(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Sc(t){return!!t&&"mapValue"in t}function Va(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&"object"==typeof t.timestampValue)return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return vi(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Va(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Va(t.arrayValue.values[n]);return e}return Object.assign({},t)}function WT(t){return"__max__"===(((t.mapValue||{}).fields||{}).__type__||{}).stringValue}class dt{constructor(e){this.value=e}static empty(){return new dt({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Sc(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Va(n)}setAll(e){let n=Pe.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const u=this.getFieldsMap(n);this.applyChanges(u,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=Va(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());Sc(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Pn(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Sc(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){vi(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new dt(Va(this.value))}}function YT(t){const e=[];return vi(t.fields,(n,r)=>{const i=new Pe([n]);if(Sc(r)){const s=YT(r.mapValue).fields;if(0===s.length)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new Xt(e)}class ve{constructor(e,n,r,i,s,o){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.data=s,this.documentState=o}static newInvalidDocument(e){return new ve(e,0,P.min(),P.min(),dt.empty(),0)}static newFoundDocument(e,n,r){return new ve(e,1,n,P.min(),r,0)}static newNoDocument(e,n){return new ve(e,2,n,P.min(),dt.empty(),0)}static newUnknownDocument(e,n){return new ve(e,3,n,P.min(),dt.empty(),2)}convertToFoundDocument(e,n){return this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=dt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=dt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=P.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof ve&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new ve(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class g${constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.ht=null}}function ZT(t,e=null,n=[],r=[],i=null,s=null,o=null){return new g$(t,e,n,r,i,s,o)}function Ci(t){const e=S(t);if(null===e.ht){let n=e.path.canonicalString();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>{return(i=r).field.canonicalString()+i.op.toString()+Ls(i.value);var i}).join(","),n+="|ob:",n+=e.orderBy.map(r=>{return(i=r).field.canonicalString()+i.dir;var i}).join(","),Oa(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Ls(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Ls(r)).join(",")),e.ht=n}return e.ht}function La(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<t.orderBy.length;i++)if(!b$(t.orderBy[i],e.orderBy[i]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let i=0;i<t.filters.length;i++)if((n=t.filters[i]).op!==(r=e.filters[i]).op||!n.field.isEqual(r.field)||!Pn(n.value,r.value))return!1;var n,r;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!nS(t.startAt,e.startAt)&&nS(t.endAt,e.endAt)}function xc(t){return T.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}class ht extends class{}{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?"in"===n||"not-in"===n?this.lt(e,n,r):new y$(e,n,r):"array-contains"===n?new D$(e,r):"in"===n?new w$(e,r):"not-in"===n?new E$(e,r):"array-contains-any"===n?new C$(e,r):new ht(e,n,r)}static lt(e,n,r){return"in"===n?new v$(e,r):new _$(e,r)}matches(e){const n=e.data.field(this.field);return"!="===this.op?null!==n&&this.ft(kr(n,this.value)):null!==n&&wi(this.value)===wi(n)&&this.ft(kr(n,this.value))}ft(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return F()}}dt(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class y$ extends ht{constructor(e,n,r){super(e,n,r),this.key=T.fromName(r.referenceValue)}matches(e){const n=T.comparator(e.key,this.key);return this.ft(n)}}class v$ extends ht{constructor(e,n){super(e,"in",n),this.keys=eS(0,n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class _$ extends ht{constructor(e,n){super(e,"not-in",n),this.keys=eS(0,n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function eS(t,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map(r=>T.fromName(r.referenceValue))}class D$ extends ht{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Pa(n)&&ka(n.arrayValue,this.value)}}class w$ extends ht{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return null!==n&&ka(this.value.arrayValue,n)}}class E$ extends ht{constructor(e,n){super(e,"not-in",n)}matches(e){if(ka(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return null!==n&&!ka(this.value.arrayValue,n)}}class C$ extends ht{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Pa(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>ka(this.value.arrayValue,r))}}class Pr{constructor(e,n){this.position=e,this.inclusive=n}}class Bs{constructor(e,n="asc"){this.field=e,this.dir=n}}function b$(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}function tS(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(r=s.field.isKeyField()?T.comparator(T.fromName(o.referenceValue),n.key):kr(o,n.data.field(s.field)),"desc"===s.dir&&(r*=-1),0!==r)break}return r}function nS(t,e){if(null===t)return null===e;if(null===e||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Pn(t.position[n],e.position[n]))return!1;return!0}class rr{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=u,this._t=null,this.wt=null}}function js(t){return new rr(t)}function iS(t){return 0===t.filters.length&&null===t.limit&&null==t.startAt&&null==t.endAt&&(0===t.explicitOrderBy.length||1===t.explicitOrderBy.length&&t.explicitOrderBy[0].field.isKeyField())}function Us(t){const e=S(t);if(null===e._t){e._t=[];const n=function am(t){for(const e of t.filters)if(e.dt())return e.field;return null}(e),r=function om(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}(e);if(null!==n&&null===r)n.isKeyField()||e._t.push(new Bs(n)),e._t.push(new Bs(Pe.keyField(),"asc"));else{let i=!1;for(const s of e.explicitOrderBy)e._t.push(s),s.field.isKeyField()&&(i=!0);if(!i){const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e._t.push(new Bs(Pe.keyField(),s))}}}return e._t}function jt(t){const e=S(t);if(!e.wt)if("F"===e.limitType)e.wt=ZT(e.path,e.collectionGroup,Us(e),e.filters,e.limit,e.startAt,e.endAt);else{const n=[];for(const s of Us(e))n.push(new Bs(s.field,"desc"===s.dir?"asc":"desc"));const r=e.endAt?new Pr(e.endAt.position,e.endAt.inclusive):null,i=e.startAt?new Pr(e.startAt.position,e.startAt.inclusive):null;e.wt=ZT(e.path,e.collectionGroup,n,e.filters,e.limit,r,i)}return e.wt}function Mc(t,e,n){return new rr(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Ba(t,e){return La(jt(t),jt(e))&&t.limitType===e.limitType}function sS(t){return`${Ci(jt(t))}|lt:${t.limitType}`}function lm(t){return`Query(target=${function m$(t){let e=t.path.canonicalString();return null!==t.collectionGroup&&(e+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(e+=`, filters: [${t.filters.map(n=>{return`${(r=n).field.canonicalString()} ${r.op} ${Ls(r.value)}`;var r}).join(", ")}]`),Oa(t.limit)||(e+=", limit: "+t.limit),t.orderBy.length>0&&(e+=`, orderBy: [${t.orderBy.map(n=>{return`${(r=n).field.canonicalString()} (${r.dir})`;var r}).join(", ")}]`),t.startAt&&(e+=", startAt: ",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map(n=>Ls(n)).join(",")),t.endAt&&(e+=", endAt: ",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map(n=>Ls(n)).join(",")),`Target(${e})`}(jt(t))}; limitType=${t.limitType})`}function cm(t,e){return e.isFoundDocument()&&function(n,r){const i=r.key.path;return null!==n.collectionGroup?r.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(i):T.isDocumentKey(n.path)?n.path.isEqual(i):n.path.isImmediateParentOf(i)}(t,e)&&function(n,r){for(const i of n.explicitOrderBy)if(!i.field.isKeyField()&&null===r.data.field(i.field))return!1;return!0}(t,e)&&function(n,r){for(const i of n.filters)if(!i.matches(r))return!1;return!0}(t,e)&&(r=e,!((n=t).startAt&&!function(i,s,o){const a=tS(i,s,o);return i.inclusive?a<=0:a<0}(n.startAt,Us(n),r)||n.endAt&&!function(i,s,o){const a=tS(i,s,o);return i.inclusive?a>=0:a>0}(n.endAt,Us(n),r)));var n,r}function aS(t){return(e,n)=>{let r=!1;for(const i of Us(t)){const s=I$(i,e,n);if(0!==s)return s;r=r||i.field.isKeyField()}return 0}}function I$(t,e,n){const r=t.field.isKeyField()?T.comparator(e.key,n.key):function(i,s,o){const a=s.data.field(i),u=o.data.field(i);return null!==a&&null!==u?kr(a,u):F()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return F()}}function uS(t,e){if(t.gt){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ra(e)?"-0":e}}function lS(t){return{integerValue:""+t}}function cS(t,e){return function $T(t){return"number"==typeof t&&Number.isInteger(t)&&!Ra(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}(e)?lS(e):uS(t,e)}class Nc{constructor(){this._=void 0}}function T$(t,e,n){return t instanceof Hs?function(r,i){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&(s.fields.__previous_value__=i),{mapValue:s}}(n,e):t instanceof bi?hS(t,e):t instanceof Ii?fS(t,e):function(r,i){const s=dS(r,i),o=pS(s)+pS(r.yt);return sm(s)&&sm(r.yt)?lS(o):uS(r.It,o)}(t,e)}function S$(t,e,n){return t instanceof bi?hS(t,e):t instanceof Ii?fS(t,e):n}function dS(t,e){return t instanceof $s?sm(n=e)||(r=n)&&"doubleValue"in r?e:{integerValue:0}:null;var r,n}class Hs extends Nc{}class bi extends Nc{constructor(e){super(),this.elements=e}}function hS(t,e){const n=gS(e);for(const r of t.elements)n.some(i=>Pn(i,r))||n.push(r);return{arrayValue:{values:n}}}class Ii extends Nc{constructor(e){super(),this.elements=e}}function fS(t,e){let n=gS(e);for(const r of t.elements)n=n.filter(i=>!Pn(i,r));return{arrayValue:{values:n}}}class $s extends Nc{constructor(e,n){super(),this.It=e,this.yt=n}}function pS(t){return Fe(t.integerValue||t.doubleValue)}function gS(t){return Pa(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}class A${constructor(e,n){this.version=e,this.transformResults=n}}class be{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new be}static exists(e){return new be(void 0,e)}static updateTime(e){return new be(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Fc(t,e){return void 0!==t.updateTime?e.isFoundDocument()&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e.isFoundDocument()}class Oc{}function mS(t,e){if(!t.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return t.isNoDocument()?new qs(t.key,be.none()):new Gs(t.key,t.data,be.none());{const n=t.data,r=dt.empty();let i=new ce(Pe.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);null===o&&s.length>1&&(s=s.popLast(),o=n.field(s)),null===o?r.delete(s):r.set(s,o),i=i.add(s)}return new ir(t.key,r,new Xt(i.toArray()),be.none())}}function M$(t,e,n){t instanceof Gs?function(r,i,s){const o=r.value.clone(),a=_S(r.fieldTransforms,i,s.transformResults);o.setAll(a),i.convertToFoundDocument(s.version,o).setHasCommittedMutations()}(t,e,n):t instanceof ir?function(r,i,s){if(!Fc(r.precondition,i))return void i.convertToUnknownDocument(s.version);const o=_S(r.fieldTransforms,i,s.transformResults),a=i.data;a.setAll(vS(r)),a.setAll(o),i.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(t,e,n):e.convertToNoDocument(n.version).setHasCommittedMutations()}function Ua(t,e,n,r){return t instanceof Gs?function(i,s,o,a){if(!Fc(i.precondition,s))return o;const u=i.value.clone(),l=DS(i.fieldTransforms,a,s);return u.setAll(l),s.convertToFoundDocument(s.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof ir?function(i,s,o,a){if(!Fc(i.precondition,s))return o;const u=DS(i.fieldTransforms,a,s),l=s.data;return l.setAll(vS(i)),l.setAll(u),s.convertToFoundDocument(s.version,l).setHasLocalMutations(),null===o?null:o.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(c=>c.field))}(t,e,n,r):(o=n,Fc(t.precondition,s=e)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):o);var s,o}function N$(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=dS(r.transform,i||null);null!=s&&(null===n&&(n=dt.empty()),n.set(r.field,s))}return n||null}function yS(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&(r=e.fieldTransforms,!!(void 0===(n=t.fieldTransforms)&&void 0===r||n&&r&&Ps(n,r,(i,s)=>function x$(t,e){return t.field.isEqual(e.field)&&(r=e.transform,(n=t.transform)instanceof bi&&r instanceof bi||n instanceof Ii&&r instanceof Ii?Ps(n.elements,r.elements,Pn):n instanceof $s&&r instanceof $s?Pn(n.yt,r.yt):n instanceof Hs&&r instanceof Hs);var n,r}(i,s))))&&(0===t.type?t.value.isEqual(e.value):1!==t.type||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask));var n,r}class Gs extends Oc{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class ir extends Oc{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function vS(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function _S(t,e,n){const r=new Map;L(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,S$(o,a,n[i]))}return r}function DS(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,T$(s,o,e))}return r}class qs extends Oc{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class dm extends Oc{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class F${constructor(e){this.count=e}}var $e,re;function wS(t){switch(t){default:return F();case _.CANCELLED:case _.UNKNOWN:case _.DEADLINE_EXCEEDED:case _.RESOURCE_EXHAUSTED:case _.INTERNAL:case _.UNAVAILABLE:case _.UNAUTHENTICATED:return!1;case _.INVALID_ARGUMENT:case _.NOT_FOUND:case _.ALREADY_EXISTS:case _.PERMISSION_DENIED:case _.FAILED_PRECONDITION:case _.ABORTED:case _.OUT_OF_RANGE:case _.UNIMPLEMENTED:case _.DATA_LOSS:return!0}}function ES(t){if(void 0===t)return ke("GRPC error has no .code"),_.UNKNOWN;switch(t){case $e.OK:return _.OK;case $e.CANCELLED:return _.CANCELLED;case $e.UNKNOWN:return _.UNKNOWN;case $e.DEADLINE_EXCEEDED:return _.DEADLINE_EXCEEDED;case $e.RESOURCE_EXHAUSTED:return _.RESOURCE_EXHAUSTED;case $e.INTERNAL:return _.INTERNAL;case $e.UNAVAILABLE:return _.UNAVAILABLE;case $e.UNAUTHENTICATED:return _.UNAUTHENTICATED;case $e.INVALID_ARGUMENT:return _.INVALID_ARGUMENT;case $e.NOT_FOUND:return _.NOT_FOUND;case $e.ALREADY_EXISTS:return _.ALREADY_EXISTS;case $e.PERMISSION_DENIED:return _.PERMISSION_DENIED;case $e.FAILED_PRECONDITION:return _.FAILED_PRECONDITION;case $e.ABORTED:return _.ABORTED;case $e.OUT_OF_RANGE:return _.OUT_OF_RANGE;case $e.UNIMPLEMENTED:return _.UNIMPLEMENTED;case $e.DATA_LOSS:return _.DATA_LOSS;default:return F()}}(re=$e||($e={}))[re.OK=0]="OK",re[re.CANCELLED=1]="CANCELLED",re[re.UNKNOWN=2]="UNKNOWN",re[re.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",re[re.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",re[re.NOT_FOUND=5]="NOT_FOUND",re[re.ALREADY_EXISTS=6]="ALREADY_EXISTS",re[re.PERMISSION_DENIED=7]="PERMISSION_DENIED",re[re.UNAUTHENTICATED=16]="UNAUTHENTICATED",re[re.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",re[re.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",re[re.ABORTED=10]="ABORTED",re[re.OUT_OF_RANGE=11]="OUT_OF_RANGE",re[re.UNIMPLEMENTED=12]="UNIMPLEMENTED",re[re.INTERNAL=13]="INTERNAL",re[re.UNAVAILABLE=14]="UNAVAILABLE",re[re.DATA_LOSS=15]="DATA_LOSS";class Vr{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0!==r)for(const[i,s]of r)if(this.equalsFn(i,e))return s}has(e){return void 0!==this.get(e)}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(void 0===i)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return 1===r.length?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){vi(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return jT(this.inner)}size(){return this.innerSize}}const O$=new Ne(T.comparator);function Ut(){return O$}const CS=new Ne(T.comparator);function Ha(...t){let e=CS;for(const n of t)e=e.insert(n.key,n);return e}function bS(t){let e=CS;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Vn(){return $a()}function IS(){return $a()}function $a(){return new Vr(t=>t.toString(),(t,e)=>t.isEqual(e))}const R$=new Ne(T.comparator),k$=new ce(T.comparator);function z(...t){let e=k$;for(const n of t)e=e.add(n);return e}const P$=new ce(j);function Rc(){return P$}class Ga{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n){const r=new Map;return r.set(e,qa.createSynthesizedTargetChangeForCurrentChange(e,n)),new Ga(P.min(),r,Rc(),Ut(),z())}}class qa{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n){return new qa(Ke.EMPTY_BYTE_STRING,n,z(),z(),z())}}class kc{constructor(e,n,r,i){this.Tt=e,this.removedTargetIds=n,this.key=r,this.Et=i}}class TS{constructor(e,n){this.targetId=e,this.At=n}}class SS{constructor(e,n,r=Ke.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class xS{constructor(){this.Rt=0,this.bt=MS(),this.Pt=Ke.EMPTY_BYTE_STRING,this.vt=!1,this.Vt=!0}get current(){return this.vt}get resumeToken(){return this.Pt}get St(){return 0!==this.Rt}get Dt(){return this.Vt}Ct(e){e.approximateByteSize()>0&&(this.Vt=!0,this.Pt=e)}xt(){let e=z(),n=z(),r=z();return this.bt.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:F()}}),new qa(this.Pt,this.vt,e,n,r)}Nt(){this.Vt=!1,this.bt=MS()}kt(e,n){this.Vt=!0,this.bt=this.bt.insert(e,n)}Mt(e){this.Vt=!0,this.bt=this.bt.remove(e)}Ot(){this.Rt+=1}Ft(){this.Rt-=1}$t(){this.Vt=!0,this.vt=!0}}class V${constructor(e){this.Bt=e,this.Lt=new Map,this.Ut=Ut(),this.qt=AS(),this.Kt=new ce(j)}Gt(e){for(const n of e.Tt)e.Et&&e.Et.isFoundDocument()?this.Qt(n,e.Et):this.jt(n,e.key,e.Et);for(const n of e.removedTargetIds)this.jt(n,e.key,e.Et)}Wt(e){this.forEachTarget(e,n=>{const r=this.zt(n);switch(e.state){case 0:this.Ht(n)&&r.Ct(e.resumeToken);break;case 1:r.Ft(),r.St||r.Nt(),r.Ct(e.resumeToken);break;case 2:r.Ft(),r.St||this.removeTarget(n);break;case 3:this.Ht(n)&&(r.$t(),r.Ct(e.resumeToken));break;case 4:this.Ht(n)&&(this.Jt(n),r.Ct(e.resumeToken));break;default:F()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Lt.forEach((r,i)=>{this.Ht(i)&&n(i)})}Yt(e){const n=e.targetId,r=e.At.count,i=this.Xt(n);if(i){const s=i.target;if(xc(s))if(0===r){const o=new T(s.path);this.jt(n,o,ve.newNoDocument(o,P.min()))}else L(1===r);else this.Zt(n)!==r&&(this.Jt(n),this.Kt=this.Kt.add(n))}}te(e){const n=new Map;this.Lt.forEach((s,o)=>{const a=this.Xt(o);if(a){if(s.current&&xc(a.target)){const u=new T(a.target.path);null!==this.Ut.get(u)||this.ee(o,u)||this.jt(o,u,ve.newNoDocument(u,e))}s.Dt&&(n.set(o,s.xt()),s.Nt())}});let r=z();this.qt.forEach((s,o)=>{let a=!0;o.forEachWhile(u=>{const l=this.Xt(u);return!l||2===l.purpose||(a=!1,!1)}),a&&(r=r.add(s))}),this.Ut.forEach((s,o)=>o.setReadTime(e));const i=new Ga(e,n,this.Kt,this.Ut,r);return this.Ut=Ut(),this.qt=AS(),this.Kt=new ce(j),i}Qt(e,n){if(!this.Ht(e))return;const r=this.ee(e,n.key)?2:0;this.zt(e).kt(n.key,r),this.Ut=this.Ut.insert(n.key,n),this.qt=this.qt.insert(n.key,this.ne(n.key).add(e))}jt(e,n,r){if(!this.Ht(e))return;const i=this.zt(e);this.ee(e,n)?i.kt(n,1):i.Mt(n),this.qt=this.qt.insert(n,this.ne(n).delete(e)),r&&(this.Ut=this.Ut.insert(n,r))}removeTarget(e){this.Lt.delete(e)}Zt(e){const n=this.zt(e).xt();return this.Bt.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ot(e){this.zt(e).Ot()}zt(e){let n=this.Lt.get(e);return n||(n=new xS,this.Lt.set(e,n)),n}ne(e){let n=this.qt.get(e);return n||(n=new ce(j),this.qt=this.qt.insert(e,n)),n}Ht(e){const n=null!==this.Xt(e);return n||C("WatchChangeAggregator","Detected inactive target",e),n}Xt(e){const n=this.Lt.get(e);return n&&n.St?null:this.Bt.se(e)}Jt(e){this.Lt.set(e,new xS),this.Bt.getRemoteKeysForTarget(e).forEach(n=>{this.jt(e,n,null)})}ee(e,n){return this.Bt.getRemoteKeysForTarget(e).has(n)}}function AS(){return new Ne(T.comparator)}function MS(){return new Ne(T.comparator)}const L$={asc:"ASCENDING",desc:"DESCENDING"},B$={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class j${constructor(e,n){this.databaseId=e,this.gt=n}}function za(t,e){return t.gt?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function NS(t,e){return t.gt?e.toBase64():e.toUint8Array()}function U$(t,e){return za(t,e.toTimestamp())}function tt(t){return L(!!t),P.fromTimestamp(function(e){const n=Or(e);return new Se(n.seconds,n.nanos)}(t))}function hm(t,e){return(n=t,new ne(["projects",n.projectId,"databases",n.database])).child("documents").child(e).canonicalString();var n}function FS(t){const e=ne.fromString(t);return L(US(e)),e}function Wa(t,e){return hm(t.databaseId,e.path)}function Ln(t,e){const n=FS(e);if(n.get(1)!==t.databaseId.projectId)throw new E(_.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new E(_.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new T(RS(n))}function fm(t,e){return hm(t.databaseId,e)}function Ka(t){return new ne(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function RS(t){return L(t.length>4&&"documents"===t.get(4)),t.popFirst(5)}function kS(t,e,n){return{name:Wa(t,e),fields:n.value.mapValue.fields}}function VS(t,e){return{documents:[fm(t,e.path)]}}function LS(t,e){const n={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(n.parent=fm(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=fm(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(u){if(0===u.length)return;const l=u.map(c=>function(d){if("=="===d.op){if(zT(d.value))return{unaryFilter:{field:zs(d.field),op:"IS_NAN"}};if(qT(d.value))return{unaryFilter:{field:zs(d.field),op:"IS_NULL"}}}else if("!="===d.op){if(zT(d.value))return{unaryFilter:{field:zs(d.field),op:"IS_NOT_NAN"}};if(qT(d.value))return{unaryFilter:{field:zs(d.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:zs(d.field),op:W$(d.op),value:d.value}}}(c));return 1===l.length?l[0]:{compositeFilter:{op:"AND",filters:l}}}(e.filters);i&&(n.structuredQuery.where=i);const s=function(u){if(0!==u.length)return u.map(l=>{return{field:zs((c=l).field),direction:z$(c.dir)};var c})}(e.orderBy);s&&(n.structuredQuery.orderBy=s);const o=(l=e.limit,t.gt||Oa(l)?l:{value:l});var l,a,u;return null!==o&&(n.structuredQuery.limit=o),e.startAt&&(n.structuredQuery.startAt={before:(a=e.startAt).inclusive,values:a.position}),e.endAt&&(n.structuredQuery.endAt={before:!(u=e.endAt).inclusive,values:u.position}),n}function BS(t){let e=function OS(t){const e=FS(t);return 4===e.length?ne.emptyPath():RS(e)}(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){L(1===r);const c=n.from[0];c.allDescendants?i=c.collectionId:e=e.child(c.collectionId)}let s=[];n.where&&(s=jS(n.where));let o=[];n.orderBy&&(o=n.orderBy.map(c=>{return new Bs(Ws((d=c).field),function(h){switch(h){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(d.direction));var d}));let a=null;n.limit&&(a=function(c){let d;return d="object"==typeof c?c.value:c,Oa(d)?null:d}(n.limit));let u=null;var c;n.startAt&&(u=new Pr((c=n.startAt).values||[],!!c.before));let l=null;return n.endAt&&(l=function(c){return new Pr(c.values||[],!c.before)}(n.endAt)),function rS(t,e,n,r,i,s,o,a){return new rr(t,e,n,r,i,s,o,a)}(e,i,o,s,a,"F",u,l)}function jS(t){return t?void 0!==t.unaryFilter?[Q$(t)]:void 0!==t.fieldFilter?[K$(t)]:void 0!==t.compositeFilter?t.compositeFilter.filters.map(e=>jS(e)).reduce((e,n)=>e.concat(n)):F():[]}function z$(t){return L$[t]}function W$(t){return B$[t]}function zs(t){return{fieldPath:t.canonicalString()}}function Ws(t){return Pe.fromServerFormat(t.fieldPath)}function K$(t){return ht.create(Ws(t.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return F()}}(t.fieldFilter.op),t.fieldFilter.value)}function Q$(t){switch(t.unaryFilter.op){case"IS_NAN":const e=Ws(t.unaryFilter.field);return ht.create(e,"==",{doubleValue:NaN});case"IS_NULL":const n=Ws(t.unaryFilter.field);return ht.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=Ws(t.unaryFilter.field);return ht.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=Ws(t.unaryFilter.field);return ht.create(i,"!=",{nullValue:"NULL_VALUE"});default:return F()}}function Y$(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function US(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}class mm{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&M$(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Ua(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Ua(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=IS();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;const u=mS(o,a);null!==u&&r.set(i.key,u),o.isValidDocument()||o.convertToNoDocument(P.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),z())}isEqual(e){return this.batchId===e.batchId&&Ps(this.mutations,e.mutations,(n,r)=>yS(n,r))&&Ps(this.baseMutations,e.baseMutations,(n,r)=>yS(n,r))}}class ym{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){L(e.mutations.length===r.length);let i=R$;const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new ym(e,n,r,i)}}class vm{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class Lr{constructor(e,n,r,i,s=P.min(),o=P.min(),a=Ke.EMPTY_BYTE_STRING){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a}withSequenceNumber(e){return new Lr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,n){return new Lr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new Lr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class KS{constructor(e){this.re=e}}function _m(t){const e=BS({parent:t.parent,structuredQuery:t.structuredQuery});return"LAST"===t.limitType?Mc(e,e.limit,"L"):e}class Ai{constructor(){}ce(e,n){this.ae(e,n),n.he()}ae(e,n){if("nullValue"in e)this.le(n,5);else if("booleanValue"in e)this.le(n,10),n.fe(e.booleanValue?1:0);else if("integerValue"in e)this.le(n,15),n.fe(Fe(e.integerValue));else if("doubleValue"in e){const r=Fe(e.doubleValue);isNaN(r)?this.le(n,13):(this.le(n,15),Ra(r)?n.fe(0):n.fe(r))}else if("timestampValue"in e){const r=e.timestampValue;this.le(n,20),"string"==typeof r?n.de(r):(n.de(`${r.seconds||""}`),n.fe(r.nanos||0))}else if("stringValue"in e)this._e(e.stringValue,n),this.we(n);else if("bytesValue"in e)this.le(n,30),n.me(_i(e.bytesValue)),this.we(n);else if("referenceValue"in e)this.ge(e.referenceValue,n);else if("geoPointValue"in e){const r=e.geoPointValue;this.le(n,45),n.fe(r.latitude||0),n.fe(r.longitude||0)}else"mapValue"in e?WT(e)?this.le(n,Number.MAX_SAFE_INTEGER):(this.ye(e.mapValue,n),this.we(n)):"arrayValue"in e?(this.pe(e.arrayValue,n),this.we(n)):F()}_e(e,n){this.le(n,25),this.Ie(e,n)}Ie(e,n){n.de(e)}ye(e,n){const r=e.fields||{};this.le(n,55);for(const i of Object.keys(r))this._e(i,n),this.ae(r[i],n)}pe(e,n){const r=e.values||[];this.le(n,50);for(const i of r)this.ae(i,n)}ge(e,n){this.le(n,37),T.fromName(e).path.forEach(r=>{this.le(n,60),this.Ie(r,n)})}le(e,n){e.fe(n)}we(e){e.fe(2)}}Ai.Te=new Ai;class EG{constructor(){this.Ye=new wm}addToCollectionParentIndex(e,n){return this.Ye.add(n),v.resolve()}getCollectionParents(e,n){return v.resolve(this.Ye.getEntries(n))}addFieldIndex(e,n){return v.resolve()}deleteFieldIndex(e,n){return v.resolve()}getDocumentsMatchingTarget(e,n){return v.resolve(null)}getIndexType(e,n){return v.resolve(0)}getFieldIndexes(e,n){return v.resolve([])}getNextCollectionGroupToUpdate(e){return v.resolve(null)}getMinOffset(e,n){return v.resolve(Zt.min())}getMinOffsetFromCollectionGroup(e,n){return v.resolve(Zt.min())}updateCollectionGroup(e,n,r){return v.resolve()}updateIndexEntries(e,n){return v.resolve()}}class wm{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new ce(ne.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new ce(ne.comparator)).toArray()}}new Uint8Array(0);class Ht{constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new Ht(e,Ht.DEFAULT_COLLECTION_PERCENTILE,Ht.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}Ht.DEFAULT_COLLECTION_PERCENTILE=10,Ht.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Ht.DEFAULT=new Ht(41943040,Ht.DEFAULT_COLLECTION_PERCENTILE,Ht.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Ht.DISABLED=new Ht(-1,0,0);class Fi{constructor(e){this.bn=e}next(){return this.bn+=2,this.bn}static Pn(){return new Fi(0)}static vn(){return new Fi(-1)}}class FG{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class gx{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.getBaseDocument(e,n,r))).next(i=>(null!==r&&Ua(r.mutation,i,Xt.empty(),Se.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,z()).next(()=>r))}getLocalViewOfDocuments(e,n,r=z()){const i=Vn();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=Ha();return s.forEach((a,u)=>{o=o.insert(a,u.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=Vn();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,z()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=Ut();const o=$a(),a=$a();return n.forEach((u,l)=>{const c=r.get(l.key);i.has(l.key)&&(void 0===c||c.mutation instanceof ir)?s=s.insert(l.key,l):void 0!==c&&(o.set(l.key,c.mutation.getFieldMask()),Ua(c.mutation,l,c.mutation.getFieldMask(),Se.now()))}),this.recalculateAndSaveOverlays(e,s).next(u=>(u.forEach((l,c)=>o.set(l,c)),n.forEach((l,c)=>{var d;return a.set(l,new FG(c,null!==(d=o.get(l))&&void 0!==d?d:null))}),a))}recalculateAndSaveOverlays(e,n){const r=$a();let i=new Ne((o,a)=>o-a),s=z();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(u=>{const l=n.get(u);if(null===l)return;let c=r.get(u)||Xt.empty();c=a.applyToLocalView(l,c),r.set(u,c);const d=(i.get(a.batchId)||z()).add(u);i=i.insert(a.batchId,d)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const u=a.getNext(),l=u.key,c=u.value,d=IS();c.forEach(h=>{if(!s.has(h)){const f=mS(n.get(h),r.get(h));null!==f&&d.set(h,f),s=s.add(h)}}),o.push(this.documentOverlayCache.saveOverlays(e,l,d))}return v.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r){return T.isDocumentKey((i=n).path)&&null===i.collectionGroup&&0===i.filters.length?this.getDocumentsMatchingDocumentQuery(e,n.path):function um(t){return null!==t.collectionGroup}(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r):this.getDocumentsMatchingCollectionQuery(e,n,r);var i}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):v.resolve(Vn());let a=-1,u=s;return o.next(l=>v.forEach(l,(c,d)=>(a<d.largestBatchId&&(a=d.largestBatchId),s.get(c)?v.resolve():this.getBaseDocument(e,c,d).next(h=>{u=u.insert(c,h)}))).next(()=>this.populateOverlays(e,l,s)).next(()=>this.computeViews(e,u,l,z())).next(c=>({batchId:a,changes:bS(c)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new T(n)).next(r=>{let i=Ha();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r){const i=n.collectionGroup;let s=Ha();return this.indexManager.getCollectionParents(e,i).next(o=>v.forEach(o,a=>{const u=(l=n,c=a.child(i),new rr(c,null,l.explicitOrderBy.slice(),l.filters.slice(),l.limit,l.limitType,l.startAt,l.endAt));var l,c;return this.getDocumentsMatchingCollectionQuery(e,u,r).next(l=>{l.forEach((c,d)=>{s=s.insert(c,d)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,r){let i;return this.remoteDocumentCache.getAllFromCollection(e,n.path,r).next(s=>(i=s,this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId))).next(s=>{s.forEach((a,u)=>{const l=u.getKey();null===i.get(l)&&(i=i.insert(l,ve.newInvalidDocument(l)))});let o=Ha();return i.forEach((a,u)=>{const l=s.get(a);void 0!==l&&Ua(l.mutation,u,Xt.empty(),Se.now()),cm(n,u)&&(o=o.insert(a,u))}),o})}getBaseDocument(e,n,r){return null===r||1===r.mutation.type?this.remoteDocumentCache.getEntry(e,n):v.resolve(ve.newInvalidDocument(n))}}class OG{constructor(e){this.It=e,this.Zn=new Map,this.ts=new Map}getBundleMetadata(e,n){return v.resolve(this.Zn.get(n))}saveBundleMetadata(e,n){var r;return this.Zn.set(n.id,{id:(r=n).id,version:r.version,createTime:tt(r.createTime)}),v.resolve()}getNamedQuery(e,n){return v.resolve(this.ts.get(n))}saveNamedQuery(e,n){return this.ts.set(n.name,{name:(r=n).name,query:_m(r.bundledQuery),readTime:tt(r.readTime)}),v.resolve();var r}}class RG{constructor(){this.overlays=new Ne(T.comparator),this.es=new Map}getOverlay(e,n){return v.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Vn();return v.forEach(n,i=>this.getOverlay(e,i).next(s=>{null!==s&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.ue(e,n,s)}),v.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.es.get(r);return void 0!==i&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.es.delete(r)),v.resolve()}getOverlaysForCollection(e,n,r){const i=Vn(),s=n.length+1,o=new T(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const u=a.getNext().value,l=u.getKey();if(!n.isPrefixOf(l.path))break;l.path.length===s&&u.largestBatchId>r&&i.set(u.getKey(),u)}return v.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new Ne((l,c)=>l-c);const o=this.overlays.getIterator();for(;o.hasNext();){const l=o.getNext().value;if(l.getKey().getCollectionGroup()===n&&l.largestBatchId>r){let c=s.get(l.largestBatchId);null===c&&(c=Vn(),s=s.insert(l.largestBatchId,c)),c.set(l.getKey(),l)}}const a=Vn(),u=s.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((l,c)=>a.set(l,c)),!(a.size()>=i)););return v.resolve(a)}ue(e,n,r){const i=this.overlays.get(r.key);if(null!==i){const o=this.es.get(i.largestBatchId).delete(r.key);this.es.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new vm(n,r));let s=this.es.get(n);void 0===s&&(s=z(),this.es.set(n,s)),this.es.set(n,s.add(r.key))}}class Em{constructor(){this.ns=new ce(rt.ss),this.rs=new ce(rt.os)}isEmpty(){return this.ns.isEmpty()}addReference(e,n){const r=new rt(e,n);this.ns=this.ns.add(r),this.rs=this.rs.add(r)}us(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.cs(new rt(e,n))}hs(e,n){e.forEach(r=>this.removeReference(r,n))}ls(e){const n=new T(new ne([])),r=new rt(n,e),i=new rt(n,e+1),s=[];return this.rs.forEachInRange([r,i],o=>{this.cs(o),s.push(o.key)}),s}fs(){this.ns.forEach(e=>this.cs(e))}cs(e){this.ns=this.ns.delete(e),this.rs=this.rs.delete(e)}ds(e){const n=new T(new ne([])),r=new rt(n,e),i=new rt(n,e+1);let s=z();return this.rs.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new rt(e,0),r=this.ns.firstAfterOrEqual(n);return null!==r&&e.isEqual(r.key)}}class rt{constructor(e,n){this.key=e,this._s=n}static ss(e,n){return T.comparator(e.key,n.key)||j(e._s,n._s)}static os(e,n){return j(e._s,n._s)||T.comparator(e.key,n.key)}}class kG{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.ws=1,this.gs=new ce(rt.ss)}checkEmpty(e){return v.resolve(0===this.mutationQueue.length)}addMutationBatch(e,n,r,i){const s=this.ws;this.ws++;const o=new mm(s,n,r,i);this.mutationQueue.push(o);for(const a of i)this.gs=this.gs.add(new rt(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return v.resolve(o)}lookupMutationBatch(e,n){return v.resolve(this.ys(n))}getNextMutationBatchAfterBatchId(e,n){const i=this.ps(n+1),s=i<0?0:i;return v.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return v.resolve(0===this.mutationQueue.length?-1:this.ws-1)}getAllMutationBatches(e){return v.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new rt(n,0),i=new rt(n,Number.POSITIVE_INFINITY),s=[];return this.gs.forEachInRange([r,i],o=>{const a=this.ys(o._s);s.push(a)}),v.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new ce(j);return n.forEach(i=>{const s=new rt(i,0),o=new rt(i,Number.POSITIVE_INFINITY);this.gs.forEachInRange([s,o],a=>{r=r.add(a._s)})}),v.resolve(this.Is(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;T.isDocumentKey(s)||(s=s.child(""));const o=new rt(new T(s),0);let a=new ce(j);return this.gs.forEachWhile(u=>{const l=u.key.path;return!!r.isPrefixOf(l)&&(l.length===i&&(a=a.add(u._s)),!0)},o),v.resolve(this.Is(a))}Is(e){const n=[];return e.forEach(r=>{const i=this.ys(r);null!==i&&n.push(i)}),n}removeMutationBatch(e,n){L(0===this.Ts(n.batchId,"removed")),this.mutationQueue.shift();let r=this.gs;return v.forEach(n.mutations,i=>{const s=new rt(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.gs=r})}An(e){}containsKey(e,n){const r=new rt(n,0),i=this.gs.firstAfterOrEqual(r);return v.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return v.resolve()}Ts(e,n){return this.ps(e)}ps(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}ys(e){const n=this.ps(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class PG{constructor(e){this.Es=e,this.docs=new Ne(T.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.Es(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return v.resolve(r?r.document.mutableCopy():ve.newInvalidDocument(n))}getEntries(e,n){let r=Ut();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():ve.newInvalidDocument(i))}),v.resolve(r)}getAllFromCollection(e,n,r){let i=Ut();const s=new T(n.child("")),o=this.docs.getIteratorFrom(s);for(;o.hasNext();){const{key:a,value:{document:u}}=o.getNext();if(!n.isPrefixOf(a.path))break;a.path.length>n.length+1||em(PT(u),r)<=0||(i=i.insert(u.key,u.mutableCopy()))}return v.resolve(i)}getAllFromCollectionGroup(e,n,r,i){F()}As(e,n){return v.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new VG(this)}getSize(e){return v.resolve(this.size)}}class VG extends class AG{constructor(){this.changes=new Vr(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,ve.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return void 0!==r?v.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}{constructor(e){super(),this.Yn=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.Yn.addEntry(e,i)):this.Yn.removeEntry(r)}),v.waitFor(n)}getFromCache(e,n){return this.Yn.getEntry(e,n)}getAllFromCache(e,n){return this.Yn.getEntries(e,n)}}class LG{constructor(e){this.persistence=e,this.Rs=new Vr(n=>Ci(n),La),this.lastRemoteSnapshotVersion=P.min(),this.highestTargetId=0,this.bs=0,this.Ps=new Em,this.targetCount=0,this.vs=Fi.Pn()}forEachTarget(e,n){return this.Rs.forEach((r,i)=>n(i)),v.resolve()}getLastRemoteSnapshotVersion(e){return v.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return v.resolve(this.bs)}allocateTargetId(e){return this.highestTargetId=this.vs.next(),v.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.bs&&(this.bs=n),v.resolve()}Dn(e){this.Rs.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.vs=new Fi(n),this.highestTargetId=n),e.sequenceNumber>this.bs&&(this.bs=e.sequenceNumber)}addTargetData(e,n){return this.Dn(n),this.targetCount+=1,v.resolve()}updateTargetData(e,n){return this.Dn(n),v.resolve()}removeTargetData(e,n){return this.Rs.delete(n.target),this.Ps.ls(n.targetId),this.targetCount-=1,v.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.Rs.forEach((o,a)=>{a.sequenceNumber<=n&&null===r.get(a.targetId)&&(this.Rs.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),v.waitFor(s).next(()=>i)}getTargetCount(e){return v.resolve(this.targetCount)}getTargetData(e,n){const r=this.Rs.get(n)||null;return v.resolve(r)}addMatchingKeys(e,n,r){return this.Ps.us(n,r),v.resolve()}removeMatchingKeys(e,n,r){this.Ps.hs(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),v.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Ps.ls(n),v.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Ps.ds(n);return v.resolve(r)}containsKey(e,n){return v.resolve(this.Ps.containsKey(n))}}class mx{constructor(e,n){this.Vs={},this.overlays={},this.Ss=new Bt(0),this.Ds=!1,this.Ds=!0,this.referenceDelegate=e(this),this.Cs=new LG(this),this.indexManager=new EG,this.remoteDocumentCache=new PG(r=>this.referenceDelegate.xs(r)),this.It=new KS(n),this.Ns=new OG(this.It)}start(){return Promise.resolve()}shutdown(){return this.Ds=!1,Promise.resolve()}get started(){return this.Ds}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new RG,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Vs[e.toKey()];return r||(r=new kG(n,this.referenceDelegate),this.Vs[e.toKey()]=r),r}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ns}runTransaction(e,n,r){C("MemoryPersistence","Starting transaction:",e);const i=new BG(this.Ss.next());return this.referenceDelegate.ks(),r(i).next(s=>this.referenceDelegate.Ms(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Os(e,n){return v.or(Object.values(this.Vs).map(r=>()=>r.containsKey(e,n)))}}class BG extends class o${constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}{constructor(e){super(),this.currentSequenceNumber=e}}class Gc{constructor(e){this.persistence=e,this.Fs=new Em,this.$s=null}static Bs(e){return new Gc(e)}get Ls(){if(this.$s)return this.$s;throw F()}addReference(e,n,r){return this.Fs.addReference(r,n),this.Ls.delete(r.toString()),v.resolve()}removeReference(e,n,r){return this.Fs.removeReference(r,n),this.Ls.add(r.toString()),v.resolve()}markPotentiallyOrphaned(e,n){return this.Ls.add(n.toString()),v.resolve()}removeTarget(e,n){this.Fs.ls(n.targetId).forEach(i=>this.Ls.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Ls.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}ks(){this.$s=new Set}Ms(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return v.forEach(this.Ls,r=>{const i=T.fromPath(r);return this.Us(e,i).next(s=>{s||n.removeEntry(i,P.min())})}).next(()=>(this.$s=null,n.apply(e)))}updateLimboDocument(e,n){return this.Us(e,n).next(r=>{r?this.Ls.delete(n.toString()):this.Ls.add(n.toString())})}xs(e){return 0}Us(e,n){return v.or([()=>v.resolve(this.Fs.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Os(e,n)])}}class Tm{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Si=r,this.Di=i}static Ci(e,n){let r=z(),i=z();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new Tm(e,n.fromCache,r,i)}}class vx{constructor(){this.xi=!1}initialize(e,n){this.Ni=e,this.indexManager=n,this.xi=!0}getDocumentsMatchingQuery(e,n,r,i){return this.ki(e,n).next(s=>s||this.Mi(e,n,i,r)).next(s=>s||this.Oi(e,n))}ki(e,n){if(iS(n))return v.resolve(null);let r=jt(n);return this.indexManager.getIndexType(e,r).next(i=>0===i?null:(null!==n.limit&&1===i&&(n=Mc(n,null,"F"),r=jt(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=z(...s);return this.Ni.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(u=>{const l=this.Fi(n,a);return this.$i(n,l,o,u.readTime)?this.ki(e,Mc(n,null,"F")):this.Bi(e,l,n,u)}))})))}Mi(e,n,r,i){return iS(n)||i.isEqual(P.min())?this.Oi(e,n):this.Ni.getDocuments(e,r).next(s=>{const o=this.Fi(n,s);return this.$i(n,o,r,i)?this.Oi(e,n):(Zg()<=oe.DEBUG&&C("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),lm(n)),this.Bi(e,o,n,function kT(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=P.fromTimestamp(1e9===r?new Se(n+1,0):new Se(n,r));return new Zt(i,T.empty(),e)}(i,-1)))})}Fi(e,n){let r=new ce(aS(e));return n.forEach((i,s)=>{cm(e,s)&&(r=r.add(s))}),r}$i(e,n,r,i){if(null===e.limit)return!1;if(r.size!==n.size)return!0;const s="F"===e.limitType?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Oi(e,n){return Zg()<=oe.DEBUG&&C("QueryEngine","Using full collection scan to execute query:",lm(n)),this.Ni.getDocumentsMatchingQuery(e,n,Zt.min())}Bi(e,n,r,i){return this.Ni.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}class UG{constructor(e,n,r,i){this.persistence=e,this.Li=n,this.It=i,this.Ui=new Ne(j),this.qi=new Vr(s=>Ci(s),La),this.Ki=new Map,this.Gi=e.getRemoteDocumentCache(),this.Cs=e.getTargetCache(),this.Ns=e.getBundleCache(),this.Qi(r)}Qi(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new gx(this.Gi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Gi.setIndexManager(this.indexManager),this.Li.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ui))}}function Dx(t,e){return Sm.apply(this,arguments)}function Sm(){return Sm=M(function*(t,e){const n=S(t);return yield n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.Qi(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let u=z();for(const l of i){o.push(l.batchId);for(const c of l.mutations)u=u.add(c.key)}for(const l of s){a.push(l.batchId);for(const c of l.mutations)u=u.add(c.key)}return n.localDocuments.getDocuments(r,u).next(l=>({ji:l,removedBatchIds:o,addedBatchIds:a}))})})}),Sm.apply(this,arguments)}function HG(t,e){const n=S(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.Gi.newChangeBuffer({trackRemovals:!0});return function(o,a,u,l){const c=u.batch,d=c.keys();let h=v.resolve();return d.forEach(f=>{h=h.next(()=>l.getEntry(a,f)).next(p=>{const g=u.docVersions.get(f);L(null!==g),p.version.compareTo(g)<0&&(c.applyToRemoteDocument(p,u),p.isValidDocument()&&(p.setReadTime(u.commitVersion),l.addEntry(p)))})}),h.next(()=>o.mutationQueue.removeMutationBatch(a,c))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(o){let a=z();for(let u=0;u<o.mutationResults.length;++u)o.mutationResults[u].transformResults.length>0&&(a=a.add(o.batch.mutations[u].key));return a}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function wx(t){const e=S(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Cs.getLastRemoteSnapshotVersion(n))}function $G(t,e){const n=S(t),r=e.snapshotVersion;let i=n.Ui;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.Gi.newChangeBuffer({trackRemovals:!0});i=n.Ui;const a=[];e.targetChanges.forEach((c,d)=>{const h=i.get(d);if(!h)return;a.push(n.Cs.removeMatchingKeys(s,c.removedDocuments,d).next(()=>n.Cs.addMatchingKeys(s,c.addedDocuments,d)));let f=h.withSequenceNumber(s.currentSequenceNumber);var p,g,m;e.targetMismatches.has(d)?f=f.withResumeToken(Ke.EMPTY_BYTE_STRING,P.min()).withLastLimboFreeSnapshotVersion(P.min()):c.resumeToken.approximateByteSize()>0&&(f=f.withResumeToken(c.resumeToken,r)),i=i.insert(d,f),g=f,m=c,(0===(p=h).resumeToken.approximateByteSize()||g.snapshotVersion.toMicroseconds()-p.snapshotVersion.toMicroseconds()>=3e8||m.addedDocuments.size+m.modifiedDocuments.size+m.removedDocuments.size>0)&&a.push(n.Cs.updateTargetData(s,f))});let u=Ut(),l=z();if(e.documentUpdates.forEach(c=>{e.resolvedLimboDocuments.has(c)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,c))}),a.push(function Ex(t,e,n){let r=z(),i=z();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=Ut();return n.forEach((a,u)=>{const l=s.get(a);u.isFoundDocument()!==l.isFoundDocument()&&(i=i.add(a)),u.isNoDocument()&&u.version.isEqual(P.min())?(e.removeEntry(a,u.readTime),o=o.insert(a,u)):!l.isValidDocument()||u.version.compareTo(l.version)>0||0===u.version.compareTo(l.version)&&l.hasPendingWrites?(e.addEntry(u),o=o.insert(a,u)):C("LocalStore","Ignoring outdated watch update for ",a,". Current version:",l.version," Watch version:",u.version)}),{Wi:o,zi:i}})}(s,o,e.documentUpdates).next(c=>{u=c.Wi,l=c.zi})),!r.isEqual(P.min())){const c=n.Cs.getLastRemoteSnapshotVersion(s).next(d=>n.Cs.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(c)}return v.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,u,l)).next(()=>u)}).then(s=>(n.Ui=i,s))}function GG(t,e){const n=S(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function Ys(t,e){const n=S(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Cs.getTargetData(r,e).next(s=>s?(i=s,v.resolve(i)):n.Cs.allocateTargetId(r).next(o=>(i=new Lr(e,o,0,r.currentSequenceNumber),n.Cs.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.Ui.get(r.targetId);return(null===i||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Ui=n.Ui.insert(r.targetId,r),n.qi.set(e,r.targetId)),r})}function Zs(t,e,n){return xm.apply(this,arguments)}function xm(){return xm=M(function*(t,e,n){const r=S(t),i=r.Ui.get(e),s=n?"readwrite":"readwrite-primary";try{n||(yield r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i)))}catch(o){if(!Fr(o))throw o;C("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.Ui=r.Ui.remove(e),r.qi.delete(i.target)}),xm.apply(this,arguments)}function zc(t,e,n){const r=S(t);let i=P.min(),s=z();return r.persistence.runTransaction("Execute query","readonly",o=>function(a,u,l){const c=S(a),d=c.qi.get(l);return void 0!==d?v.resolve(c.Ui.get(d)):c.Cs.getTargetData(u,l)}(r,o,jt(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Cs.getMatchingKeysForTargetId(o,a.targetId).next(u=>{s=u})}).next(()=>r.Li.getDocumentsMatchingQuery(o,e,n?i:P.min(),n?s:z())).next(a=>(function Ix(t,e,n){let r=P.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.Ki.set(e,r)}(r,function oS(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}(e),a),{documents:a,Hi:s})))}class Om{constructor(){this.activeTargetIds=Rc()}er(e){this.activeTargetIds=this.activeTargetIds.add(e)}nr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}tr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class xx{constructor(){this.Lr=new Om,this.Ur={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.Lr.er(e),this.Ur[e]||"not-current"}updateQueryState(e,n,r){this.Ur[e]=n}removeLocalQueryTarget(e){this.Lr.nr(e)}isLocalQueryTarget(e){return this.Lr.activeTargetIds.has(e)}clearQueryState(e){delete this.Ur[e]}getAllActiveQueryTargets(){return this.Lr.activeTargetIds}isActiveQueryTarget(e){return this.Lr.activeTargetIds.has(e)}start(){return this.Lr=new Om,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class WG{qr(e){}shutdown(){}}class Ax{constructor(){this.Kr=()=>this.Gr(),this.Qr=()=>this.jr(),this.Wr=[],this.zr()}qr(e){this.Wr.push(e)}shutdown(){window.removeEventListener("online",this.Kr),window.removeEventListener("offline",this.Qr)}zr(){window.addEventListener("online",this.Kr),window.addEventListener("offline",this.Qr)}Gr(){C("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.Wr)e(0)}jr(){C("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.Wr)e(1)}static C(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const KG={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};class QG{constructor(e){this.Hr=e.Hr,this.Jr=e.Jr}Yr(e){this.Xr=e}Zr(e){this.eo=e}onMessage(e){this.no=e}close(){this.Jr()}send(e){this.Hr(e)}so(){this.Xr()}io(e){this.eo(e)}ro(e){this.no(e)}}class YG extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.oo=(e.ssl?"https":"http")+"://"+e.host,this.uo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}co(e,n,r,i,s){const o=this.ao(e,n);C("RestConnection","Sending: ",o,r);const a={};return this.ho(a,i,s),this.lo(e,o,a,r).then(u=>(C("RestConnection","Received: ",u),u),u=>{throw ks("RestConnection",`${e} failed with error: `,u,"url: ",o,"request:",r),u})}fo(e,n,r,i,s,o){return this.co(e,n,r,i,s)}ho(e,n,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+Rs,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,s)=>e[s]=i),r&&r.headers.forEach((i,s)=>e[s]=i)}ao(e,n){return`${this.oo}/v1/${n}:${KG[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}lo(e,n,r,i){return new Promise((s,o)=>{const a=new QH;a.listenOnce(zH.COMPLETE,()=>{try{switch(a.getLastErrorCode()){case Yg.NO_ERROR:const l=a.getResponseJson();C("Connection","XHR received:",JSON.stringify(l)),s(l);break;case Yg.TIMEOUT:C("Connection",'RPC "'+e+'" timed out'),o(new E(_.DEADLINE_EXCEEDED,"Request time out"));break;case Yg.HTTP_ERROR:const c=a.getStatus();if(C("Connection",'RPC "'+e+'" failed with status:',c,"response text:",a.getResponseText()),c>0){const d=a.getResponseJson().error;if(d&&d.status&&d.message){const h=function(f){const p=f.toLowerCase().replace(/_/g,"-");return Object.values(_).indexOf(p)>=0?p:_.UNKNOWN}(d.status);o(new E(h,d.message))}else o(new E(_.UNKNOWN,"Server responded with status "+a.getStatus()))}else o(new E(_.UNAVAILABLE,"Connection failed."));break;default:F()}}finally{C("Connection",'RPC "'+e+'" completed.')}});const u=JSON.stringify(i);a.send(n,"POST",u,r,15)})}_o(e,n,r){const i=[this.oo,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=GH(),o=qH(),a={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(a.xmlHttpFactory=new KH({})),this.ho(a.initMessageHeaders,n,r),function gj(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(zl())}()||function vj(){return"object"==typeof navigator&&"ReactNative"===navigator.product}()||function _j(){return zl().indexOf("Electron/")>=0}()||function Dj(){const t=zl();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}()||function wj(){return zl().indexOf("MSAppHost/")>=0}()||function yj(){const t="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof t&&void 0!==t.id}()||(a.httpHeadersOverwriteParam="$httpHeaders");const u=i.join("");C("Connection","Creating WebChannel: "+u,a);const l=s.createWebChannel(u,a);let c=!1,d=!1;const h=new QG({Hr:p=>{d?C("Connection","Not sending because WebChannel is closed:",p):(c||(C("Connection","Opening WebChannel transport."),l.open(),c=!0),C("Connection","WebChannel sending:",p),l.send(p))},Jr:()=>l.close()}),f=(p,g,m)=>{p.listen(g,D=>{try{m(D)}catch(y){setTimeout(()=>{throw y},0)}})};return f(l,wc.EventType.OPEN,()=>{d||C("Connection","WebChannel transport opened.")}),f(l,wc.EventType.CLOSE,()=>{d||(d=!0,C("Connection","WebChannel transport closed"),h.io())}),f(l,wc.EventType.ERROR,p=>{d||(d=!0,ks("Connection","WebChannel transport errored:",p),h.io(new E(_.UNAVAILABLE,"The operation could not be completed")))}),f(l,wc.EventType.MESSAGE,p=>{var g;if(!d){const m=p.data[0];L(!!m);const D=m,y=D.error||(null===(g=D[0])||void 0===g?void 0:g.error);if(y){C("Connection","WebChannel received error:",y);const b=y.status;let O=function(W){const De=$e[W];if(void 0!==De)return ES(De)}(b),R=y.message;void 0===O&&(O=_.INTERNAL,R="Unknown error status: "+b+" with message "+y.message),d=!0,h.io(new E(O,R)),l.close()}else C("Connection","WebChannel received:",m),h.ro(m)}}),f(o,WH.STAT_EVENT,p=>{p.stat===AT.PROXY?C("Connection","Detected buffering proxy"):p.stat===AT.NOPROXY&&C("Connection","Detected no buffering proxy")}),setTimeout(()=>{h.so()},0),h}}function Qc(){return"undefined"!=typeof document?document:null}function iu(t){return new j$(t,!0)}class km{constructor(e,n,r=1e3,i=1.5,s=6e4){this.Hs=e,this.timerId=n,this.wo=r,this.mo=i,this.yo=s,this.po=0,this.Io=null,this.To=Date.now(),this.reset()}reset(){this.po=0}Eo(){this.po=this.yo}Ao(e){this.cancel();const n=Math.floor(this.po+this.Ro()),r=Math.max(0,Date.now()-this.To),i=Math.max(0,n-r);i>0&&C("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.po} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Io=this.Hs.enqueueAfterDelay(this.timerId,i,()=>(this.To=Date.now(),e())),this.po*=this.mo,this.po<this.wo&&(this.po=this.wo),this.po>this.yo&&(this.po=this.yo)}bo(){null!==this.Io&&(this.Io.skipDelay(),this.Io=null)}cancel(){null!==this.Io&&(this.Io.cancel(),this.Io=null)}Ro(){return(Math.random()-.5)*this.po}}class Nx{constructor(e,n,r,i,s,o,a,u){this.Hs=e,this.Po=r,this.vo=i,this.Vo=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=u,this.state=0,this.So=0,this.Do=null,this.Co=null,this.stream=null,this.xo=new km(e,n)}No(){return 1===this.state||5===this.state||this.ko()}ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Mo()}stop(){var e=this;return M(function*(){e.No()&&(yield e.close(0))})()}Oo(){this.state=0,this.xo.reset()}Fo(){this.ko()&&null===this.Do&&(this.Do=this.Hs.enqueueAfterDelay(this.Po,6e4,()=>this.$o()))}Bo(e){this.Lo(),this.stream.send(e)}$o(){var e=this;return M(function*(){if(e.ko())return e.close(0)})()}Lo(){this.Do&&(this.Do.cancel(),this.Do=null)}Uo(){this.Co&&(this.Co.cancel(),this.Co=null)}close(e,n){var r=this;return M(function*(){r.Lo(),r.Uo(),r.xo.cancel(),r.So++,4!==e?r.xo.reset():n&&n.code===_.RESOURCE_EXHAUSTED?(ke(n.toString()),ke("Using maximum backoff delay to prevent overloading the backend."),r.xo.Eo()):n&&n.code===_.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.qo(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.Zr(n)})()}qo(){}auth(){this.state=1;const e=this.Ko(this.So),n=this.So;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.So===n&&this.Go(r,i)},r=>{e(()=>{const i=new E(_.UNKNOWN,"Fetching auth token failed: "+r.message);return this.Qo(i)})})}Go(e,n){const r=this.Ko(this.So);this.stream=this.jo(e,n),this.stream.Yr(()=>{r(()=>(this.state=2,this.Co=this.Hs.enqueueAfterDelay(this.vo,1e4,()=>(this.ko()&&(this.state=3),Promise.resolve())),this.listener.Yr()))}),this.stream.Zr(i=>{r(()=>this.Qo(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Mo(){var e=this;this.state=5,this.xo.Ao(M(function*(){e.state=0,e.start()}))}Qo(e){return C("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Ko(e){return n=>{this.Hs.enqueueAndForget(()=>this.So===e?n():(C("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class ZG extends Nx{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.It=s}jo(e,n){return this.Vo._o("Listen",e,n)}onMessage(e){this.xo.reset();const n=function $$(t,e){let n;if("targetChange"in e){const r="NO_CHANGE"===(u=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===u?1:"REMOVE"===u?2:"CURRENT"===u?3:"RESET"===u?4:F(),i=e.targetChange.targetIds||[],s=function(u,l){return u.gt?(L(void 0===l||"string"==typeof l),Ke.fromBase64String(l||"")):(L(void 0===l||l instanceof Uint8Array),Ke.fromUint8Array(l||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(u){const l=void 0===u.code?_.UNKNOWN:ES(u.code);return new E(l,u.message||"")}(o);n=new SS(r,i,s,a||null)}else if("documentChange"in e){const r=e.documentChange,i=Ln(t,r.document.name),s=tt(r.document.updateTime),o=new dt({mapValue:{fields:r.document.fields}}),a=ve.newFoundDocument(i,s,o);n=new kc(r.targetIds||[],r.removedTargetIds||[],a.key,a)}else if("documentDelete"in e){const r=e.documentDelete,i=Ln(t,r.document),s=r.readTime?tt(r.readTime):P.min(),o=ve.newNoDocument(i,s);n=new kc([],r.removedTargetIds||[],o.key,o)}else if("documentRemove"in e){const r=e.documentRemove,i=Ln(t,r.document);n=new kc([],r.removedTargetIds||[],i,null)}else{if(!("filter"in e))return F();{const r=e.filter,s=new F$(r.count||0);n=new TS(r.targetId,s)}}var u;return n}(this.It,e),r=function(i){if(!("targetChange"in i))return P.min();const s=i.targetChange;return s.targetIds&&s.targetIds.length?P.min():s.readTime?tt(s.readTime):P.min()}(e);return this.listener.Wo(n,r)}zo(e){const n={};n.database=Ka(this.It),n.addTarget=function(i,s){let o;const a=s.target;return o=xc(a)?{documents:VS(i,a)}:{query:LS(i,a)},o.targetId=s.targetId,s.resumeToken.approximateByteSize()>0?o.resumeToken=NS(i,s.resumeToken):s.snapshotVersion.compareTo(P.min())>0&&(o.readTime=za(i,s.snapshotVersion.toTimestamp())),o}(this.It,e);const r=function q$(t,e){const n=function(r,i){switch(i){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return F()}}(0,e.purpose);return null==n?null:{"goog-listen-tags":n}}(0,e);r&&(n.labels=r),this.Bo(n)}Ho(e){const n={};n.database=Ka(this.It),n.removeTarget=e,this.Bo(n)}}class XG extends Nx{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.It=s,this.Jo=!1}get Yo(){return this.Jo}start(){this.Jo=!1,this.lastStreamToken=void 0,super.start()}qo(){this.Jo&&this.Xo([])}jo(e,n){return this.Vo._o("Write",e,n)}onMessage(e){if(L(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Jo){this.xo.reset();const n=function G$(t,e){return t&&t.length>0?(L(void 0!==e),t.map(n=>function(r,i){let s=tt(r.updateTime?r.updateTime:i);return s.isEqual(P.min())&&(s=tt(i)),new A$(s,r.transformResults||[])}(n,e))):[]}(e.writeResults,e.commitTime),r=tt(e.commitTime);return this.listener.Zo(r,n)}return L(!e.writeResults||0===e.writeResults.length),this.Jo=!0,this.listener.tu()}eu(){const e={};e.database=Ka(this.It),this.Bo(e)}Xo(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>function Qa(t,e){let n;if(e instanceof Gs)n={update:kS(t,e.key,e.value)};else if(e instanceof qs)n={delete:Wa(t,e.key)};else if(e instanceof ir)n={update:kS(t,e.key,e.data),updateMask:Y$(e.fieldMask)};else{if(!(e instanceof dm))return F();n={verify:Wa(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,s){const o=s.transform;if(o instanceof Hs)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(o instanceof bi)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:o.elements}};if(o instanceof Ii)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:o.elements}};if(o instanceof $s)return{fieldPath:s.field.canonicalString(),increment:o.yt};throw F()}(0,r))),e.precondition.isNone||(n.currentDocument=void 0!==(i=e.precondition).updateTime?{updateTime:U$(t,i.updateTime)}:void 0!==i.exists?{exists:i.exists}:F()),n;var i}(this.It,r))};this.Bo(n)}}class JG extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.Vo=r,this.It=i,this.nu=!1}su(){if(this.nu)throw new E(_.FAILED_PRECONDITION,"The client has already been terminated.")}co(e,n,r){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,s])=>this.Vo.co(e,n,r,i,s)).catch(i=>{throw"FirebaseError"===i.name?(i.code===_.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new E(_.UNKNOWN,i.toString())})}fo(e,n,r,i){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.Vo.fo(e,n,r,s,o,i)).catch(s=>{throw"FirebaseError"===s.name?(s.code===_.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new E(_.UNKNOWN,s.toString())})}terminate(){this.nu=!0}}class eq{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.iu=0,this.ru=null,this.ou=!0}uu(){0===this.iu&&(this.cu("Unknown"),this.ru=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.ru=null,this.au("Backend didn't respond within 10 seconds."),this.cu("Offline"),Promise.resolve())))}hu(e){"Online"===this.state?this.cu("Unknown"):(this.iu++,this.iu>=1&&(this.lu(),this.au(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.cu("Offline")))}set(e){this.lu(),this.iu=0,"Online"===e&&(this.ou=!1),this.cu(e)}cu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}au(e){const n=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ou?(ke(n),this.ou=!1):C("OnlineStateTracker",n)}lu(){null!==this.ru&&(this.ru.cancel(),this.ru=null)}}class tq{constructor(e,n,r,i,s){var o=this;this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.fu=[],this.du=new Map,this._u=new Set,this.wu=[],this.mu=s,this.mu.qr(a=>{r.enqueueAndForget(M(function*(){var u;Ur(o)&&(C("RemoteStore","Restarting streams for network reachability change."),yield(u=M(function*(l){const c=S(l);c._u.add(4),yield Xs(c),c.gu.set("Unknown"),c._u.delete(4),yield su(c)}),function(l){return u.apply(this,arguments)})(o))}))}),this.gu=new eq(r,i)}}function su(t){return Pm.apply(this,arguments)}function Pm(){return Pm=M(function*(t){if(Ur(t))for(const e of t.wu)yield e(!0)}),Pm.apply(this,arguments)}function Xs(t){return Vm.apply(this,arguments)}function Vm(){return Vm=M(function*(t){for(const e of t.wu)yield e(!1)}),Vm.apply(this,arguments)}function Yc(t,e){const n=S(t);n.du.has(e.targetId)||(n.du.set(e.targetId,e),jm(n)?Bm(n):eo(n).ko()&&Lm(n,e))}function ou(t,e){const n=S(t),r=eo(n);n.du.delete(e),r.ko()&&Fx(n,e),0===n.du.size&&(r.ko()?r.Fo():Ur(n)&&n.gu.set("Unknown"))}function Lm(t,e){t.yu.Ot(e.targetId),eo(t).zo(e)}function Fx(t,e){t.yu.Ot(e),eo(t).Ho(e)}function Bm(t){t.yu=new V$({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),se:e=>t.du.get(e)||null}),eo(t).start(),t.gu.uu()}function jm(t){return Ur(t)&&!eo(t).No()&&t.du.size>0}function Ur(t){return 0===S(t)._u.size}function Ox(t){t.yu=void 0}function nq(t){return Um.apply(this,arguments)}function Um(){return Um=M(function*(t){t.du.forEach((e,n)=>{Lm(t,e)})}),Um.apply(this,arguments)}function rq(t,e){return Hm.apply(this,arguments)}function Hm(){return Hm=M(function*(t,e){Ox(t),jm(t)?(t.gu.hu(e),Bm(t)):t.gu.set("Unknown")}),Hm.apply(this,arguments)}function iq(t,e,n){return $m.apply(this,arguments)}function $m(){return $m=M(function*(t,e,n){if(t.gu.set("Online"),e instanceof SS&&2===e.state&&e.cause)try{yield(r=M(function*(i,s){const o=s.cause;for(const a of s.targetIds)i.du.has(a)&&(yield i.remoteSyncer.rejectListen(a,o),i.du.delete(a),i.yu.removeTarget(a))}),function(i,s){return r.apply(this,arguments)})(t,e)}catch(r){C("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield Zc(t,r)}else if(e instanceof kc?t.yu.Gt(e):e instanceof TS?t.yu.Yt(e):t.yu.Wt(e),!n.isEqual(P.min()))try{const r=yield wx(t.localStore);n.compareTo(r)>=0&&(yield function(i,s){const o=i.yu.te(s);return o.targetChanges.forEach((a,u)=>{if(a.resumeToken.approximateByteSize()>0){const l=i.du.get(u);l&&i.du.set(u,l.withResumeToken(a.resumeToken,s))}}),o.targetMismatches.forEach(a=>{const u=i.du.get(a);if(!u)return;i.du.set(a,u.withResumeToken(Ke.EMPTY_BYTE_STRING,u.snapshotVersion)),Fx(i,a);const l=new Lr(u.target,a,1,u.sequenceNumber);Lm(i,l)}),i.remoteSyncer.applyRemoteEvent(o)}(t,n))}catch(r){C("RemoteStore","Failed to raise snapshot:",r),yield Zc(t,r)}var r}),$m.apply(this,arguments)}function Zc(t,e,n){return Gm.apply(this,arguments)}function Gm(){return Gm=M(function*(t,e,n){if(!Fr(e))throw e;t._u.add(1),yield Xs(t),t.gu.set("Offline"),n||(n=()=>wx(t.localStore)),t.asyncQueue.enqueueRetryable(M(function*(){C("RemoteStore","Retrying IndexedDB access"),yield n(),t._u.delete(1),yield su(t)}))}),Gm.apply(this,arguments)}function Rx(t,e){return e().catch(n=>Zc(t,n,e))}function Js(t){return qm.apply(this,arguments)}function qm(){return qm=M(function*(t){const e=S(t),n=Hr(e);let r=e.fu.length>0?e.fu[e.fu.length-1].batchId:-1;for(;sq(e);)try{const i=yield GG(e.localStore,r);if(null===i){0===e.fu.length&&n.Fo();break}r=i.batchId,oq(e,i)}catch(i){yield Zc(e,i)}kx(e)&&Px(e)}),qm.apply(this,arguments)}function sq(t){return Ur(t)&&t.fu.length<10}function oq(t,e){t.fu.push(e);const n=Hr(t);n.ko()&&n.Yo&&n.Xo(e.mutations)}function kx(t){return Ur(t)&&!Hr(t).No()&&t.fu.length>0}function Px(t){Hr(t).start()}function aq(t){return zm.apply(this,arguments)}function zm(){return zm=M(function*(t){Hr(t).eu()}),zm.apply(this,arguments)}function uq(t){return Wm.apply(this,arguments)}function Wm(){return Wm=M(function*(t){const e=Hr(t);for(const n of t.fu)e.Xo(n.mutations)}),Wm.apply(this,arguments)}function lq(t,e,n){return Km.apply(this,arguments)}function Km(){return Km=M(function*(t,e,n){const r=t.fu.shift(),i=ym.from(r,e,n);yield Rx(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),yield Js(t)}),Km.apply(this,arguments)}function cq(t,e){return Qm.apply(this,arguments)}function Qm(){return Qm=M(function*(t,e){var n;e&&Hr(t).Yo&&(yield(n=M(function*(r,i){if(wS(s=i.code)&&s!==_.ABORTED){const o=r.fu.shift();Hr(r).Oo(),yield Rx(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),yield Js(r)}var s}),function(r,i){return n.apply(this,arguments)})(t,e)),kx(t)&&Px(t)}),Qm.apply(this,arguments)}function Vx(t,e){return Ym.apply(this,arguments)}function Ym(){return Ym=M(function*(t,e){const n=S(t);n.asyncQueue.verifyOperationInProgress(),C("RemoteStore","RemoteStore received new credentials");const r=Ur(n);n._u.add(3),yield Xs(n),r&&n.gu.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n._u.delete(3),yield su(n)}),Ym.apply(this,arguments)}function Xm(){return Xm=M(function*(t,e){const n=S(t);e?(n._u.delete(2),yield su(n)):e||(n._u.add(2),yield Xs(n),n.gu.set("Unknown"))}),Xm.apply(this,arguments)}function eo(t){return t.pu||(t.pu=function(e,n,r){const i=S(e);return i.su(),new ZG(n,i.Vo,i.authCredentials,i.appCheckCredentials,i.It,r)}(t.datastore,t.asyncQueue,{Yr:nq.bind(null,t),Zr:rq.bind(null,t),Wo:iq.bind(null,t)}),t.wu.push(function(){var e=M(function*(n){n?(t.pu.Oo(),jm(t)?Bm(t):t.gu.set("Unknown")):(yield t.pu.stop(),Ox(t))});return function(n){return e.apply(this,arguments)}}())),t.pu}function Hr(t){return t.Iu||(t.Iu=function(e,n,r){const i=S(e);return i.su(),new XG(n,i.Vo,i.authCredentials,i.appCheckCredentials,i.It,r)}(t.datastore,t.asyncQueue,{Yr:aq.bind(null,t),Zr:cq.bind(null,t),tu:uq.bind(null,t),Zo:lq.bind(null,t)}),t.wu.push(function(){var e=M(function*(n){n?(t.Iu.Oo(),yield Js(t)):(yield t.Iu.stop(),t.fu.length>0&&(C("RemoteStore",`Stopping write stream with ${t.fu.length} pending writes`),t.fu=[]))});return function(n){return e.apply(this,arguments)}}())),t.Iu}class Jm{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new et,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,a=new Jm(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new E(_.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function to(t,e){if(ke("AsyncQueue",`${e}: ${t}`),Fr(t))return new E(_.UNAVAILABLE,`${e}: ${t}`);throw t}class no{constructor(e){this.comparator=e?(n,r)=>e(n,r)||T.comparator(n.key,r.key):(n,r)=>T.comparator(n.key,r.key),this.keyedMap=Ha(),this.sortedSet=new Ne(this.comparator)}static emptySet(e){return new no(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof no)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,n){const r=new no;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}class Lx{constructor(){this.Tu=new Ne(T.comparator)}track(e){const n=e.doc.key,r=this.Tu.get(n);r?0!==e.type&&3===r.type?this.Tu=this.Tu.insert(n,e):3===e.type&&1!==r.type?this.Tu=this.Tu.insert(n,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.Tu=this.Tu.insert(n,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.Tu=this.Tu.insert(n,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.Tu=this.Tu.remove(n):1===e.type&&2===r.type?this.Tu=this.Tu.insert(n,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.Tu=this.Tu.insert(n,{type:2,doc:e.doc}):F():this.Tu=this.Tu.insert(n,e)}Eu(){const e=[];return this.Tu.inorderTraversal((n,r)=>{e.push(r)}),e}}class ro{constructor(e,n,r,i,s,o,a,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=u}static fromInitialDocuments(e,n,r,i){const s=[];return n.forEach(o=>{s.push({type:0,doc:o})}),new ro(e,n,no.emptySet(n),s,r,i,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Ba(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}class dq{constructor(){this.Au=void 0,this.listeners=[]}}class hq{constructor(){this.queries=new Vr(e=>sS(e),Ba),this.onlineState="Unknown",this.Ru=new Set}}function ty(){return ty=M(function*(t,e){const n=S(t),r=e.query;let i=!1,s=n.queries.get(r);if(s||(i=!0,s=new dq),i)try{s.Au=yield n.onListen(r)}catch(o){const a=to(o,`Initialization of query '${lm(e.query)}' failed`);return void e.onError(a)}n.queries.set(r,s),s.listeners.push(e),e.bu(n.onlineState),s.Au&&e.Pu(s.Au)&&iy(n)}),ty.apply(this,arguments)}function ry(){return ry=M(function*(t,e){const n=S(t),r=e.query;let i=!1;const s=n.queries.get(r);if(s){const o=s.listeners.indexOf(e);o>=0&&(s.listeners.splice(o,1),i=0===s.listeners.length)}if(i)return n.queries.delete(r),n.onUnlisten(r)}),ry.apply(this,arguments)}function fq(t,e){const n=S(t);let r=!1;for(const i of e){const o=n.queries.get(i.query);if(o){for(const a of o.listeners)a.Pu(i)&&(r=!0);o.Au=i}}r&&iy(n)}function pq(t,e,n){const r=S(t),i=r.queries.get(e);if(i)for(const s of i.listeners)s.onError(n);r.queries.delete(e)}function iy(t){t.Ru.forEach(e=>{e.next()})}class sy{constructor(e,n,r){this.query=e,this.vu=n,this.Vu=!1,this.Su=null,this.onlineState="Unknown",this.options=r||{}}Pu(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)3!==i.type&&r.push(i);e=new ro(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}let n=!1;return this.Vu?this.Du(e)&&(this.vu.next(e),n=!0):this.Cu(e,this.onlineState)&&(this.xu(e),n=!0),this.Su=e,n}onError(e){this.vu.error(e)}bu(e){this.onlineState=e;let n=!1;return this.Su&&!this.Vu&&this.Cu(this.Su,e)&&(this.xu(this.Su),n=!0),n}Cu(e,n){return!e.fromCache||!(this.options.Nu&&"Offline"!==n||e.docs.isEmpty()&&"Offline"!==n)}Du(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Su&&this.Su.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}xu(e){e=ro.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.Vu=!0,this.vu.next(e)}}class Ux{constructor(e){this.key=e}}class Hx{constructor(e){this.key=e}}class $x{constructor(e,n){this.query=e,this.Lu=n,this.Uu=null,this.current=!1,this.qu=z(),this.mutatedKeys=z(),this.Ku=aS(e),this.Gu=new no(this.Ku)}get Qu(){return this.Lu}ju(e,n){const r=n?n.Wu:new Lx,i=n?n.Gu:this.Gu;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const u="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,l="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((c,d)=>{const h=i.get(c),f=cm(this.query,d)?d:null,p=!!h&&this.mutatedKeys.has(h.key),g=!!f&&(f.hasLocalMutations||this.mutatedKeys.has(f.key)&&f.hasCommittedMutations);let m=!1;h&&f?h.data.isEqual(f.data)?p!==g&&(r.track({type:3,doc:f}),m=!0):this.zu(h,f)||(r.track({type:2,doc:f}),m=!0,(u&&this.Ku(f,u)>0||l&&this.Ku(f,l)<0)&&(a=!0)):!h&&f?(r.track({type:0,doc:f}),m=!0):h&&!f&&(r.track({type:1,doc:h}),m=!0,(u||l)&&(a=!0)),m&&(f?(o=o.add(f),s=g?s.add(c):s.delete(c)):(o=o.delete(c),s=s.delete(c)))}),null!==this.query.limit)for(;o.size>this.query.limit;){const c="F"===this.query.limitType?o.last():o.first();o=o.delete(c.key),s=s.delete(c.key),r.track({type:1,doc:c})}return{Gu:o,Wu:r,$i:a,mutatedKeys:s}}zu(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r){const i=this.Gu;this.Gu=e.Gu,this.mutatedKeys=e.mutatedKeys;const s=e.Wu.Eu();s.sort((l,c)=>function(d,h){const f=p=>{switch(p){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return F()}};return f(d)-f(h)}(l.type,c.type)||this.Ku(l.doc,c.doc)),this.Hu(r);const o=n?this.Ju():[],a=0===this.qu.size&&this.current?1:0,u=a!==this.Uu;return this.Uu=a,0!==s.length||u?{snapshot:new ro(this.query,e.Gu,i,s,e.mutatedKeys,0===a,u,!1),Yu:o}:{Yu:o}}bu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Gu:this.Gu,Wu:new Lx,mutatedKeys:this.mutatedKeys,$i:!1},!1)):{Yu:[]}}Xu(e){return!this.Lu.has(e)&&!!this.Gu.has(e)&&!this.Gu.get(e).hasLocalMutations}Hu(e){e&&(e.addedDocuments.forEach(n=>this.Lu=this.Lu.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Lu=this.Lu.delete(n)),this.current=e.current)}Ju(){if(!this.current)return[];const e=this.qu;this.qu=z(),this.Gu.forEach(r=>{this.Xu(r.key)&&(this.qu=this.qu.add(r.key))});const n=[];return e.forEach(r=>{this.qu.has(r)||n.push(new Hx(r))}),this.qu.forEach(r=>{e.has(r)||n.push(new Ux(r))}),n}Zu(e){this.Lu=e.Hi,this.qu=z();const n=this.ju(e.documents);return this.applyChanges(n,!0)}tc(){return ro.fromInitialDocuments(this.query,this.Gu,this.mutatedKeys,0===this.Uu)}}class yq{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class vq{constructor(e){this.key=e,this.ec=!1}}class _q{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.nc={},this.sc=new Vr(a=>sS(a),Ba),this.ic=new Map,this.rc=new Set,this.oc=new Ne(T.comparator),this.uc=new Map,this.cc=new Em,this.ac={},this.hc=new Map,this.lc=Fi.vn(),this.onlineState="Unknown",this.fc=void 0}get isPrimaryClient(){return!0===this.fc}}function Dq(t,e){return oy.apply(this,arguments)}function oy(){return oy=M(function*(t,e){const n=Ay(t);let r,i;const s=n.sc.get(e);if(s)r=s.targetId,n.sharedClientState.addLocalQueryTarget(r),i=s.view.tc();else{const o=yield Ys(n.localStore,jt(e));n.isPrimaryClient&&Yc(n.remoteStore,o);const a=n.sharedClientState.addLocalQueryTarget(o.targetId);r=o.targetId,i=yield ay(n,e,r,"current"===a)}return i}),oy.apply(this,arguments)}function ay(t,e,n,r){return uy.apply(this,arguments)}function uy(){return uy=M(function*(t,e,n,r){t.dc=(c,d,h)=>{return(f=M(function*(p,g,m,D){let y=g.view.ju(m);y.$i&&(y=yield zc(p.localStore,g.query,!1).then(({documents:R})=>g.view.ju(R,y)));const b=D&&D.targetChanges.get(g.targetId),O=g.view.applyChanges(y,p.isPrimaryClient,b);return vy(p,g.targetId,O.Yu),O.snapshot}),function(p,g,m,D){return f.apply(this,arguments)})(t,c,d,h);var f};const i=yield zc(t.localStore,e,!0),s=new $x(e,i.Hi),o=s.ju(i.documents),a=qa.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==t.onlineState),u=s.applyChanges(o,t.isPrimaryClient,a);vy(t,n,u.Yu);const l=new yq(e,n,s);return t.sc.set(e,l),t.ic.has(n)?t.ic.get(n).push(e):t.ic.set(n,[e]),u.snapshot}),uy.apply(this,arguments)}function wq(t,e){return ly.apply(this,arguments)}function ly(){return ly=M(function*(t,e){const n=S(t),r=n.sc.get(e),i=n.ic.get(r.targetId);if(i.length>1)return n.ic.set(r.targetId,i.filter(s=>!Ba(s,e))),void n.sc.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||(yield Zs(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),ou(n.remoteStore,r.targetId),io(n,r.targetId)}).catch(Nr))):(io(n,r.targetId),yield Zs(n.localStore,r.targetId,!0))}),ly.apply(this,arguments)}function cy(){return cy=M(function*(t,e,n){const r=My(t);try{const i=yield function(s,o){const a=S(s),u=Se.now(),l=o.reduce((h,f)=>h.add(f.key),z());let c,d;return a.persistence.runTransaction("Locally write mutations","readwrite",h=>{let f=Ut(),p=z();return a.Gi.getEntries(h,l).next(g=>{f=g,f.forEach((m,D)=>{D.isValidDocument()||(p=p.add(m))})}).next(()=>a.localDocuments.getOverlayedDocuments(h,f)).next(g=>{c=g;const m=[];for(const D of o){const y=N$(D,c.get(D.key).overlayedDocument);null!=y&&m.push(new ir(D.key,y,YT(y.value.mapValue),be.exists(!0)))}return a.mutationQueue.addMutationBatch(h,u,m,o)}).next(g=>{d=g;const m=g.applyToLocalDocumentSet(c,p);return a.documentOverlayCache.saveOverlays(h,g.batchId,m)})}).then(()=>({batchId:d.batchId,changes:bS(c)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,o,a){let u=s.ac[s.currentUser.toKey()];u||(u=new Ne(j)),u=u.insert(o,a),s.ac[s.currentUser.toKey()]=u}(r,i.batchId,n),yield sr(r,i.changes),yield Js(r.remoteStore)}catch(i){const s=to(i,"Failed to persist write");n.reject(s)}}),cy.apply(this,arguments)}function Gx(t,e){return dy.apply(this,arguments)}function dy(){return dy=M(function*(t,e){const n=S(t);try{const r=yield $G(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.uc.get(s);o&&(L(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.ec=!0:i.modifiedDocuments.size>0?L(o.ec):i.removedDocuments.size>0&&(L(o.ec),o.ec=!1))}),yield sr(n,r,e)}catch(r){yield Nr(r)}}),dy.apply(this,arguments)}function qx(t,e,n){const r=S(t);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const i=[];r.sc.forEach((s,o)=>{const a=o.view.bu(e);a.snapshot&&i.push(a.snapshot)}),function(s,o){const a=S(s);a.onlineState=o;let u=!1;a.queries.forEach((l,c)=>{for(const d of c.listeners)d.bu(o)&&(u=!0)}),u&&iy(a)}(r.eventManager,e),i.length&&r.nc.Wo(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function Cq(t,e,n){return hy.apply(this,arguments)}function hy(){return hy=M(function*(t,e,n){const r=S(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.uc.get(e),s=i&&i.key;if(s){let o=new Ne(T.comparator);o=o.insert(s,ve.newNoDocument(s,P.min()));const a=z().add(s),u=new Ga(P.min(),new Map,new ce(j),o,a);yield Gx(r,u),r.oc=r.oc.remove(s),r.uc.delete(e),_y(r)}else yield Zs(r.localStore,e,!1).then(()=>io(r,e,n)).catch(Nr)}),hy.apply(this,arguments)}function bq(t,e){return fy.apply(this,arguments)}function fy(){return fy=M(function*(t,e){const n=S(t),r=e.batch.batchId;try{const i=yield HG(n.localStore,e);yy(n,r,null),my(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),yield sr(n,i)}catch(i){yield Nr(i)}}),fy.apply(this,arguments)}function Iq(t,e,n){return py.apply(this,arguments)}function py(){return py=M(function*(t,e,n){const r=S(t);try{const i=yield function(s,o){const a=S(s);return a.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let l;return a.mutationQueue.lookupMutationBatch(u,o).next(c=>(L(null!==c),l=c.keys(),a.mutationQueue.removeMutationBatch(u,c))).next(()=>a.mutationQueue.performConsistencyCheck(u)).next(()=>a.documentOverlayCache.removeOverlaysForBatchId(u,l,o)).next(()=>a.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,l)).next(()=>a.localDocuments.getDocuments(u,l))})}(r.localStore,e);yy(r,e,n),my(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),yield sr(r,i)}catch(i){yield Nr(i)}}),py.apply(this,arguments)}function my(t,e){(t.hc.get(e)||[]).forEach(n=>{n.resolve()}),t.hc.delete(e)}function yy(t,e,n){const r=S(t);let i=r.ac[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.ac[r.currentUser.toKey()]=i}}function io(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.ic.get(e))t.sc.delete(r),n&&t.nc._c(r,n);t.ic.delete(e),t.isPrimaryClient&&t.cc.ls(e).forEach(r=>{t.cc.containsKey(r)||zx(t,r)})}function zx(t,e){t.rc.delete(e.path.canonicalString());const n=t.oc.get(e);null!==n&&(ou(t.remoteStore,n),t.oc=t.oc.remove(e),t.uc.delete(n),_y(t))}function vy(t,e,n){for(const r of n)r instanceof Ux?(t.cc.addReference(r.key,e),Sq(t,r)):r instanceof Hx?(C("SyncEngine","Document no longer in limbo: "+r.key),t.cc.removeReference(r.key,e),t.cc.containsKey(r.key)||zx(t,r.key)):F()}function Sq(t,e){const n=e.key,r=n.path.canonicalString();t.oc.get(n)||t.rc.has(r)||(C("SyncEngine","New document in limbo: "+n),t.rc.add(r),_y(t))}function _y(t){for(;t.rc.size>0&&t.oc.size<t.maxConcurrentLimboResolutions;){const e=t.rc.values().next().value;t.rc.delete(e);const n=new T(ne.fromString(e)),r=t.lc.next();t.uc.set(r,new vq(n)),t.oc=t.oc.insert(n,r),Yc(t.remoteStore,new Lr(jt(js(n.path)),r,2,Bt.at))}}function sr(t,e,n){return Dy.apply(this,arguments)}function Dy(){return Dy=M(function*(t,e,n){const r=S(t),i=[],s=[],o=[];var a;r.sc.isEmpty()||(r.sc.forEach((a,u)=>{o.push(r.dc(u,e,n).then(l=>{if(l){r.isPrimaryClient&&r.sharedClientState.updateQueryState(u.targetId,l.fromCache?"not-current":"current"),i.push(l);const c=Tm.Ci(u.targetId,l);s.push(c)}}))}),yield Promise.all(o),r.nc.Wo(i),yield(a=M(function*(u,l){const c=S(u);try{yield c.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>v.forEach(l,h=>v.forEach(h.Si,f=>c.persistence.referenceDelegate.addReference(d,h.targetId,f)).next(()=>v.forEach(h.Di,f=>c.persistence.referenceDelegate.removeReference(d,h.targetId,f)))))}catch(d){if(!Fr(d))throw d;C("LocalStore","Failed to update sequence numbers: "+d)}for(const d of l){const h=d.targetId;if(!d.fromCache){const f=c.Ui.get(h),g=f.withLastLimboFreeSnapshotVersion(f.snapshotVersion);c.Ui=c.Ui.insert(h,g)}}}),function(u,l){return a.apply(this,arguments)})(r.localStore,s))}),Dy.apply(this,arguments)}function xq(t,e){return wy.apply(this,arguments)}function wy(){return wy=M(function*(t,e){const n=S(t);if(!n.currentUser.isEqual(e)){C("SyncEngine","User change. New user:",e.toKey());const r=yield Dx(n.localStore,e);n.currentUser=e,(i=n).hc.forEach(o=>{o.forEach(a=>{a.reject(new E(_.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),i.hc.clear(),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield sr(n,r.ji)}var i}),wy.apply(this,arguments)}function Aq(t,e){const n=S(t),r=n.uc.get(e);if(r&&r.ec)return z().add(r.key);{let i=z();const s=n.ic.get(e);if(!s)return i;for(const o of s){const a=n.sc.get(o);i=i.unionWith(a.view.Qu)}return i}}function Ay(t){const e=S(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=Gx.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Aq.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Cq.bind(null,e),e.nc.Wo=fq.bind(null,e.eventManager),e.nc._c=pq.bind(null,e.eventManager),e}function My(t){const e=S(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=bq.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Iq.bind(null,e),e}class Lq{constructor(){this.synchronizeTabs=!1}initialize(e){var n=this;return M(function*(){n.It=iu(e.databaseInfo.databaseId),n.sharedClientState=n.mc(e),n.persistence=n.gc(e),yield n.persistence.start(),n.localStore=n.yc(e),n.gcScheduler=n.Ic(e,n.localStore),n.indexBackfillerScheduler=n.Tc(e,n.localStore)})()}Ic(e,n){return null}Tc(e,n){return null}yc(e){return function _x(t,e,n,r){return new UG(t,e,n,r)}(this.persistence,new vx,e.initialUser,this.It)}gc(e){return new mx(Gc.Bs,this.It)}mc(e){return new xx}terminate(){var e=this;return M(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class Ny{initialize(e,n){var r=this;return M(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(n),r.remoteStore=r.createRemoteStore(n),r.eventManager=r.createEventManager(n),r.syncEngine=r.createSyncEngine(n,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=i=>qx(r.syncEngine,i,1),r.remoteStore.remoteSyncer.handleCredentialChange=xq.bind(null,r.syncEngine),yield function Zm(t,e){return Xm.apply(this,arguments)}(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new hq}createDatastore(e){const n=iu(e.databaseInfo.databaseId),r=new YG(e.databaseInfo);return new JG(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return n=this.localStore,r=this.datastore,i=e.asyncQueue,s=a=>qx(this.syncEngine,a,0),o=Ax.C()?new Ax:new WG,new tq(n,r,i,s,o);var n,r,i,s,o}createSyncEngine(e,n){return function(r,i,s,o,a,u,l){const c=new _q(r,i,s,o,a,u);return l&&(c.fc=!0),c}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return(e=M(function*(n){const r=S(n);C("RemoteStore","RemoteStore shutting down."),r._u.add(5),yield Xs(r),r.mu.shutdown(),r.gu.set("Unknown")}),function(n){return e.apply(this,arguments)})(this.remoteStore);var e}}class Xc{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ac(this.observer.next,e)}error(e){this.observer.error?this.Ac(this.observer.error,e):ke("Uncaught Error in snapshot listener:",e)}Rc(){this.muted=!0}Ac(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}class Gq{constructor(e,n,r,i){var s=this;this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Je.UNAUTHENTICATED,this.clientId=OT.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var o=M(function*(a){C("FirestoreClient","Received user=",a.uid),yield s.authCredentialListener(a),s.user=a});return function(a){return o.apply(this,arguments)}}()),this.appCheckCredentials.start(r,o=>(C("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}getConfiguration(){var e=this;return M(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new E(_.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const n=new et;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(M(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),n.resolve()}catch(r){const i=to(r,"Failed to shutdown persistence");n.reject(i)}})),n.promise}}function Yx(t,e){return Fy.apply(this,arguments)}function Fy(){return Fy=M(function*(t,e){t.asyncQueue.verifyOperationInProgress(),C("FirestoreClient","Initializing OfflineComponentProvider");const n=yield t.getConfiguration();yield e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(function(){var i=M(function*(s){r.isEqual(s)||(yield Dx(e.localStore,s),r=s)});return function(s){return i.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t.offlineComponents=e}),Fy.apply(this,arguments)}function Zx(t,e){return Oy.apply(this,arguments)}function Oy(){return Oy=M(function*(t,e){t.asyncQueue.verifyOperationInProgress();const n=yield Ry(t);C("FirestoreClient","Initializing OnlineComponentProvider");const r=yield t.getConfiguration();yield e.initialize(n,r),t.setCredentialChangeListener(i=>Vx(e.remoteStore,i)),t.setAppCheckTokenChangeListener((i,s)=>Vx(e.remoteStore,s)),t.onlineComponents=e}),Oy.apply(this,arguments)}function Ry(t){return ky.apply(this,arguments)}function ky(){return ky=M(function*(t){return t.offlineComponents||(C("FirestoreClient","Using default OfflineComponentProvider"),yield Yx(t,new Lq)),t.offlineComponents}),ky.apply(this,arguments)}function Jc(t){return Py.apply(this,arguments)}function Py(){return Py=M(function*(t){return t.onlineComponents||(C("FirestoreClient","Using default OnlineComponentProvider"),yield Zx(t,new Ny)),t.onlineComponents}),Py.apply(this,arguments)}function Ly(){return Ly=M(function*(t){const e=yield Jc(t),n=e.eventManager;return n.onListen=Dq.bind(null,e.syncEngine),n.onUnlisten=wq.bind(null,e.syncEngine),n}),Ly.apply(this,arguments)}function tA(t,e,n={}){const r=new et;return t.asyncQueue.enqueueAndForget(M(function*(){return function(i,s,o,a,u){const l=new Xc({next:d=>{s.enqueueAndForget(()=>function ny(t,e){return ry.apply(this,arguments)}(i,c)),d.fromCache&&"server"===a.source?u.reject(new E(_.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(d)},error:d=>u.reject(d)}),c=new sy(o,l,{includeMetadataChanges:!0,Nu:!0});return function ey(t,e){return ty.apply(this,arguments)}(i,c)}(yield function so(t){return Ly.apply(this,arguments)}(t),t.asyncQueue,e,n,r)})),r.promise}const nA=new Map;function By(t,e,n){if(!n)throw new E(_.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function rA(t){if(!T.isDocumentKey(t))throw new E(_.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function iA(t){if(T.isDocumentKey(t))throw new E(_.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function td(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";{const e=(n=t).constructor?n.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var n;return"function"==typeof t?"a function":F()}function ie(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new E(_.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=td(t);throw new E(_.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}class oA{constructor(e){var n;if(void 0===e.host){if(void 0!==e.ssl)throw new E(_.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(n=e.ssl)||void 0===n||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new E(_.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,function Jq(t,e,n,r){if(!0===e&&!0===r)throw new E(_.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class au{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new oA({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new E(_.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new E(_.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new oA(e),void 0!==e.credentials&&(this._authCredentials=function(n){if(!n)return new YH;switch(n.type){case"gapi":return new e$(n.client,n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new E(_.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const n=nA.get(e);n&&(C("ComponentProvider","Removing Datastore"),nA.delete(e),n.terminate())}(this),Promise.resolve()}}class Ve{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new jn(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Ve(this.firestore,e,this._key)}}class Dt{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Dt(this.firestore,e,this._query)}}class jn extends Dt{constructor(e,n,r){super(e,n,js(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ve(this.firestore,null,new T(e))}withConverter(e){return new jn(this.firestore,e,this._path)}}function nd(t,e,...n){if(t=Ir(t),1===arguments.length&&(e=OT.R()),By("doc","path",e),t instanceof au){const r=ne.fromString(e,...n);return rA(r),new Ve(t,null,new T(r))}{if(!(t instanceof Ve||t instanceof jn))throw new E(_.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(ne.fromString(e,...n));return rA(r),new Ve(t.firestore,t instanceof jn?t.converter:null,new T(r))}}class n3{constructor(){this.$c=Promise.resolve(),this.Bc=[],this.Lc=!1,this.Uc=[],this.qc=null,this.Kc=!1,this.Gc=!1,this.Qc=[],this.xo=new km(this,"async_queue_retry"),this.jc=()=>{const n=Qc();n&&C("AsyncQueue","Visibility state changed to "+n.visibilityState),this.xo.bo()};const e=Qc();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.jc)}get isShuttingDown(){return this.Lc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Wc(),this.zc(e)}enterRestrictedMode(e){if(!this.Lc){this.Lc=!0,this.Gc=e||!1;const n=Qc();n&&"function"==typeof n.removeEventListener&&n.removeEventListener("visibilitychange",this.jc)}}enqueue(e){if(this.Wc(),this.Lc)return new Promise(()=>{});const n=new et;return this.zc(()=>this.Lc&&this.Gc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Bc.push(e),this.Hc()))}Hc(){var e=this;return M(function*(){if(0!==e.Bc.length){try{yield e.Bc[0](),e.Bc.shift(),e.xo.reset()}catch(n){if(!Fr(n))throw n;C("AsyncQueue","Operation failed with retryable error: "+n)}e.Bc.length>0&&e.xo.Ao(()=>e.Hc())}})()}zc(e){const n=this.$c.then(()=>(this.Kc=!0,e().catch(r=>{throw this.qc=r,this.Kc=!1,ke("INTERNAL UNHANDLED ERROR: ",function(s){let o=s.message||"";return s.stack&&(o=s.stack.includes(s.message)?s.stack:s.message+"\n"+s.stack),o}(r)),r}).then(r=>(this.Kc=!1,r))));return this.$c=n,n}enqueueAfterDelay(e,n,r){this.Wc(),this.Qc.indexOf(e)>-1&&(n=0);const i=Jm.createAndSchedule(this,e,n,r,s=>this.Jc(s));return this.Uc.push(i),i}Wc(){this.qc&&F()}verifyOperationInProgress(){}Yc(){var e=this;return M(function*(){let n;do{n=e.$c,yield n}while(n!==e.$c)})()}Xc(e){for(const n of this.Uc)if(n.timerId===e)return!0;return!1}Zc(e){return this.Yc().then(()=>{this.Uc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Uc)if(n.skipDelay(),"all"!==e&&n.timerId===e)break;return this.Yc()})}ta(e){this.Qc.push(e)}Jc(e){const n=this.Uc.indexOf(e);this.Uc.splice(n,1)}}class Ie extends au{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new n3,this._persistenceKey=(null==i?void 0:i.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||aA(this),this._firestoreClient.terminate()}}function Qe(t){return t._firestoreClient||aA(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function aA(t){var e;const n=t._freezeSettings(),r=(s=(null===(e=t._app)||void 0===e?void 0:e.options.appId)||"",new h$(t._databaseId,s,t._persistenceKey,(a=n).host,a.ssl,a.experimentalForceLongPolling,a.experimentalAutoDetectLongPolling,a.useFetchStreams));var s,a;t._firestoreClient=new Gq(t._authCredentials,t._appCheckCredentials,t._queue,r)}class oo{constructor(...e){for(let n=0;n<e.length;++n)if(0===e[n].length)throw new E(_.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Pe(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Ri{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ri(Ke.fromBase64String(e))}catch(n){throw new E(_.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Ri(Ke.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Uy{constructor(e){this._methodName=e}}class Hy{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new E(_.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new E(_.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return j(this._lat,e._lat)||j(this._long,e._long)}}const s3=/^__.*__$/;class o3{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return null!==this.fieldMask?new ir(e,this.data,this.fieldMask,n,this.fieldTransforms):new Gs(e,this.data,n,this.fieldTransforms)}}class cA{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new ir(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function dA(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw F()}}class rd{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.It=r,this.ignoreUndefinedProperties=i,void 0===s&&this.ea(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get na(){return this.settings.na}sa(e){return new rd(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.It,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ia(e){var n;const r=null===(n=this.path)||void 0===n?void 0:n.child(e),i=this.sa({path:r,ra:!1});return i.oa(e),i}ua(e){var n;const r=null===(n=this.path)||void 0===n?void 0:n.child(e),i=this.sa({path:r,ra:!1});return i.ea(),i}ca(e){return this.sa({path:void 0,ra:!0})}aa(e){return sd(e,this.settings.methodName,this.settings.ha||!1,this.path,this.settings.la)}contains(e){return void 0!==this.fieldMask.find(n=>e.isPrefixOf(n))||void 0!==this.fieldTransforms.find(n=>e.isPrefixOf(n.field))}ea(){if(this.path)for(let e=0;e<this.path.length;e++)this.oa(this.path.get(e))}oa(e){if(0===e.length)throw this.aa("Document fields must not be empty");if(dA(this.na)&&s3.test(e))throw this.aa('Document fields cannot begin and end with "__"')}}class a3{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.It=r||iu(e)}fa(e,n,r,i=!1){return new rd({na:e,methodName:n,la:r,path:Pe.emptyPath(),ra:!1,ha:i},this.databaseId,this.It,this.ignoreUndefinedProperties)}}function ao(t){const e=t._freezeSettings(),n=iu(t._databaseId);return new a3(t._databaseId,!!e.ignoreUndefinedProperties,n)}function $y(t,e,n,r,i,s={}){const o=t.fa(s.merge||s.mergeFields?2:0,e,n,i);qy("Data must be an object, but it was:",o,r);const a=mA(r,o);let u,l;if(s.merge)u=new Xt(o.fieldMask),l=o.fieldTransforms;else if(s.mergeFields){const c=[];for(const d of s.mergeFields){const h=zy(e,d,n);if(!o.contains(h))throw new E(_.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);vA(c,h)||c.push(h)}u=new Xt(c),l=o.fieldTransforms.filter(d=>u.covers(d.field))}else u=null,l=o.fieldTransforms;return new o3(new dt(a),u,l)}class uu extends Uy{_toFieldTransform(e){if(2!==e.na)throw e.aa(1===e.na?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof uu}}function ki(t,e){if(yA(t=Ir(t)))return qy("Unsupported field value:",e,t),mA(t,e);if(t instanceof Uy)return function(n,r){if(!dA(r.na))throw r.aa(`${n._methodName}() can only be used with update() and set()`);if(!r.path)throw r.aa(`${n._methodName}() is not currently supported inside arrays`);const i=n._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(t,e),null;if(void 0===t&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.ra&&4!==e.na)throw e.aa("Nested arrays are not supported");return function(n,r){const i=[];let s=0;for(const o of n){let a=ki(o,r.ca(s));null==a&&(a={nullValue:"NULL_VALUE"}),i.push(a),s++}return{arrayValue:{values:i}}}(t,e)}return function(n,r){if(null===(n=Ir(n)))return{nullValue:"NULL_VALUE"};if("number"==typeof n)return cS(r.It,n);if("boolean"==typeof n)return{booleanValue:n};if("string"==typeof n)return{stringValue:n};if(n instanceof Date){const i=Se.fromDate(n);return{timestampValue:za(r.It,i)}}if(n instanceof Se){const i=new Se(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:za(r.It,i)}}if(n instanceof Hy)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof Ri)return{bytesValue:NS(r.It,n._byteString)};if(n instanceof Ve){const i=r.databaseId,s=n.firestore._databaseId;if(!s.isEqual(i))throw r.aa(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:hm(n.firestore._databaseId||r.databaseId,n._key.path)}}throw r.aa(`Unsupported field value: ${td(n)}`)}(t,e)}function mA(t,e){const n={};return jT(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):vi(t,(r,i)=>{const s=ki(i,e.ia(r));null!=s&&(n[r]=s)}),{mapValue:{fields:n}}}function yA(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof Se||t instanceof Hy||t instanceof Ri||t instanceof Ve||t instanceof Uy)}function qy(t,e,n){if(!yA(n)||"object"!=typeof(r=n)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const r=td(n);throw e.aa("an object"===r?t+" a custom object":t+" "+r)}var r}function zy(t,e,n){if((e=Ir(e))instanceof oo)return e._internalPath;if("string"==typeof e)return id(t,e);throw sd("Field path arguments must be of type string or ",t,!1,void 0,n)}const d3=new RegExp("[~\\*/\\[\\]]");function id(t,e,n){if(e.search(d3)>=0)throw sd(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new oo(...e.split("."))._internalPath}catch(r){throw sd(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function sd(t,e,n,r,i){const s=r&&!r.isEmpty(),o=void 0!==i;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let u="";return(s||o)&&(u+=" (found",s&&(u+=` in field ${r}`),o&&(u+=` in document ${i}`),u+=")"),new E(_.INVALID_ARGUMENT,a+t+u)}function vA(t,e){return t.some(n=>n.isEqual(e))}class Wy{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Ve(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new h3(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(od("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n)}}}class h3 extends Wy{data(){return super.data()}}function od(t,e){return"string"==typeof e?id(t,e):e instanceof oo?e._internalPath:e._delegate._internalPath}class Pi{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class uo extends Wy{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new ad(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(od("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class ad extends uo{data(e={}){return super.data(e)}}class lo{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Pi(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new ad(this._firestore,this._userDataWriter,r.key,r,new Pi(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new E(_.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){let s=0;return r._snapshot.docChanges.map(o=>({type:"added",doc:new ad(r._firestore,r._userDataWriter,o.doc.key,o.doc,new Pi(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:s++}))}{let s=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(o=>i||3!==o.type).map(o=>{const a=new ad(r._firestore,r._userDataWriter,o.doc.key,o.doc,new Pi(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter);let u=-1,l=-1;return 0!==o.type&&(u=s.indexOf(o.doc.key),s=s.delete(o.doc.key)),1!==o.type&&(s=s.add(o.doc),l=s.indexOf(o.doc.key)),{type:f3(o.type),doc:a,oldIndex:u,newIndex:l}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function f3(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return F()}}class Vi extends class y3{convertValue(e,n="none"){switch(wi(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Fe(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(_i(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw F()}}convertObject(e,n){const r={};return vi(e.fields,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertGeoPoint(e){return new Hy(Fe(e.latitude),Fe(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=HT(e);return null==r?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Fa(e));default:return null}}convertTimestamp(e){const n=Or(e);return new Se(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=ne.fromString(e);L(US(r));const i=new Di(r.get(1),r.get(3)),s=new T(r.popFirst(5));return i.isEqual(n)||ke(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ri(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Ve(this.firestore,null,n)}}function lu(t,e){return function(n,r){const i=new et;return n.asyncQueue.enqueueAndForget(M(function*(){return function Eq(t,e,n){return cy.apply(this,arguments)}(yield function Vy(t){return Jc(t).then(e=>e.syncEngine)}(n),r,i)})),i.promise}(Qe(t),e)}!function(t,e=!0){Rs="9.9.4",Ql(new la("firestore",(n,{instanceIdentifier:r,options:i})=>{const s=n.getProvider("app").getImmediate(),o=new Ie(new XH(n.getProvider("auth-internal")),new t$(n.getProvider("app-check-internal")),function(a,u){if(!Object.prototype.hasOwnProperty.apply(a.options,["projectId"]))throw new E(_.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Di(a.options.projectId,u)}(s,r),s);return i=Object.assign({useFetchStreams:e},i),o._setSettings(i),o},"PUBLIC").setMultipleInstances(!0)),xs(MT,"3.4.15",t),xs(MT,"3.4.15","esm2017")}();var b3={apiKey:"AIzaSyAD_RAFxHp7FgRzrfEfeANWW6KMNoAXt4o",authDomain:"contactus-76401.firebaseapp.com",projectId:"contactus-76401",storageBucket:"contactus-76401.appspot.com",messagingSenderId:"299501037721",appId:"1:299501037721:web:9f07e28ecc32960d3c7008"};let I3=(()=>{class t{constructor(){this.app_conf=b3,this.db=null,this.error_msg="Firebase configration not added, \ntry to replace default firebase cofigration with your application configration \nin file src/app/services/db.constants.ts","FIREBASE_API_KEY"===this.app_conf.apiKey?console.error(this.error_msg):(this.app=function MU(t,e={}){"object"!=typeof e&&(e={name:e});const n=Object.assign({name:tg,automaticDataCollectionEnabled:!1},e),r=n.name;if("string"!=typeof r||!r)throw Sr.create("bad-app-name",{appName:String(r)});const i=ci.get(r);if(i){if(Gp(t,i.options)&&Gp(n,i.config))return i;throw Sr.create("duplicate-app",{appName:r})}const s=new Vj(r);for(const a of Kl.values())s.addComponent(a);const o=new xU(t,n,s);return ci.set(r,o),o}(this.app_conf),this.db=function i3(t,e){const n="object"==typeof t?t:function NU(t=tg){const e=ci.get(t);if(!e)throw Sr.create("no-app",{appName:t});return e}(),r="string"==typeof t?t:e||"(default)";return function lI(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}(n,"firestore").getImmediate({identifier:r})}(this.app))}get(n){if(null==this.db)return this.returnerror(this.error_msg);let r=this;return new Promise(function(i,s){const o=function e3(t,e,...n){if(t=Ir(t),By("collection","path",e),t instanceof au){const r=ne.fromString(e,...n);return iA(r),new jn(t,null,r)}{if(!(t instanceof Ve||t instanceof jn))throw new E(_.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(ne.fromString(e,...n));return iA(r),new jn(t.firestore,null,r)}}(r.db,n);(function _3(t){t=ie(t,Dt);const e=ie(t.firestore,Ie),n=Qe(e),r=new Vi(e);return function _A(t){if("L"===t.limitType&&0===t.explicitOrderBy.length)throw new E(_.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}(t._query),tA(n,t._query).then(i=>new lo(e,r,t,i))})(o).then(u=>{let l=[];u.forEach(c=>{l.push(c.data())}),i(l)}).catch(u=>{s(u)})})}add(n,r,i){if(null==this.db)return this.returnerror(this.error_msg);let s=this;return new Promise(function(o,a){(function D3(t,e,n){t=ie(t,Ve);const r=ie(t.firestore,Ie),i=function Ky(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}(t.converter,e,n);return lu(r,[$y(ao(r),"setDoc",t._key,i,null!==t.converter,n).toMutation(t._key,be.none())])})(nd(s.db,n,r),i).then(u=>{o(!0)}).catch(u=>{a(u)})})}update(n,r,i){if(null==this.db)return this.returnerror(this.error_msg);let s=nd(this.db,n,r);return new Promise(function(o,a){(function w3(t,e,n,...r){t=ie(t,Ve);const i=ie(t.firestore,Ie),s=ao(i);let o;return o="string"==typeof(e=Ir(e))||e instanceof oo?function pA(t,e,n,r,i,s){const o=t.fa(1,e,n),a=[zy(e,r,n)],u=[i];if(s.length%2!=0)throw new E(_.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let h=0;h<s.length;h+=2)a.push(zy(e,s[h])),u.push(s[h+1]);const l=[],c=dt.empty();for(let h=a.length-1;h>=0;--h)if(!vA(l,a[h])){const f=a[h];let p=u[h];p=Ir(p);const g=o.ua(f);if(p instanceof uu)l.push(f);else{const m=ki(p,g);null!=m&&(l.push(f),c.set(f,m))}}const d=new Xt(l);return new cA(c,d,o.fieldTransforms)}(s,"updateDoc",t._key,e,n,r):function fA(t,e,n,r){const i=t.fa(1,e,n);qy("Data must be an object, but it was:",i,r);const s=[],o=dt.empty();vi(r,(u,l)=>{const c=id(e,u,n);l=Ir(l);const d=i.ua(c);if(l instanceof uu)s.push(c);else{const h=ki(l,d);null!=h&&(s.push(c),o.set(c,h))}});const a=new Xt(s);return new cA(o,a,i.fieldTransforms)}(s,"updateDoc",t._key,e),lu(i,[o.toMutation(t._key,be.exists(!0))])})(s,i).then(u=>{o(!0)}).catch(u=>{a(u)})})}delete(n,r){if(null==this.db)return this.returnerror(this.error_msg);let i=nd(this.db,n,r);return new Promise(function(s,o){(function E3(t){return lu(ie(t.firestore,Ie),[new qs(t._key,be.none())])})(i).then(a=>{s(!0)}).catch(a=>{o(a)})})}returnerror(n){return new Promise(function(r,i){i(n)})}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=_e({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function T3(t,e){if(1&t){const n=function Vw(){return w()}();Tt(0,"div",5)(1,"div",6)(2,"h1",7),ei(3,"Contact Us"),St(),Tt(4,"p"),ei(5,"Please use the form to contact us and we will get back to you as soon as possible"),St(),Tt(6,"div",8)(7,"div",9)(8,"input",10),Ze("ngModelChange",function(i){return Zr(n),_r().first_name=i}),St(),Tt(9,"input",11),Ze("ngModelChange",function(i){return Zr(n),_r().email=i}),St()(),Tt(10,"div",9)(11,"input",12),Ze("ngModelChange",function(i){return Zr(n),_r().last_name=i}),St(),Tt(12,"input",13),Ze("ngModelChange",function(i){return Zr(n),_r().phone=i}),St()(),Tt(13,"div",14)(14,"textarea",15),Ze("ngModelChange",function(i){return Zr(n),_r().message=i}),St()(),Tt(15,"div",16)(16,"button",17),Ze("click",function(){return Zr(n),_r().onSubmit()}),ei(17,"Submit"),St()()()()()}if(2&t){const n=_r();Wn(8),Zn("ngModel",n.first_name),Wn(1),Zn("ngModel",n.email),Wn(2),Zn("ngModel",n.last_name),Wn(1),Zn("ngModel",n.phone),Wn(2),Zn("ngModel",n.message)}}function S3(t,e){1&t&&(Tt(0,"div",18)(1,"div",19)(2,"h1",7),ei(3,"Thank you for contacting us."),St(),Tt(4,"p"),ei(5,"We will get back to you as soon as possible, it genrally takes 24-48 hrs to get in touch."),St()()())}let x3=(()=>{class t{constructor(){this.first_name="",this.last_name="",this.email="",this.phone="",this.message="",this.error="",this.MIN_LENGTH_MESSAGE=50,this.form_submitted=new ot,this.submitted=!1}ngOnInit(){}validate_email(n){return String(n).toLowerCase().match(/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/)}validate_f_name(){return!(this.first_name.length<3)}validate_l_name(){return!(this.last_name.length<3)}validate_phone(){return 10==this.phone.toString().length}validate_message(){return!(this.message.length<this.MIN_LENGTH_MESSAGE)}raise_error(n){this.error=n,setTimeout(()=>{this.error=""},1500)}validate_form(){return this.validate_f_name()?this.validate_email(this.email)?this.validate_l_name()?this.validate_phone()?this.validate_message()?{email:this.email,phone:this.phone,first_name:this.first_name,last_name:this.last_name,message:this.message}:(this.raise_error("Query should contain atleast 50 characters."),!1):(this.raise_error("Invalid Phone No"),!1):(this.raise_error("Invalid Last name"),!1):(this.raise_error("Invalid Email"),!1):(this.raise_error("Invalid First Name"),!1)}onSubmit(){let n=this.validate_form();n&&(this.form_submitted.emit(n),this.submitted=!0)}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=mu({type:t,selectors:[["app-contact-us-form"]],inputs:{MIN_LENGTH_MESSAGE:"MIN_LENGTH_MESSAGE"},outputs:{form_submitted:"form_submitted"},decls:6,vars:7,consts:[[1,"error"],[1,"bg-circle-top"],["class","contact-us-page",4,"ngIf"],["class","Form-Submitted",4,"ngIf"],[1,"bg-circle-bottom"],[1,"contact-us-page"],[1,"contact-us-form"],[1,"heading"],[1,"row"],[1,"col-md-5"],["type","text","placeholder","First Name",1,"form-control",3,"ngModel","ngModelChange"],["type","text","placeholder","Email",1,"form-control",3,"ngModel","ngModelChange"],["type","text","placeholder","Last Name",1,"form-control",3,"ngModel","ngModelChange"],["type","number","placeholder","Phone No","maxlength","10",1,"form-control",3,"ngModel","ngModelChange"],[1,"col-md-10"],["rows","3","placeholder","Let us know about the query and we will get back to you as soon as possible",1,"form-control",3,"ngModel","ngModelChange"],[1,"col-md-10",2,"padding-left","30px"],[1,"btn","btn-success",3,"click"],[1,"Form-Submitted"],[1,"Form-Submitted-Form"]],template:function(n,r){1&n&&(Tt(0,"div",0),ei(1),St(),rl(2,"div",1),rf(3,T3,18,5,"div",2),rf(4,S3,6,0,"div",3),rl(5,"div",4)),2&n&&($o("show",""!=r.error)("hide",""==r.error),Wn(1),gf(r.error),Wn(2),Zn("ngIf",!r.submitted),Wn(1),Zn("ngIf",r.submitted))},directives:[bC,kl,fb,Rp,kp,Hp],styles:['@import"https://fonts.googleapis.com/css2?family=Ubuntu:wght@300;400;700&display=swap";.bg-circle-bottom[_ngcontent-%COMP%]{background-color:#42f5ad;height:100vh;width:100vh;position:fixed;bottom:-50vh;left:-50vh;border-radius:100vh}.bg-circle-top[_ngcontent-%COMP%]{background-color:#42f5ad;height:100vh;width:100vh;position:fixed;top:-50vh;right:-50vh;border-radius:100vh}.contact-us-page[_ngcontent-%COMP%], .Form-Submitted[_ngcontent-%COMP%]{width:100%;height:100vh;background-color:#fafafa}.Form-Submitted-Form[_ngcontent-%COMP%]{width:60%;background-color:#fff;z-index:10000;box-shadow:0 2px 5px 1px #403c4329;position:fixed;top:15vh;left:20%;font-family:Ubuntu,sans-serif;padding:5%}.contact-us-form[_ngcontent-%COMP%]{width:60%;height:70vh;background-color:#fff;z-index:10000;box-shadow:0 2px 5px 1px #403c4329;position:fixed;top:15vh;left:20%;font-family:Ubuntu,sans-serif;padding:5%}.heading[_ngcontent-%COMP%]{font-size:3.5rem}.form-control[_ngcontent-%COMP%]{margin:20px!important}.error[_ngcontent-%COMP%]{width:40%;position:fixed;z-index:1000000000;background-color:#d9381e;text-align:center;bottom:10%;left:30%;padding:15px;color:#fff}.show[_ngcontent-%COMP%]{opacity:1}.hide[_ngcontent-%COMP%]{opacity:0}']}),t})(),A3=(()=>{class t{constructor(n){this.Firebase=n,this.title="contact-us-form"}onSubmitted(n){let r=(new Date).getTime().toString();this.Firebase.add("contact-us-form",r,n)}}return t.\u0275fac=function(n){return new(n||t)(I(I3))},t.\u0275cmp=mu({type:t,selectors:[["app-root"]],decls:1,vars:0,consts:[[3,"form_submitted"]],template:function(n,r){1&n&&(Tt(0,"app-contact-us-form",0),Ze("form_submitted",function(s){return r.onSubmitted(s)}),St())},directives:[x3],styles:[""]}),t})(),M3=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=dr({type:t,bootstrap:[A3]}),t.\u0275inj=Hn({providers:[],imports:[[$B,lj]]}),t})();(function MV(){tC=!1})(),UB().bootstrapModule(M3).catch(t=>console.error(t))}},se=>{se(se.s=869)}]);